"use strict";(self.webpackChunkappDemo=self.webpackChunkappDemo||[]).push([[179],{2313:(Dt,Pe,O)=>{O.d(Pe,{nm:()=>On});var D=O(8623),re=(O(4650),O(3692),O(259),O(5861)),he=O(2951),ye=O(4859),_e=O(2090),Te=O(1877);const te=new Map,ee={activated:!1,tokenObservers:[]},me={initialized:!1,enabled:!1};function Fe(we){return te.get(we)||Object.assign({},ee)}function Ge(){return me}const _t="https://content-firebaseappcheck.googleapis.com/v1",dt="exchangeDebugToken",bt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class oe{constructor(ce,pe,Qe,at,tn){if(this.operation=ce,this.retryPolicy=pe,this.getWaitDuration=Qe,this.lowerBound=at,this.upperBound=tn,this.pending=null,this.nextErrorWaitInterval=at,at>tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ce){var pe=this;return(0,re.Z)(function*(){pe.stop();try{pe.pending=new _e.BH,yield function ze(we){return new Promise(ce=>{setTimeout(ce,we)})}(pe.getNextRun(ce)),pe.pending.resolve(),yield pe.pending.promise,pe.pending=new _e.BH,yield pe.operation(),pe.pending.resolve(),yield pe.pending.promise,pe.process(!0).catch(()=>{})}catch(Qe){pe.retryPolicy(Qe)?pe.process(!1).catch(()=>{}):pe.stop()}})()}getNextRun(ce){if(ce)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const pe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),pe}}}const mt=new _e.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gn(we,ce){return Et.apply(this,arguments)}function Et(){return(Et=(0,re.Z)(function*({url:we,body:ce},pe){const Qe={"Content-Type":"application/json"},at=pe.getImmediate({optional:!0});if(at){const Yr=yield at.getHeartbeatsHeader();Yr&&(Qe["X-Firebase-Client"]=Yr)}const tn={method:"POST",body:JSON.stringify(ce),headers:Qe};let Pn,dn;try{Pn=yield fetch(we,tn)}catch(Yr){throw mt.create("fetch-network-error",{originalErrorMessage:Yr?.message})}if(200!==Pn.status)throw mt.create("fetch-status-error",{httpStatus:Pn.status});try{dn=yield Pn.json()}catch(Yr){throw mt.create("fetch-parse-error",{originalErrorMessage:Yr?.message})}const Rn=dn.ttl.match(/^([\d.]+)(s)$/);if(!Rn||!Rn[2]||isNaN(Number(Rn[1])))throw mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${dn.ttl}`});const Pi=1e3*Number(Rn[1]),gi=Date.now();return{token:dn.token,expireTimeMillis:gi+Pi,issuedAtTimeMillis:gi}})).apply(this,arguments)}const et="firebase-app-check-database",yt=1,ht="firebase-app-check-store";let pt=null;function pr(we,ce){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,re.Z)(function*(we,ce){const Qe=(yield function rn(){return pt||(pt=new Promise((we,ce)=>{try{const pe=indexedDB.open(et,yt);pe.onsuccess=Qe=>{we(Qe.target.result)},pe.onerror=Qe=>{var at;ce(mt.create("storage-open",{originalErrorMessage:null===(at=Qe.target.error)||void 0===at?void 0:at.message}))},pe.onupgradeneeded=Qe=>{0===Qe.oldVersion&&Qe.target.result.createObjectStore(ht,{keyPath:"compositeKey"})}}catch(pe){ce(mt.create("storage-open",{originalErrorMessage:pe?.message}))}}),pt)}()).transaction(ht,"readwrite"),tn=Qe.objectStore(ht).put({compositeKey:we,value:ce});return new Promise((Pn,dn)=>{tn.onsuccess=Rn=>{Pn()},Qe.onerror=Rn=>{var Pi;dn(mt.create("storage-set",{originalErrorMessage:null===(Pi=Rn.target.error)||void 0===Pi?void 0:Pi.message}))}})})).apply(this,arguments)}const Mr=new Te.Yd("@firebase/app-check");function Pr(we,ce){return(0,_e.hl)()?function vn(we,ce){return pr(function sr(we){return`${we.options.appId}-${we.name}`}(we),ce)}(we,ce).catch(pe=>{Mr.warn(`Failed to write token to IndexedDB. Error: ${pe}`)}):Promise.resolve()}function Wi(){return cr.apply(this,arguments)}function cr(){return(cr=(0,re.Z)(function*(){const we=Ge();if(we.enabled&&we.token)return we.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ii={error:"UNKNOWN_ERROR"};function bn(we){return _e.US.encodeString(JSON.stringify(we),!1)}function cn(we){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,re.Z)(function*(we,ce=!1){const pe=we.app;!function Gt(we){if(!Fe(we).activated)throw mt.create("use-before-activation",{appName:we.name})}(pe);const Qe=Fe(pe);let tn,at=Qe.token;if(at&&!zn(at)&&(Qe.token=void 0,at=void 0),!at){const Rn=yield Qe.cachedTokenPromise;Rn&&(zn(Rn)?at=Rn:yield Pr(pe,void 0))}if(!ce&&at&&zn(at))return{token:at.token};let dn,Pn=!1;if(function Qr(){return Ge().enabled}()){Qe.exchangeTokenPromise||(Qe.exchangeTokenPromise=gn(function Ye(we,ce){const{projectId:pe,appId:Qe,apiKey:at}=we.options;return{url:`${_t}/projects/${pe}/apps/${Qe}:${dt}?key=${at}`,body:{debug_token:ce}}}(pe,yield Wi()),we.heartbeatServiceProvider).finally(()=>{Qe.exchangeTokenPromise=void 0}),Pn=!0);const Rn=yield Qe.exchangeTokenPromise;return yield Pr(pe,Rn),Qe.token=Rn,{token:Rn.token}}try{Qe.exchangeTokenPromise||(Qe.exchangeTokenPromise=Qe.provider.getToken().finally(()=>{Qe.exchangeTokenPromise=void 0}),Pn=!0),at=yield Fe(pe).exchangeTokenPromise}catch(Rn){"appCheck/throttled"===Rn.code?Mr.warn(Rn.message):Mr.error(Rn),tn=Rn}return at?tn?dn=zn(at)?{token:at.token,internalError:tn}:Hn(tn):(dn={token:at.token},Qe.token=at,yield Pr(pe,at)):dn=Hn(tn),Pn&&function or(we,ce){const pe=Fe(we).tokenObservers;for(const Qe of pe)try{"EXTERNAL"===Qe.type&&null!=ce.error?Qe.error(ce.error):Qe.next(ce)}catch{}}(pe,dn),dn})).apply(this,arguments)}function Vt(we,ce){const pe=Fe(we),Qe=pe.tokenObservers.filter(at=>at.next!==ce);0===Qe.length&&pe.tokenRefresher&&pe.tokenRefresher.isRunning()&&pe.tokenRefresher.stop(),pe.tokenObservers=Qe}function Ur(we){const{app:ce}=we,pe=Fe(ce);let Qe=pe.tokenRefresher;Qe||(Qe=function mr(we){const{app:ce}=we;return new oe((0,re.Z)(function*(){let Qe;if(Qe=Fe(ce).token?yield cn(we,!0):yield cn(we),Qe.error)throw Qe.error;if(Qe.internalError)throw Qe.internalError}),()=>!0,()=>{const pe=Fe(ce);if(pe.token){let Qe=pe.token.issuedAtTimeMillis+.5*(pe.token.expireTimeMillis-pe.token.issuedAtTimeMillis)+3e5;return Qe=Math.min(Qe,pe.token.expireTimeMillis-3e5),Math.max(0,Qe-Date.now())}return 0},bt.RETRIAL_MIN_WAIT,bt.RETRIAL_MAX_WAIT)}(we),pe.tokenRefresher=Qe),!Qe.isRunning()&&pe.isTokenAutoRefreshEnabled&&Qe.start()}function zn(we){return we.expireTimeMillis-Date.now()>0}function Hn(we){return{token:bn(Ii),error:we}}class an{constructor(ce,pe){this.app=ce,this.heartbeatServiceProvider=pe}_delete(){const{tokenObservers:ce}=Fe(this.app);for(const pe of ce)Vt(this.app,pe.next);return Promise.resolve()}}const $t="app-check-internal";!function Xt(){(0,he.Xd)(new ye.wA("app-check",we=>function Dr(we,ce){return new an(we,ce)}(we.getProvider("app").getImmediate(),we.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((we,ce,pe)=>{we.getProvider($t).initialize()})),(0,he.Xd)(new ye.wA($t,we=>function _n(we){return{getToken:ce=>cn(we,ce),addTokenListener:ce=>function nr(we,ce,pe,Qe){const{app:at}=we,tn=Fe(at);if(tn.tokenObservers=[...tn.tokenObservers,{next:pe,error:Qe,type:ce}],tn.token&&zn(tn.token)){const dn=tn.token;Promise.resolve().then(()=>{pe({token:dn.token}),Ur(we)}).catch(()=>{})}tn.cachedTokenPromise.then(()=>Ur(we))}(we,"INTERNAL",ce),removeTokenListener:ce=>Vt(we.app,ce)}}(we.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,he.KN)("@firebase/app-check","0.7.0")}();class On{constructor(){return(0,D.vb)("app-check")}}typeof window<"u"&&window},3692:(Dt,Pe,O)=>{O.d(Pe,{Ot:()=>ie,ZF:()=>Me,hX:()=>Fe,z6:()=>re});var D=O(259),k=O(4650),q=O(8623);class ie{constructor(oe){return oe}}class re{constructor(){return(0,D.C6)()}}const _e=new k.OlP("angularfire2._apps"),Te={provide:ie,useFactory:function ye(be){return be&&1===be.length?be[0]:new ie((0,D.Mq)())},deps:[[new k.FiY,_e]]},te={provide:re,deps:[[new k.FiY,_e]]};function ee(be){return(oe,ze)=>{const ot=oe.runOutsideAngular(()=>be(ze));return new ie(ot)}}let me=(()=>{class be{constructor(ze){(0,D.KN)("angularfire",q.q4.full,"core"),(0,D.KN)("angularfire",q.q4.full,"app"),(0,D.KN)("angular",k.q4F.full,ze.toString())}}return be.\u0275fac=function(ze){return new(ze||be)(k.LFG(k.Lbi))},be.\u0275mod=k.oAB({type:be}),be.\u0275inj=k.cJS({providers:[Te,te]}),be})();function Fe(be,...oe){return{ngModule:me,providers:[{provide:_e,useFactory:ee(be),multi:!0,deps:[k.R0b,k.zs3,q.HU,...oe]}]}}const Me=(0,q.u3)(D.ZF,!0)},7158:(Dt,Pe,O)=>{O.d(Pe,{AR:()=>Me,Xb:()=>Ne,dh:()=>Te,e5:()=>Wi,gx:()=>_e,rh:()=>Ii,v0:()=>gn,w7:()=>cn});var D=O(8623),k=O(4650),q=O(3692),ie=O(259),re=O(2313),he=O(9165);class _e{constructor(an){return an}}class Te{constructor(){return(0,D.vb)("auth")}}const ee=new k.OlP("angularfire2.auth-instances");function Fe(Hn){return(an,Dr)=>{const _n=an.runOutsideAngular(()=>Hn(Dr));return new _e(_n)}}const $e={provide:Te,deps:[[new k.FiY,ee]]},Ge={provide:_e,useFactory:function me(Hn,an){const Dr=(0,D.JM)("auth",Hn,an);return Dr&&new _e(Dr)},deps:[[new k.FiY,ee],q.Ot]};let _t=(()=>{class Hn{constructor(){(0,ie.KN)("angularfire",D.q4.full,"auth")}}return Hn.\u0275fac=function(Dr){return new(Dr||Hn)},Hn.\u0275mod=k.oAB({type:Hn}),Hn.\u0275inj=k.cJS({providers:[Ge,$e]}),Hn})();function Me(Hn,...an){return{ngModule:_t,providers:[{provide:ee,useFactory:Fe(Hn),multi:!0,deps:[k.R0b,k.zs3,D.HU,q.z6,[new k.FiY,re.nm],...an]}]}}const Ne=(0,D.u3)(he.Xb,!0),gn=(0,D.u3)(he.v0,!0),Wi=(0,D.u3)(he.e5,!0),Ii=(0,D.u3)(he.rh,!0),cn=(0,D.u3)(he.w7,!0)},8623:(Dt,Pe,O)=>{O.d(Pe,{q4:()=>Aa,HU:()=>_c,vb:()=>yc,JM:()=>Pp,u3:()=>Gd});var D=O(4650),k=O(259),q=O(5861),ie=O(2951),re=O(2090),he=O(4859),ye=O(1877);const _e=(S,x)=>x.some(V=>S instanceof V);let Te,te;const Fe=new WeakMap,$e=new WeakMap,Ge=new WeakMap,_t=new WeakMap,Me=new WeakMap;let bt={get(S,x,V){if(S instanceof IDBTransaction){if("done"===x)return $e.get(S);if("objectStoreNames"===x)return S.objectStoreNames||Ge.get(S);if("store"===x)return V.objectStoreNames[1]?void 0:V.objectStore(V.objectStoreNames[0])}return ot(S[x])},set:(S,x,V)=>(S[x]=V,!0),has:(S,x)=>S instanceof IDBTransaction&&("done"===x||"store"===x)||x in S};function ze(S){return"function"==typeof S?function oe(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...x){return S.apply(mt(this),x),ot(Fe.get(this))}:function(...x){return ot(S.apply(mt(this),x))}:function(x,...V){const Q=S.call(mt(this),x,...V);return Ge.set(Q,x.sort?x.sort():[x]),ot(Q)}}(S):(S instanceof IDBTransaction&&function dt(S){if($e.has(S))return;const x=new Promise((V,Q)=>{const ge=()=>{S.removeEventListener("complete",De),S.removeEventListener("error",Ze),S.removeEventListener("abort",Ze)},De=()=>{V(),ge()},Ze=()=>{Q(S.error||new DOMException("AbortError","AbortError")),ge()};S.addEventListener("complete",De),S.addEventListener("error",Ze),S.addEventListener("abort",Ze)});$e.set(S,x)}(S),_e(S,function ee(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,bt):S)}function ot(S){if(S instanceof IDBRequest)return function gt(S){const x=new Promise((V,Q)=>{const ge=()=>{S.removeEventListener("success",De),S.removeEventListener("error",Ze)},De=()=>{V(ot(S.result)),ge()},Ze=()=>{Q(S.error),ge()};S.addEventListener("success",De),S.addEventListener("error",Ze)});return x.then(V=>{V instanceof IDBCursor&&Fe.set(V,S)}).catch(()=>{}),Me.set(x,S),x}(S);if(_t.has(S))return _t.get(S);const x=ze(S);return x!==S&&(_t.set(S,x),Me.set(x,S)),x}const mt=S=>Me.get(S);function Ne(S,x,{blocked:V,upgrade:Q,blocking:ge,terminated:De}={}){const Ze=indexedDB.open(S,x),Ut=ot(Ze);return Q&&Ze.addEventListener("upgradeneeded",xt=>{Q(ot(Ze.result),xt.oldVersion,xt.newVersion,ot(Ze.transaction))}),V&&Ze.addEventListener("blocked",()=>V()),Ut.then(xt=>{De&&xt.addEventListener("close",()=>De()),ge&&xt.addEventListener("versionchange",()=>ge())}).catch(()=>{}),Ut}function Gt(S,{blocked:x}={}){const V=indexedDB.deleteDatabase(S);return x&&V.addEventListener("blocked",()=>x()),ot(V).then(()=>{})}const mn=["get","getKey","getAll","getAllKeys","count"],At=["put","add","delete","clear"],gn=new Map;function Et(S,x){if(!(S instanceof IDBDatabase)||x in S||"string"!=typeof x)return;if(gn.get(x))return gn.get(x);const V=x.replace(/FromIndex$/,""),Q=x!==V,ge=At.includes(V);if(!(V in(Q?IDBIndex:IDBObjectStore).prototype)||!ge&&!mn.includes(V))return;const De=function(){var Ze=(0,q.Z)(function*(Ut,...xt){const Qt=this.transaction(Ut,ge?"readwrite":"readonly");let zt=Qt.store;return Q&&(zt=zt.index(xt.shift())),(yield Promise.all([zt[V](...xt),ge&&Qt.done]))[0]});return function(xt){return Ze.apply(this,arguments)}}();return gn.set(x,De),De}!function be(S){bt=S(bt)}(S=>({...S,get:(x,V,Q)=>Et(x,V)||S.get(x,V,Q),has:(x,V)=>!!Et(x,V)||S.has(x,V)}));const Le="@firebase/installations",je="0.6.4",Ye=1e4,et=`w:${je}`,yt="FIS_v2",ht="https://firebaseinstallations.googleapis.com/v1",Bt=36e5,vn=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function lt(S){return S instanceof re.ZR&&S.code.includes("request-failed")}function ln({projectId:S}){return`${ht}/projects/${S}/installations`}function pr(S){return{token:S.token,requestStatus:2,expiresIn:qr(S.expiresIn),creationTime:Date.now()}}function Wn(S,x){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,q.Z)(function*(S,x){const Q=(yield x.json()).error;return vn.create("request-failed",{requestName:S,serverCode:Q.code,serverMessage:Q.message,serverStatus:Q.status})})).apply(this,arguments)}function er({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function Mr(S){return ui.apply(this,arguments)}function ui(){return(ui=(0,q.Z)(function*(S){const x=yield S();return x.status>=500&&x.status<600?S():x})).apply(this,arguments)}function qr(S){return Number(S.replace("s","000"))}function Tt(){return(Tt=(0,q.Z)(function*({appConfig:S,heartbeatServiceProvider:x},{fid:V}){const Q=ln(S),ge=er(S),De=x.getImmediate({optional:!0});if(De){const Qt=yield De.getHeartbeatsHeader();Qt&&ge.append("x-firebase-client",Qt)}const Ut={method:"POST",headers:ge,body:JSON.stringify({fid:V,authVersion:yt,appId:S.appId,sdkVersion:et})},xt=yield Mr(()=>fetch(Q,Ut));if(xt.ok){const Qt=yield xt.json();return{fid:Qt.fid||V,registrationStatus:2,refreshToken:Qt.refreshToken,authToken:pr(Qt.authToken)}}throw yield Wn("Create Installation",xt)})).apply(this,arguments)}function Qr(S){return new Promise(x=>{setTimeout(x,S)})}const cr=/^[cdef][\w-]{21}$/,li="";function Ii(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const V=function bn(S){return function Wi(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return cr.test(V)?V:li}catch{return li}}function cn(S){return`${S.appName}!${S.appId}`}const Ft=new Map;function en(S,x){const V=cn(S);Vt(V,x),function Ur(S,x){const V=function or(){return!mr&&"BroadcastChannel"in self&&(mr=new BroadcastChannel("[Firebase] FID Change"),mr.onmessage=S=>{Vt(S.data.key,S.data.fid)}),mr}();V&&V.postMessage({key:S,fid:x}),function zn(){0===Ft.size&&mr&&(mr.close(),mr=null)}()}(V,x)}function Vt(S,x){const V=Ft.get(S);if(V)for(const Q of V)Q(x)}let mr=null;const Hn="firebase-installations-database",an=1,Dr="firebase-installations-store";let _n=null;function Sr(){return _n||(_n=Ne(Hn,an,{upgrade:(S,x)=>{0===x&&S.createObjectStore(Dr)}})),_n}function dr(S,x){return Br.apply(this,arguments)}function Br(){return(Br=(0,q.Z)(function*(S,x){const V=cn(S),ge=(yield Sr()).transaction(Dr,"readwrite"),De=ge.objectStore(Dr),Ze=yield De.get(V);return yield De.put(x,V),yield ge.done,(!Ze||Ze.fid!==x.fid)&&en(S,x.fid),x})).apply(this,arguments)}function Vr(S){return xr.apply(this,arguments)}function xr(){return(xr=(0,q.Z)(function*(S){const x=cn(S),Q=(yield Sr()).transaction(Dr,"readwrite");yield Q.objectStore(Dr).delete(x),yield Q.done})).apply(this,arguments)}function Hr(S,x){return $r.apply(this,arguments)}function $r(){return($r=(0,q.Z)(function*(S,x){const V=cn(S),ge=(yield Sr()).transaction(Dr,"readwrite"),De=ge.objectStore(Dr),Ze=yield De.get(V),Ut=x(Ze);return void 0===Ut?yield De.delete(V):yield De.put(Ut,V),yield ge.done,Ut&&(!Ze||Ze.fid!==Ut.fid)&&en(S,Ut.fid),Ut})).apply(this,arguments)}function ne(S){return X.apply(this,arguments)}function X(){return X=(0,q.Z)(function*(S){let x;const V=yield Hr(S.appConfig,Q=>{const ge=function le(S){return fe(S||{fid:Ii(),registrationStatus:0})}(Q),De=function We(S,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(vn.create("app-offline"))};const V={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},Q=function Ie(S,x){return tt.apply(this,arguments)}(S,V);return{installationEntry:V,registrationPromise:Q}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:ue(S)}:{installationEntry:x}}(S,ge);return x=De.registrationPromise,De.installationEntry});return V.fid===li?{installationEntry:yield x}:{installationEntry:V,registrationPromise:x}}),X.apply(this,arguments)}function tt(){return tt=(0,q.Z)(function*(S,x){try{const V=yield function Sn(S,x){return Tt.apply(this,arguments)}(S,x);return dr(S.appConfig,V)}catch(V){throw lt(V)&&409===V.customData.serverCode?yield Vr(S.appConfig):yield dr(S.appConfig,{fid:x.fid,registrationStatus:0}),V}}),tt.apply(this,arguments)}function ue(S){return se.apply(this,arguments)}function se(){return(se=(0,q.Z)(function*(S){let x=yield K(S.appConfig);for(;1===x.registrationStatus;)yield Qr(100),x=yield K(S.appConfig);if(0===x.registrationStatus){const{installationEntry:V,registrationPromise:Q}=yield ne(S);return Q||V}return x})).apply(this,arguments)}function K(S){return Hr(S,x=>{if(!x)throw vn.create("installation-not-found");return fe(x)})}function fe(S){return function Be(S){return 1===S.registrationStatus&&S.registrationTime+Ye<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Zt(){return(Zt=(0,q.Z)(function*({appConfig:S,heartbeatServiceProvider:x},V){const Q=function xn(S,{fid:x}){return`${ln(S)}/${x}/authTokens:generate`}(S,V),ge=function sr(S,{refreshToken:x}){const V=er(S);return V.append("Authorization",function Pr(S){return`${yt} ${S}`}(x)),V}(S,V),De=x.getImmediate({optional:!0});if(De){const Qt=yield De.getHeartbeatsHeader();Qt&&ge.append("x-firebase-client",Qt)}const Ut={method:"POST",headers:ge,body:JSON.stringify({installation:{sdkVersion:et,appId:S.appId}})},xt=yield Mr(()=>fetch(Q,Ut));if(xt.ok)return pr(yield xt.json());throw yield Wn("Generate Auth Token",xt)})).apply(this,arguments)}function Qn(S){return Mi.apply(this,arguments)}function Mi(){return Mi=(0,q.Z)(function*(S,x=!1){let V;const Q=yield Hr(S.appConfig,De=>{if(!Kt(De))throw vn.create("not-registered");const Ze=De.authToken;if(!x&&function jt(S){return 2===S.requestStatus&&!function On(S){const x=Date.now();return x<S.creationTime||S.creationTime+S.expiresIn<x+Bt}(S)}(Ze))return De;if(1===Ze.requestStatus)return V=function Ue(S,x){return Ce.apply(this,arguments)}(S,x),De;{if(!navigator.onLine)throw vn.create("app-offline");const Ut=function An(S){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:x})}(De);return V=function $t(S,x){return Xt.apply(this,arguments)}(S,Ut),Ut}});return V?yield V:Q.authToken}),Mi.apply(this,arguments)}function Ce(){return(Ce=(0,q.Z)(function*(S,x){let V=yield ut(S.appConfig);for(;1===V.authToken.requestStatus;)yield Qr(100),V=yield ut(S.appConfig);const Q=V.authToken;return 0===Q.requestStatus?Qn(S,x):Q})).apply(this,arguments)}function ut(S){return Hr(S,x=>{if(!Kt(x))throw vn.create("not-registered");return function yr(S){return 1===S.requestStatus&&S.requestTime+Ye<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function Xt(){return Xt=(0,q.Z)(function*(S,x){try{const V=yield function nt(S,x){return Zt.apply(this,arguments)}(S,x),Q=Object.assign(Object.assign({},x),{authToken:V});return yield dr(S.appConfig,Q),V}catch(V){if(!lt(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const Q=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield dr(S.appConfig,Q)}else yield Vr(S.appConfig);throw V}}),Xt.apply(this,arguments)}function Kt(S){return void 0!==S&&2===S.registrationStatus}function jo(){return(jo=(0,q.Z)(function*(S){const x=S,{installationEntry:V,registrationPromise:Q}=yield ne(x);return Q?Q.catch(console.error):Qn(x).catch(console.error),V.fid})).apply(this,arguments)}function so(){return so=(0,q.Z)(function*(S,x=!1){const V=S;return yield function _r(S){return It.apply(this,arguments)}(V),(yield Qn(V,x)).token}),so.apply(this,arguments)}function It(){return(It=(0,q.Z)(function*(S){const{registrationPromise:x}=yield ne(S);x&&(yield x)})).apply(this,arguments)}function ce(S){return vn.create("missing-app-config-values",{valueName:S})}const pe="installations",at=S=>{const x=S.getProvider("app").getImmediate(),V=function we(S){if(!S||!S.options)throw ce("App Configuration");if(!S.name)throw ce("App Name");const x=["projectId","apiKey","appId"];for(const V of x)if(!S.options[V])throw ce(V);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(x);return{app:x,appConfig:V,heartbeatServiceProvider:(0,ie.qX)(x,"heartbeat"),_delete:()=>Promise.resolve()}},tn=S=>{const x=S.getProvider("app").getImmediate(),V=(0,ie.qX)(x,pe).getImmediate();return{getId:()=>function ti(S){return jo.apply(this,arguments)}(V),getToken:ge=>function Hu(S){return so.apply(this,arguments)}(V,ge)}};(function Pn(){(0,ie.Xd)(new he.wA(pe,at,"PUBLIC")),(0,ie.Xd)(new he.wA("installations-internal",tn,"PRIVATE"))})(),(0,ie.KN)(Le,je),(0,ie.KN)(Le,je,"esm2017");const dn="@firebase/remote-config",Ti=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ol{constructor(x,V,Q,ge){this.client=x,this.storage=V,this.storageCache=Q,this.logger=ge}isCachedDataFresh(x,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Q=Date.now()-V,ge=Q<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Q}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${ge}.`),ge}fetch(x){var V=this;return(0,q.Z)(function*(){const[Q,ge]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(ge&&V.isCachedDataFresh(x.cacheMaxAgeMillis,Q))return ge;x.eTag=ge&&ge.eTag;const De=yield V.client.fetch(x),Ze=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===De.status&&Ze.push(V.storage.setLastSuccessfulFetchResponse(De)),yield Promise.all(Ze),De})()}}function Ua(S=navigator){return S.languages&&S.languages[0]||S.language}class Gu{constructor(x,V,Q,ge,De,Ze){this.firebaseInstallations=x,this.sdkVersion=V,this.namespace=Q,this.projectId=ge,this.apiKey=De,this.appId=Ze}fetch(x){var V=this;return(0,q.Z)(function*(){const[Q,ge]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),Ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,Ut={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},xt={sdk_version:V.sdkVersion,app_instance_id:Q,app_instance_id_token:ge,app_id:V.appId,language_code:Ua()},Qt={method:"POST",headers:Ut,body:JSON.stringify(xt)},zt=fetch(Ze,Qt),Tn=new Promise((ps,pn)=>{x.signal.addEventListener(()=>{const Wd=new Error("The operation was aborted.");Wd.name="AbortError",pn(Wd)})});let Ls;try{yield Promise.race([zt,Tn]),Ls=yield zt}catch(ps){let pn="fetch-client-network";throw"AbortError"===ps?.name&&(pn="fetch-timeout"),Ti.create(pn,{originalErrorMessage:ps?.message})}let Ir=Ls.status;const Ma=Ls.headers.get("ETag")||void 0;let ou,Zs;if(200===Ls.status){let ps;try{ps=yield Ls.json()}catch(pn){throw Ti.create("fetch-client-parse",{originalErrorMessage:pn?.message})}ou=ps.entries,Zs=ps.state}if("INSTANCE_STATE_UNSPECIFIED"===Zs?Ir=500:"NO_CHANGE"===Zs?Ir=304:("NO_TEMPLATE"===Zs||"EMPTY_CONFIG"===Zs)&&(ou={}),304!==Ir&&200!==Ir)throw Ti.create("fetch-status",{httpStatus:Ir});return{status:Ir,eTag:Ma,config:ou}})()}}class Va{constructor(x,V){this.client=x,this.storage=V}fetch(x){var V=this;return(0,q.Z)(function*(){const Q=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(x,Q)})()}attemptFetch(x,{throttleEndTimeMillis:V,backoffCount:Q}){var ge=this;return(0,q.Z)(function*(){yield function Ba(S,x){return new Promise((V,Q)=>{const ge=Math.max(x-Date.now(),0),De=setTimeout(V,ge);S.addEventListener(()=>{clearTimeout(De),Q(Ti.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,V);try{const De=yield ge.client.fetch(x);return yield ge.storage.deleteThrottleMetadata(),De}catch(De){if(!function kl(S){if(!(S instanceof re.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}(De))throw De;const Ze={throttleEndTimeMillis:Date.now()+(0,re.$s)(Q),backoffCount:Q+1};return yield ge.storage.setThrottleMetadata(Ze),ge.attemptFetch(x,Ze)}})()}}class Go{constructor(x,V,Q,ge,De){this.app=x,this._client=V,this._storageCache=Q,this._storage=ge,this._logger=De,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wo(S,x){const V=S.target.error||void 0;return Ti.create(x,{originalErrorMessage:V&&V?.message})}const Ko="app_namespace_store";class Ku{constructor(x,V,Q,ge=function za(){return new Promise((S,x)=>{try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=Q=>{x(Wo(Q,"storage-open"))},V.onsuccess=Q=>{S(Q.target.result)},V.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(Ko,{keyPath:"compositeKey"})}}catch(V){x(Ti.create("storage-open",{originalErrorMessage:V?.message}))}})}()){this.appId=x,this.appName=V,this.namespace=Q,this.openDbPromise=ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var V=this;return(0,q.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((ge,De)=>{const Ut=Q.transaction([Ko],"readonly").objectStore(Ko),xt=V.createCompositeKey(x);try{const Qt=Ut.get(xt);Qt.onerror=zt=>{De(Wo(zt,"storage-get"))},Qt.onsuccess=zt=>{const Tn=zt.target.result;ge(Tn?Tn.value:void 0)}}catch(Qt){De(Ti.create("storage-get",{originalErrorMessage:Qt?.message}))}})})()}set(x,V){var Q=this;return(0,q.Z)(function*(){const ge=yield Q.openDbPromise;return new Promise((De,Ze)=>{const xt=ge.transaction([Ko],"readwrite").objectStore(Ko),Qt=Q.createCompositeKey(x);try{const zt=xt.put({compositeKey:Qt,value:V});zt.onerror=Tn=>{Ze(Wo(Tn,"storage-set"))},zt.onsuccess=()=>{De()}}catch(zt){Ze(Ti.create("storage-set",{originalErrorMessage:zt?.message}))}})})()}delete(x){var V=this;return(0,q.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((ge,De)=>{const Ut=Q.transaction([Ko],"readwrite").objectStore(Ko),xt=V.createCompositeKey(x);try{const Qt=Ut.delete(xt);Qt.onerror=zt=>{De(Wo(zt,"storage-delete"))},Qt.onsuccess=()=>{ge()}}catch(Qt){De(Ti.create("storage-delete",{originalErrorMessage:Qt?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class uo{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,q.Z)(function*(){const V=x.storage.getLastFetchStatus(),Q=x.storage.getLastSuccessfulFetchTimestampMillis(),ge=x.storage.getActiveConfig(),De=yield V;De&&(x.lastFetchStatus=De);const Ze=yield Q;Ze&&(x.lastSuccessfulFetchTimestampMillis=Ze);const Ut=yield ge;Ut&&(x.activeConfig=Ut)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Ha(){return ji.apply(this,arguments)}function ji(){return(ji=(0,q.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function dc(){(0,ie.Xd)(new he.wA("remote-config",function S(x,{instanceIdentifier:V}){const Q=x.getProvider("app").getImmediate(),ge=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ti.create("registration-window");if(!(0,re.hl)())throw Ti.create("indexed-db-unavailable");const{projectId:De,apiKey:Ze,appId:Ut}=Q.options;if(!De)throw Ti.create("registration-project-id");if(!Ze)throw Ti.create("registration-api-key");if(!Ut)throw Ti.create("registration-app-id");const xt=new Ku(Ut,Q.name,V=V||"firebase"),Qt=new uo(xt),zt=new ye.Yd(dn);zt.logLevel=ye.in.ERROR;const Tn=new Gu(ge,ie.Jn,V,De,Ze,Ut),Ls=new Va(Tn,xt),Ir=new Ol(Ls,xt,Qt,zt),Ma=new Go(Q,Ir,Qt,xt,zt);return function Ci(S){const x=(0,re.m9)(S);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Ma),Ma},"PUBLIC").setMultipleInstances(!0)),(0,ie.KN)(dn,"0.4.4"),(0,ie.KN)(dn,"0.4.4","esm2017")}();const yu="/firebase-messaging-sw.js",us="/firebase-cloud-messaging-push-scope",qo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qu="https://fcmregistrations.googleapis.com/v1",hc="google.c.a.c_id",Qo="google.c.a.c_l",Ga="google.c.a.ts",br="google.c.a.e";var Yo=(()=>{return(S=Yo||(Yo={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Yo;var S})();function ur(S){const x=new Uint8Array(S);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ss(S){const V=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Q=atob(V),ge=new Uint8Array(Q.length);for(let De=0;De<Q.length;++De)ge[De]=Q.charCodeAt(De);return ge}const ri="fcm_token_details_db",rr=5,bs="fcm_token_object_Store";function Gs(){return Gs=(0,q.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(De=>De.name).includes(ri))return null;let x=null;return(yield Ne(ri,rr,{upgrade:(Q=(0,q.Z)(function*(ge,De,Ze,Ut){var xt;if(De<2||!ge.objectStoreNames.contains(bs))return;const Qt=Ut.objectStore(bs),zt=yield Qt.index("fcmSenderId").get(S);if(yield Qt.clear(),zt)if(2===De){const Tn=zt;if(!Tn.auth||!Tn.p256dh||!Tn.endpoint)return;x={token:Tn.fcmToken,createTime:null!==(xt=Tn.createTime)&&void 0!==xt?xt:Date.now(),subscriptionOptions:{auth:Tn.auth,p256dh:Tn.p256dh,endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:"string"==typeof Tn.vapidKey?Tn.vapidKey:ur(Tn.vapidKey)}}}else if(3===De){const Tn=zt;x={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:ur(Tn.auth),p256dh:ur(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:ur(Tn.vapidKey)}}}else if(4===De){const Tn=zt;x={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:ur(Tn.auth),p256dh:ur(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:ur(Tn.vapidKey)}}}}),function(De,Ze,Ut,xt){return Q.apply(this,arguments)})})).close(),yield Gt(ri),yield Gt("fcm_vapid_details_db"),yield Gt("undefined"),function ci(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:x}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var Q}),Gs.apply(this,arguments)}const bo="firebase-messaging-database",Ao=1,ms="firebase-messaging-store";let Di=null;function Ws(){return Di||(Di=Ne(bo,Ao,{upgrade:(S,x)=>{0===x&&S.createObjectStore(ms)}})),Di}function lo(S){return fn.apply(this,arguments)}function fn(){return fn=(0,q.Z)(function*(S){const x=ya(S),Q=yield(yield Ws()).transaction(ms).objectStore(ms).get(x);if(Q)return Q;{const ge=yield function Wa(S){return Gs.apply(this,arguments)}(S.appConfig.senderId);if(ge)return yield ys(S,ge),ge}}),fn.apply(this,arguments)}function ys(S,x){return ma.apply(this,arguments)}function ma(){return(ma=(0,q.Z)(function*(S,x){const V=ya(S),ge=(yield Ws()).transaction(ms,"readwrite");return yield ge.objectStore(ms).put(x,V),yield ge.done,x})).apply(this,arguments)}function _u(){return(_u=(0,q.Z)(function*(S){const x=ya(S),Q=(yield Ws()).transaction(ms,"readwrite");yield Q.objectStore(ms).delete(x),yield Q.done})).apply(this,arguments)}function ya({appConfig:S}){return S.appId}const ii=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vu(S,x){return He.apply(this,arguments)}function He(){return(He=(0,q.Z)(function*(S,x){const V=yield ho(S),Q=_a(x),ge={method:"POST",headers:V,body:JSON.stringify(Q)};let De;try{De=yield(yield fetch(Yu(S.appConfig),ge)).json()}catch(Ze){throw ii.create("token-subscribe-failed",{errorInfo:Ze?.toString()})}if(De.error)throw ii.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw ii.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function co(){return(co=(0,q.Z)(function*(S,x){const V=yield ho(S),Q=_a(x.subscriptionOptions),ge={method:"PATCH",headers:V,body:JSON.stringify(Q)};let De;try{De=yield(yield fetch(`${Yu(S.appConfig)}/${x.token}`,ge)).json()}catch(Ze){throw ii.create("token-update-failed",{errorInfo:Ze?.toString()})}if(De.error)throw ii.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw ii.create("token-update-no-token");return De.token})).apply(this,arguments)}function Ro(S,x){return lr.apply(this,arguments)}function lr(){return(lr=(0,q.Z)(function*(S,x){const Q={method:"DELETE",headers:yield ho(S)};try{const De=yield(yield fetch(`${Yu(S.appConfig)}/${x}`,Q)).json();if(De.error)throw ii.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(ge){throw ii.create("token-unsubscribe-failed",{errorInfo:ge?.toString()})}})).apply(this,arguments)}function Yu({projectId:S}){return`${qu}/projects/${S}/registrations`}function ho(S){return _s.apply(this,arguments)}function _s(){return(_s=(0,q.Z)(function*({appConfig:S,installations:x}){const V=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function _a({p256dh:S,auth:x,endpoint:V,vapidKey:Q}){const ge={web:{endpoint:V,auth:x,p256dh:S}};return Q!==qo&&(ge.web.applicationPubKey=Q),ge}const Zu=6048e5;function qa(){return qa=(0,q.Z)(function*(S){const x=yield function Po(S,x){return Ar.apply(this,arguments)}(S.swRegistration,S.vapidKey),V={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:x.endpoint,auth:ur(x.getKey("auth")),p256dh:ur(x.getKey("p256dh"))},Q=yield lo(S.firebaseDependencies);if(Q){if(function Ll(S,x){return x.vapidKey===S.vapidKey&&x.endpoint===S.endpoint&&x.auth===S.auth&&x.p256dh===S.p256dh}(Q.subscriptionOptions,V))return Date.now()>=Q.createTime+Zu?function qi(S,x){return Mo.apply(this,arguments)}(S,{token:Q.token,createTime:Date.now(),subscriptionOptions:V}):Q.token;try{yield Ro(S.firebaseDependencies,Q.token)}catch(ge){console.warn(ge)}return mi(S.firebaseDependencies,V)}return mi(S.firebaseDependencies,V)}),qa.apply(this,arguments)}function xi(){return xi=(0,q.Z)(function*(S){const x=yield lo(S.firebaseDependencies);x&&(yield Ro(S.firebaseDependencies,x.token),yield function Zo(S){return _u.apply(this,arguments)}(S.firebaseDependencies));const V=yield S.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()}),xi.apply(this,arguments)}function Mo(){return Mo=(0,q.Z)(function*(S,x){try{const V=yield function $n(S,x){return co.apply(this,arguments)}(S.firebaseDependencies,x),Q=Object.assign(Object.assign({},x),{token:V,createTime:Date.now()});return yield ys(S.firebaseDependencies,Q),V}catch(V){throw yield function va(S){return xi.apply(this,arguments)}(S),V}}),Mo.apply(this,arguments)}function mi(S,x){return ls.apply(this,arguments)}function ls(){return(ls=(0,q.Z)(function*(S,x){const Q={token:yield vu(S,x),createTime:Date.now(),subscriptionOptions:x};return yield ys(S,Q),Q.token})).apply(this,arguments)}function Ar(){return(Ar=(0,q.Z)(function*(S,x){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ss(x)})})).apply(this,arguments)}function Xu(S){const x={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function zi(S,x){if(!x.notification)return;S.notification={};const V=x.notification.title;V&&(S.notification.title=V);const Q=x.notification.body;Q&&(S.notification.body=Q);const ge=x.notification.image;ge&&(S.notification.image=ge);const De=x.notification.icon;De&&(S.notification.icon=De)}(x,S),function Wr(S,x){x.data&&(S.data=x.data)}(x,S),function fo(S,x){var V,Q,ge,De,Ze;if(!(x.fcmOptions||null!==(V=x.notification)&&void 0!==V&&V.click_action))return;S.fcmOptions={};const Ut=null!==(ge=null===(Q=x.fcmOptions)||void 0===Q?void 0:Q.link)&&void 0!==ge?ge:null===(De=x.notification)||void 0===De?void 0:De.click_action;Ut&&(S.fcmOptions.link=Ut);const xt=null===(Ze=x.fcmOptions)||void 0===Ze?void 0:Ze.analytics_label;xt&&(S.fcmOptions.analyticsLabel=xt)}(x,S),x}function Ks(S,x){const V=[];for(let Q=0;Q<S.length;Q++)V.push(S.charAt(Q)),Q<x.length&&V.push(x.charAt(Q));return V.join("")}function As(S){return ii.create("missing-app-config-values",{valueName:S})}Ks("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ks("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Eu{constructor(x,V,Q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ge=function Qa(S){if(!S||!S.options)throw As("App Configuration Object");if(!S.name)throw As("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:V}=S;for(const Q of x)if(!V[Q])throw As(Q);return{appName:S.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:ge,installations:V,analyticsProvider:Q}}_delete(){return Promise.resolve()}}function po(S){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,q.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(yu,{scope:us}),S.swRegistration.update().catch(()=>{})}catch(x){throw ii.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function Za(){return(Za=(0,q.Z)(function*(S,x){if(!x&&!S.swRegistration&&(yield po(S)),x||!S.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw ii.create("invalid-sw-registration");S.swRegistration=x}})).apply(this,arguments)}function Iu(){return(Iu=(0,q.Z)(function*(S,x){x?S.vapidKey=x:S.vapidKey||(S.vapidKey=qo)})).apply(this,arguments)}function cs(){return cs=(0,q.Z)(function*(S,x){if(!navigator)throw ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ii.create("permission-blocked");return yield function qs(S,x){return Iu.apply(this,arguments)}(S,x?.vapidKey),yield function wu(S,x){return Za.apply(this,arguments)}(S,x?.serviceWorkerRegistration),function Ka(S){return qa.apply(this,arguments)}(S)}),cs.apply(this,arguments)}function xo(){return(xo=(0,q.Z)(function*(S,x,V){const Q=function go(S){switch(S){case Yo.NOTIFICATION_CLICKED:return"notification_open";case Yo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(Q,{message_id:V[hc],message_name:V[Qo],message_time:V[Ga],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Tu(){return Tu=(0,q.Z)(function*(S,x){const V=x.data;if(!V.isFirebaseMessaging)return;S.onMessageHandler&&V.messageType===Yo.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Xu(V)):S.onMessageHandler.next(Xu(V)));const Q=V.data;(function Ae(S){return"object"==typeof S&&!!S&&hc in S})(Q)&&"1"===Q[br]&&(yield function vr(S,x,V){return xo.apply(this,arguments)}(S,V.messageType,Q))}),Tu.apply(this,arguments)}const di="@firebase/messaging",Xo=S=>{const x=new Eu(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function fc(S,x){return Tu.apply(this,arguments)}(x,V)),x},vs=S=>{const x=S.getProvider("messaging").getImmediate();return{getToken:Q=>function Zr(S,x){return cs.apply(this,arguments)}(x,Q)}};function A(){return F.apply(this,arguments)}function F(){return(F=(0,q.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hi(){(0,ie.Xd)(new he.wA("messaging",Xo,"PUBLIC")),(0,ie.Xd)(new he.wA("messaging-internal",vs,"PRIVATE")),(0,ie.KN)(di,"0.12.4"),(0,ie.KN)(di,"0.12.4","esm2017")}();const sn="analytics",Un="firebase_id",si="origin",qn=6e4,oi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rs="https://www.googletagmanager.com/gtag/js",Zn=new ye.Yd("@firebase/analytics"),ir=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ds(S){if(!S.startsWith(Rs)){const x=ir.create("invalid-gtag-resource",{gtagURL:S});return Zn.warn(x.message),""}return S}function mo(S){return Promise.all(S.map(x=>x.catch(V=>V)))}function Xa(){return(Xa=(0,q.Z)(function*(S,x,V,Q,ge,De){const Ze=Q[ge];try{if(Ze)yield x[Ze];else{const xt=(yield mo(V)).find(Qt=>Qt.measurementId===ge);xt&&(yield x[xt.appId])}}catch(Ut){Zn.error(Ut)}S("config",ge,De)})).apply(this,arguments)}function Ul(){return(Ul=(0,q.Z)(function*(S,x,V,Q,ge){try{let De=[];if(ge&&ge.send_to){let Ze=ge.send_to;Array.isArray(Ze)||(Ze=[Ze]);const Ut=yield mo(V);for(const xt of Ze){const Qt=Ut.find(Tn=>Tn.measurementId===xt),zt=Qt&&x[Qt.appId];if(!zt){De=[];break}De.push(zt)}}0===De.length&&(De=Object.values(x)),yield Promise.all(De),S("event",Q,ge||{})}catch(De){Zn.error(De)}})).apply(this,arguments)}const wa=30,Si=new class jr{constructor(x={},V=1e3){this.throttleMetadata=x,this.intervalMillis=V}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,V){this.throttleMetadata[x]=V}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function nl(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function eu(){return(eu=(0,q.Z)(function*(S){var x;const{appId:V,apiKey:Q}=S,ge={method:"GET",headers:nl(Q)},De=oi.replace("{app-id}",V),Ze=yield fetch(De,ge);if(200!==Ze.status&&304!==Ze.status){let Ut="";try{const xt=yield Ze.json();null!==(x=xt.error)&&void 0!==x&&x.message&&(Ut=xt.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:Ze.status,responseMessage:Ut})}return Ze.json()})).apply(this,arguments)}function Du(){return(Du=(0,q.Z)(function*(S,x=Si,V){const{appId:Q,apiKey:ge,measurementId:De}=S.options;if(!Q)throw ir.create("no-app-id");if(!ge){if(De)return{measurementId:De,appId:Q};throw ir.create("no-api-key")}const Ze=x.getThrottleMetadata(Q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ut=new Ca;return setTimeout((0,q.Z)(function*(){Ut.abort()}),void 0!==V?V:qn),rl({appId:Q,apiKey:ge,measurementId:De},Ze,Ut,x)})).apply(this,arguments)}function rl(S,x,V){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,q.Z)(function*(S,{throttleEndTimeMillis:x,backoffCount:V},Q,ge=Si){var De;const{appId:Ze,measurementId:Ut}=S;try{yield function xs(S,x){return new Promise((V,Q)=>{const ge=Math.max(x-Date.now(),0),De=setTimeout(V,ge);S.addEventListener(()=>{clearTimeout(De),Q(ir.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(Q,x)}catch(xt){if(Ut)return Zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ut} provided in the "measurementId" field in the local Firebase config. [${xt?.message}]`),{appId:Ze,measurementId:Ut};throw xt}try{const xt=yield function Ia(S){return eu.apply(this,arguments)}(S);return ge.deleteThrottleMetadata(Ze),xt}catch(xt){const Qt=xt;if(!function il(S){if(!(S instanceof re.ZR&&S.customData))return!1;const x=Number(S.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Qt)){if(ge.deleteThrottleMetadata(Ze),Ut)return Zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ut} provided in the "measurementId" field in the local Firebase config. [${Qt?.message}]`),{appId:Ze,measurementId:Ut};throw xt}const zt=503===Number(null===(De=Qt?.customData)||void 0===De?void 0:De.httpStatus)?(0,re.$s)(V,ge.intervalMillis,wa):(0,re.$s)(V,ge.intervalMillis),Tn={throttleEndTimeMillis:Date.now()+zt,backoffCount:V+1};return ge.setThrottleMetadata(Ze,Tn),Zn.debug(`Calling attemptFetch again in ${zt} millis`),rl(S,Tn,Q,ge)}}),Ta.apply(this,arguments)}class Ca{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let fi,Lo;function yo(){return(yo=(0,q.Z)(function*(S,x,V,Q,ge){if(ge&&ge.global)S("event",V,Q);else{const De=yield x;S("event",V,Object.assign(Object.assign({},Q),{send_to:De}))}})).apply(this,arguments)}function Ns(){return(Ns=(0,q.Z)(function*(){if(!(0,re.hl)())return Zn.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(S){return Zn.warn(ir.create("indexeddb-unavailable",{errorInfo:S?.toString()}).message),!1}return!0})).apply(this,arguments)}function qc(){return qc=(0,q.Z)(function*(S,x,V,Q,ge,De,Ze){var Ut;const xt=function Vl(S){return Du.apply(this,arguments)}(S);xt.then(Ir=>{V[Ir.measurementId]=Ir.appId,S.options.measurementId&&Ir.measurementId!==S.options.measurementId&&Zn.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ir=>Zn.error(Ir)),x.push(xt);const Qt=function Er(){return Ns.apply(this,arguments)}().then(Ir=>{if(Ir)return Q.getId()}),[zt,Tn]=yield Promise.all([xt,Qt]);(function Cu(S){const x=window.document.getElementsByTagName("script");for(const V of Object.values(x))if(V.src&&V.src.includes(Rs)&&V.src.includes(S))return V;return null})(De)||function Fl(S,x){const V=function Ms(S,x){let V;return window.trustedTypes&&(V=window.trustedTypes.createPolicy(S,x)),V}("firebase-js-sdk-policy",{createScriptURL:ds}),Q=document.createElement("script"),ge=`${Rs}?l=${S}&id=${x}`;Q.src=V?V?.createScriptURL(ge):ge,Q.async=!0,document.head.appendChild(Q)}(De,zt.measurementId),Lo&&(ge("consent","default",Lo),function Wc(S){Lo=S}(void 0)),ge("js",new Date);const Ls=null!==(Ut=Ze?.config)&&void 0!==Ut?Ut:{};return Ls[si]="firebase",Ls.update=!0,null!=Tn&&(Ls[Un]=Tn),ge("config",zt.measurementId,Ls),fi&&(ge("set",fi),function gc(S){fi=S}(void 0)),zt.measurementId}),qc.apply(this,arguments)}class uf{constructor(x){this.app=x}_delete(){return delete bi[this.app.options.appId],Promise.resolve()}}let bi={},bu=[];const jl={};let Yc,fr,ta="dataLayer",Qc="gtag",Sa=!1;function Yi(S,x,V){!function Zc(){const S=[];if((0,re.ru)()&&S.push("This is a browser extension environment."),(0,re.zI)()||S.push("Cookies are not available."),S.length>0){const x=S.map((Q,ge)=>`(${ge+1}) ${Q}`).join(" "),V=ir.create("invalid-analytics-context",{errorInfo:x});Zn.warn(V.message)}}();const Q=S.options.appId;if(!Q)throw ir.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw ir.create("no-api-key");Zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bi[Q])throw ir.create("already-exists",{id:Q});if(!Sa){!function Ju(S){let x=[];Array.isArray(window[S])?x=window[S]:window[S]=x}(ta);const{wrappedGtag:De,gtagCore:Ze}=function tl(S,x,V,Q,ge){let De=function(...Ze){window[Q].push(arguments)};return window[ge]&&"function"==typeof window[ge]&&(De=window[ge]),window[ge]=function Ps(S,x,V,Q){function De(){return De=(0,q.Z)(function*(Ze,...Ut){try{if("event"===Ze){const[xt,Qt]=Ut;yield function Ja(S,x,V,Q,ge){return Ul.apply(this,arguments)}(S,x,V,xt,Qt)}else if("config"===Ze){const[xt,Qt]=Ut;yield function el(S,x,V,Q,ge,De){return Xa.apply(this,arguments)}(S,x,V,Q,xt,Qt)}else if("consent"===Ze){const[xt]=Ut;S("consent","update",xt)}else if("get"===Ze){const[xt,Qt,zt]=Ut;S("get",xt,Qt,zt)}else if("set"===Ze){const[xt]=Ut;S("set",xt)}else S(Ze,...Ut)}catch(xt){Zn.error(xt)}}),De.apply(this,arguments)}return function ge(Ze){return De.apply(this,arguments)}}(De,S,x,V),{gtagCore:De,wrappedGtag:window[ge]}}(bi,bu,jl,ta,Qc);fr=De,Yc=Ze,Sa=!0}return bi[Q]=function Kc(S,x,V,Q,ge,De,Ze){return qc.apply(this,arguments)}(S,bu,jl,x,Yc,ta,V),new uf(S)}function zl(){return v.apply(this,arguments)}function v(){return(v=(0,q.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const it="@firebase/analytics";!function Nr(){(0,ie.Xd)(new he.wA(sn,(x,{options:V})=>Yi(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,ie.Xd)(new he.wA("analytics-internal",function S(x){try{const V=x.getProvider(sn).getImmediate();return{logEvent:(Q,ge,De)=>function Ke(S,x,V,Q){S=(0,re.m9)(S),function tu(S,x,V,Q,ge){return yo.apply(this,arguments)}(fr,bi[S.app.options.appId],x,V,Q).catch(ge=>Zn.error(ge))}(V,Q,ge,De)}}catch(V){throw ir.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,ie.KN)(it,"0.10.0"),(0,ie.KN)(it,"0.10.0","esm2017")}();var Gn=O(4408),ba=O(640);const ru=new class Ni extends ba.v{}(class Os extends Gn.o{constructor(x,V){super(x,V),this.scheduler=x,this.work=V}schedule(x,V=0){return V>0?super.schedule(x,V):(this.delay=V,this.state=x,this.scheduler.flush(this),this)}execute(x,V){return V>0||this.closed?super.execute(x,V):this._execute(x,V)}requestAsyncId(x,V,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(x,V,Q):(x.flush(this),0)}});var wn=O(4986),hs=O(9751),Ru=O(8505),al=O(9468),ks=O(5363);const Aa=new D.GfV("7.5.0"),ul="__angularfire_symbol__analyticsIsSupportedValue",mc="__angularfire_symbol__analyticsIsSupported",ll="__angularfire_symbol__remoteConfigIsSupportedValue",Fo="__angularfire_symbol__remoteConfigIsSupported",_o="__angularfire_symbol__messagingIsSupportedValue",na="__angularfire_symbol__messagingIsSupported";function Pp(S,x,V){if(x){if(1===x.length)return x[0];const De=x.filter(Ze=>Ze.app===V);if(1===De.length)return De[0]}return V.container.getProvider(S).getImmediate({optional:!0})}globalThis[mc]||(globalThis[mc]=zl().then(S=>globalThis[ul]=S).catch(()=>globalThis[ul]=!1)),globalThis[na]||(globalThis[na]=A().then(S=>globalThis[_o]=S).catch(()=>globalThis[_o]=!1)),globalThis[Fo]||(globalThis[Fo]=Ha().then(S=>globalThis[ll]=S).catch(()=>globalThis[ll]=!1));const yc=(S,x)=>{const V=x?[x]:(0,k.C6)(),Q=[];return V.forEach(ge=>{ge.container.getProvider(S).instances.forEach(Ze=>{Q.includes(Ze)||Q.push(Ze)})}),Q};function Uo(){}class jn{constructor(x,V=ru){this.zone=x,this.delegate=V}now(){return this.delegate.now()}schedule(x,V,Q){const ge=this.zone;return this.delegate.schedule(function(Ze){ge.runGuarded(()=>{x.apply(this,[Ze])})},V,Q)}}class Ra{constructor(x){this.zone=x,this.task=null}call(x,V){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uo,{},Uo,Uo)),V.pipe((0,Ru.b)({next:Q,complete:Q,error:Q})).subscribe(x).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _c=(()=>{class S{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new jn(Zone.current)),this.insideAngular=V.run(()=>new jn(Zone.current,wn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(V){return new(V||S)(D.LFG(D.R0b))},S.\u0275prov=D.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function iu(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function su(S){return iu().ngZone.run(()=>S())}function fs(S){return iu(),function Hd(S){return function(V){return(V=V.lift(new Ra(S.ngZone))).pipe((0,al.R)(S.outsideAngular),(0,ks.Q)(S.insideAngular))}}(iu())(S)}const Mu=(S,x)=>function(){const Q=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),su(()=>S.apply(void 0,Q))},Gd=(S,x)=>function(){let V;const Q=arguments;for(let De=0;De<arguments.length;De++)"function"==typeof Q[De]&&(x&&(V||(V=su(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uo,{},Uo,Uo)))),Q[De]=Mu(Q[De],V));const ge=function Qs(S){return iu().ngZone.runOutsideAngular(()=>S())}(()=>S.apply(this,Q));if(!x){if(ge instanceof hs.y){const De=iu();return ge.pipe((0,al.R)(De.outsideAngular),(0,ks.Q)(De.insideAngular))}return su(()=>ge)}return ge instanceof hs.y?ge.pipe(fs):ge instanceof Promise?su(()=>new Promise((De,Ze)=>ge.then(Ut=>su(()=>De(Ut)),Ut=>su(()=>Ze(Ut))))):"function"==typeof ge&&V?function(){return setTimeout(()=>{V&&"scheduled"===V.state&&V.invoke()},10),ge.apply(this,arguments)}:su(()=>ge)}},2090:(Dt,Pe,O)=>{O.d(Pe,{$s:()=>Vr,BH:()=>ze,DV:()=>qr,GJ:()=>Mr,L:()=>Te,LL:()=>Wt,P0:()=>bt,Pz:()=>oe,Sg:()=>ot,UI:()=>Sn,US:()=>he,Wl:()=>pr,Yr:()=>Ye,ZR:()=>rn,aH:()=>be,b$:()=>gn,cI:()=>ln,dS:()=>Hn,eu:()=>ht,g5:()=>q,gK:()=>Ur,gQ:()=>bn,h$:()=>_e,hl:()=>yt,hu:()=>k,m9:()=>$r,ne:()=>cn,p$:()=>ee,pd:()=>Ii,q4:()=>dt,r3:()=>ui,ru:()=>At,tV:()=>te,uI:()=>Ne,ug:()=>an,vZ:()=>Tt,w1:()=>Le,w9:()=>sr,xO:()=>cr,xb:()=>Pr,z$:()=>mt,zI:()=>Bt,zd:()=>li});const D={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},k=function(ne,X){if(!ne)throw q(X)},q=function(ne){return new Error("Firebase Database ("+D.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ne)},ie=function(ne){const X=[];let le=0;for(let We=0;We<ne.length;We++){let Ie=ne.charCodeAt(We);Ie<128?X[le++]=Ie:Ie<2048?(X[le++]=Ie>>6|192,X[le++]=63&Ie|128):55296==(64512&Ie)&&We+1<ne.length&&56320==(64512&ne.charCodeAt(We+1))?(Ie=65536+((1023&Ie)<<10)+(1023&ne.charCodeAt(++We)),X[le++]=Ie>>18|240,X[le++]=Ie>>12&63|128,X[le++]=Ie>>6&63|128,X[le++]=63&Ie|128):(X[le++]=Ie>>12|224,X[le++]=Ie>>6&63|128,X[le++]=63&Ie|128)}return X},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ne,X){if(!Array.isArray(ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const le=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,We=[];for(let Ie=0;Ie<ne.length;Ie+=3){const tt=ne[Ie],ue=Ie+1<ne.length,se=ue?ne[Ie+1]:0,K=Ie+2<ne.length,fe=K?ne[Ie+2]:0;let Zt=(15&se)<<2|fe>>6,xn=63&fe;K||(xn=64,ue||(Zt=64)),We.push(le[tt>>2],le[(3&tt)<<4|se>>4],le[Zt],le[xn])}return We.join("")},encodeString(ne,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(ne):this.encodeByteArray(ie(ne),X)},decodeString(ne,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(ne):function(ne){const X=[];let le=0,We=0;for(;le<ne.length;){const Ie=ne[le++];if(Ie<128)X[We++]=String.fromCharCode(Ie);else if(Ie>191&&Ie<224){const tt=ne[le++];X[We++]=String.fromCharCode((31&Ie)<<6|63&tt)}else if(Ie>239&&Ie<365){const K=((7&Ie)<<18|(63&ne[le++])<<12|(63&ne[le++])<<6|63&ne[le++])-65536;X[We++]=String.fromCharCode(55296+(K>>10)),X[We++]=String.fromCharCode(56320+(1023&K))}else{const tt=ne[le++],ue=ne[le++];X[We++]=String.fromCharCode((15&Ie)<<12|(63&tt)<<6|63&ue)}}return X.join("")}(this.decodeStringToByteArray(ne,X))},decodeStringToByteArray(ne,X){this.init_();const le=X?this.charToByteMapWebSafe_:this.charToByteMap_,We=[];for(let Ie=0;Ie<ne.length;){const tt=le[ne.charAt(Ie++)],se=Ie<ne.length?le[ne.charAt(Ie)]:0;++Ie;const fe=Ie<ne.length?le[ne.charAt(Ie)]:64;++Ie;const nt=Ie<ne.length?le[ne.charAt(Ie)]:64;if(++Ie,null==tt||null==se||null==fe||null==nt)throw new ye;We.push(tt<<2|se>>4),64!==fe&&(We.push(se<<4&240|fe>>2),64!==nt&&We.push(fe<<6&192|nt))}return We},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ne=0;ne<this.ENCODED_VALS.length;ne++)this.byteToCharMap_[ne]=this.ENCODED_VALS.charAt(ne),this.charToByteMap_[this.byteToCharMap_[ne]]=ne,this.byteToCharMapWebSafe_[ne]=this.ENCODED_VALS_WEBSAFE.charAt(ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ne]]=ne,ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ne)]=ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ne)]=ne)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _e=function(ne){const X=ie(ne);return he.encodeByteArray(X,!0)},Te=function(ne){return _e(ne).replace(/\./g,"")},te=function(ne){try{return he.decodeString(ne,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function ee(ne){return me(void 0,ne)}function me(ne,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===ne&&(ne={});break;case Array:ne=[];break;default:return X}for(const le in X)!X.hasOwnProperty(le)||!Fe(le)||(ne[le]=me(ne[le],X[le]));return ne}function Fe(ne){return"__proto__"!==ne}const gt=()=>{try{return function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ne=process.env.__FIREBASE_DEFAULTS__;return ne?JSON.parse(ne):void 0})()||(()=>{if(typeof document>"u")return;let ne;try{ne=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const X=ne&&te(ne[1]);return X&&JSON.parse(X)})()}catch(ne){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ne}`)}},dt=ne=>{var X,le;return null===(le=null===(X=gt())||void 0===X?void 0:X.emulatorHosts)||void 0===le?void 0:le[ne]},bt=ne=>{const X=dt(ne);if(!X)return;const le=X.lastIndexOf(":");if(le<=0||le+1===X.length)throw new Error(`Invalid host ${X} with no separate hostname and port!`);const We=parseInt(X.substring(le+1),10);return"["===X[0]?[X.substring(1,le-1),We]:[X.substring(0,le),We]},be=()=>{var ne;return null===(ne=gt())||void 0===ne?void 0:ne.config},oe=ne=>{var X;return null===(X=gt())||void 0===X?void 0:X[`_${ne}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,le)=>{this.resolve=X,this.reject=le})}wrapCallback(X){return(le,We)=>{le?this.reject(le):this.resolve(We),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(le):X(le,We))}}}function ot(ne,X){if(ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const We=X||"demo-project",Ie=ne.iat||0,tt=ne.sub||ne.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ue=Object.assign({iss:`https://securetoken.google.com/${We}`,aud:We,iat:Ie,exp:Ie+3600,auth_time:Ie,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},ne);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(ue)),""].join(".")}function mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function At(){const ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ne&&void 0!==ne.id}function gn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){const ne=mt();return ne.indexOf("MSIE ")>=0||ne.indexOf("Trident/")>=0}function Ye(){return!0===D.NODE_CLIENT||!0===D.NODE_ADMIN}function yt(){try{return"object"==typeof indexedDB}catch{return!1}}function ht(){return new Promise((ne,X)=>{try{let le=!0;const We="validate-browser-context-for-indexeddb-analytics-module",Ie=self.indexedDB.open(We);Ie.onsuccess=()=>{Ie.result.close(),le||self.indexedDB.deleteDatabase(We),ne(!0)},Ie.onupgradeneeded=()=>{le=!1},Ie.onerror=()=>{var tt;X((null===(tt=Ie.error)||void 0===tt?void 0:tt.message)||"")}}catch(le){X(le)}})}function Bt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rn extends Error{constructor(X,le,We){super(le),this.code=X,this.customData=We,this.name="FirebaseError",Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wt.prototype.create)}}class Wt{constructor(X,le,We){this.service=X,this.serviceName=le,this.errors=We}create(X,...le){const We=le[0]||{},Ie=`${this.service}/${X}`,tt=this.errors[X],ue=tt?function vn(ne,X){return ne.replace(lt,(le,We)=>{const Ie=X[We];return null!=Ie?String(Ie):`<${We}?>`})}(tt,We):"Error";return new rn(Ie,`${this.serviceName}: ${ue} (${Ie}).`,We)}}const lt=/\{\$([^}]+)}/g;function ln(ne){return JSON.parse(ne)}function pr(ne){return JSON.stringify(ne)}const Wn=function(ne){let X={},le={},We={},Ie="";try{const tt=ne.split(".");X=ln(te(tt[0])||""),le=ln(te(tt[1])||""),Ie=tt[2],We=le.d||{},delete le.d}catch{}return{header:X,claims:le,data:We,signature:Ie}},sr=function(ne){const le=Wn(ne).claims;return!!le&&"object"==typeof le&&le.hasOwnProperty("iat")},Mr=function(ne){const X=Wn(ne).claims;return"object"==typeof X&&!0===X.admin};function ui(ne,X){return Object.prototype.hasOwnProperty.call(ne,X)}function qr(ne,X){if(Object.prototype.hasOwnProperty.call(ne,X))return ne[X]}function Pr(ne){for(const X in ne)if(Object.prototype.hasOwnProperty.call(ne,X))return!1;return!0}function Sn(ne,X,le){const We={};for(const Ie in ne)Object.prototype.hasOwnProperty.call(ne,Ie)&&(We[Ie]=X.call(le,ne[Ie],Ie,ne));return We}function Tt(ne,X){if(ne===X)return!0;const le=Object.keys(ne),We=Object.keys(X);for(const Ie of le){if(!We.includes(Ie))return!1;const tt=ne[Ie],ue=X[Ie];if(Qr(tt)&&Qr(ue)){if(!Tt(tt,ue))return!1}else if(tt!==ue)return!1}for(const Ie of We)if(!le.includes(Ie))return!1;return!0}function Qr(ne){return null!==ne&&"object"==typeof ne}function cr(ne){const X=[];for(const[le,We]of Object.entries(ne))Array.isArray(We)?We.forEach(Ie=>{X.push(encodeURIComponent(le)+"="+encodeURIComponent(Ie))}):X.push(encodeURIComponent(le)+"="+encodeURIComponent(We));return X.length?"&"+X.join("&"):""}function li(ne){const X={};return ne.replace(/^\?/,"").split("&").forEach(We=>{if(We){const[Ie,tt]=We.split("=");X[decodeURIComponent(Ie)]=decodeURIComponent(tt)}}),X}function Ii(ne){const X=ne.indexOf("?");if(!X)return"";const le=ne.indexOf("#",X);return ne.substring(X,le>0?le:void 0)}class bn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let X=1;X<this.blockSize;++X)this.pad_[X]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(X,le){le||(le=0);const We=this.W_;if("string"==typeof X)for(let nt=0;nt<16;nt++)We[nt]=X.charCodeAt(le)<<24|X.charCodeAt(le+1)<<16|X.charCodeAt(le+2)<<8|X.charCodeAt(le+3),le+=4;else for(let nt=0;nt<16;nt++)We[nt]=X[le]<<24|X[le+1]<<16|X[le+2]<<8|X[le+3],le+=4;for(let nt=16;nt<80;nt++){const Zt=We[nt-3]^We[nt-8]^We[nt-14]^We[nt-16];We[nt]=4294967295&(Zt<<1|Zt>>>31)}let fe,Be,Ie=this.chain_[0],tt=this.chain_[1],ue=this.chain_[2],se=this.chain_[3],K=this.chain_[4];for(let nt=0;nt<80;nt++){nt<40?nt<20?(fe=se^tt&(ue^se),Be=1518500249):(fe=tt^ue^se,Be=1859775393):nt<60?(fe=tt&ue|se&(tt|ue),Be=2400959708):(fe=tt^ue^se,Be=3395469782);const Zt=(Ie<<5|Ie>>>27)+fe+K+Be+We[nt]&4294967295;K=se,se=ue,ue=4294967295&(tt<<30|tt>>>2),tt=Ie,Ie=Zt}this.chain_[0]=this.chain_[0]+Ie&4294967295,this.chain_[1]=this.chain_[1]+tt&4294967295,this.chain_[2]=this.chain_[2]+ue&4294967295,this.chain_[3]=this.chain_[3]+se&4294967295,this.chain_[4]=this.chain_[4]+K&4294967295}update(X,le){if(null==X)return;void 0===le&&(le=X.length);const We=le-this.blockSize;let Ie=0;const tt=this.buf_;let ue=this.inbuf_;for(;Ie<le;){if(0===ue)for(;Ie<=We;)this.compress_(X,Ie),Ie+=this.blockSize;if("string"==typeof X){for(;Ie<le;)if(tt[ue]=X.charCodeAt(Ie),++ue,++Ie,ue===this.blockSize){this.compress_(tt),ue=0;break}}else for(;Ie<le;)if(tt[ue]=X[Ie],++ue,++Ie,ue===this.blockSize){this.compress_(tt),ue=0;break}}this.inbuf_=ue,this.total_+=le}digest(){const X=[];let le=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Ie=this.blockSize-1;Ie>=56;Ie--)this.buf_[Ie]=255&le,le/=256;this.compress_(this.buf_);let We=0;for(let Ie=0;Ie<5;Ie++)for(let tt=24;tt>=0;tt-=8)X[We]=this.chain_[Ie]>>tt&255,++We;return X}}function cn(ne,X){const le=new Ft(ne,X);return le.subscribe.bind(le)}class Ft{constructor(X,le){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=le,this.task.then(()=>{X(this)}).catch(We=>{this.error(We)})}next(X){this.forEachObserver(le=>{le.next(X)})}error(X){this.forEachObserver(le=>{le.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,le,We){let Ie;if(void 0===X&&void 0===le&&void 0===We)throw new Error("Missing Observer.");Ie=function Fr(ne,X){if("object"!=typeof ne||null===ne)return!1;for(const le of X)if(le in ne&&"function"==typeof ne[le])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:le,complete:We},void 0===Ie.next&&(Ie.next=nr),void 0===Ie.error&&(Ie.error=nr),void 0===Ie.complete&&(Ie.complete=nr);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ie.error(this.finalError):Ie.complete()}catch{}}),this.observers.push(Ie),tt}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let le=0;le<this.observers.length;le++)this.sendOne(le,X)}sendOne(X,le){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{le(this.observers[X])}catch(We){typeof console<"u"&&console.error&&console.error(We)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nr(){}function Ur(ne,X){return`${ne} failed: ${X} argument `}const Hn=function(ne){const X=[];let le=0;for(let We=0;We<ne.length;We++){let Ie=ne.charCodeAt(We);if(Ie>=55296&&Ie<=56319){const tt=Ie-55296;We++,k(We<ne.length,"Surrogate pair missing trail surrogate."),Ie=65536+(tt<<10)+(ne.charCodeAt(We)-56320)}Ie<128?X[le++]=Ie:Ie<2048?(X[le++]=Ie>>6|192,X[le++]=63&Ie|128):Ie<65536?(X[le++]=Ie>>12|224,X[le++]=Ie>>6&63|128,X[le++]=63&Ie|128):(X[le++]=Ie>>18|240,X[le++]=Ie>>12&63|128,X[le++]=Ie>>6&63|128,X[le++]=63&Ie|128)}return X},an=function(ne){let X=0;for(let le=0;le<ne.length;le++){const We=ne.charCodeAt(le);We<128?X++:We<2048?X+=2:We>=55296&&We<=56319?(X+=4,le++):X+=3}return X},_n=1e3,Sr=2,dr=144e5,Br=.5;function Vr(ne,X=_n,le=Sr){const We=X*Math.pow(le,ne),Ie=Math.round(Br*We*(Math.random()-.5)*2);return Math.min(dr,We+Ie)}function $r(ne){return ne&&ne._delegate?ne._delegate:ne}},7814:(Dt,Pe,O)=>{var D=O(1481),k=O(4650),q=O(6148);const ie=[{path:"",loadComponent:()=>Promise.all([O.e(445),O.e(859),O.e(546),O.e(9),O.e(742)]).then(O.bind(O,6742)),title:"App - Login"},{path:"",loadComponent:()=>Promise.all([O.e(445),O.e(859),O.e(546),O.e(9),O.e(742)]).then(O.bind(O,6742)),title:"App - Login"},{path:"perfil",loadComponent:()=>Promise.all([O.e(445),O.e(250),O.e(859),O.e(546),O.e(9),O.e(390)]).then(O.bind(O,2390)),title:"App - Perfil"},{path:"perfil-configuration",loadComponent:()=>Promise.all([O.e(445),O.e(250),O.e(546),O.e(470)]).then(O.bind(O,5470)),title:"App - Perfil - Configuracion"},{path:"perfil-ayuda",loadComponent:()=>Promise.all([O.e(445),O.e(250),O.e(546),O.e(609)]).then(O.bind(O,609)),title:"App - Perfil - Ayuda"},{path:"redes",loadComponent:()=>Promise.all([O.e(445),O.e(250),O.e(131)]).then(O.bind(O,4131)),title:"App - Redes"},{path:"information",loadComponent:()=>Promise.all([O.e(445),O.e(250),O.e(363)]).then(O.bind(O,2363)),title:"App - Informacion"},{path:"team",loadComponent:()=>Promise.all([O.e(445),O.e(250),O.e(172)]).then(O.bind(O,7172)),title:"App - Team"},{path:"foro",loadComponent:()=>Promise.all([O.e(445),O.e(250),O.e(859),O.e(645)]).then(O.bind(O,3645)),title:"App - Foro"},{path:"comunity",loadComponent:()=>Promise.all([O.e(445),O.e(250),O.e(859),O.e(814)]).then(O.bind(O,3232)),title:"App - Comunity"},{path:"novedades",loadComponent:()=>Promise.all([O.e(445),O.e(250),O.e(859),O.e(357)]).then(O.bind(O,357)),title:"App - Novedades"},{path:"foro-chat-1",loadComponent:()=>Promise.all([O.e(445),O.e(250),O.e(859),O.e(951)]).then(O.bind(O,4951)),title:"App - foro-chat-1"},{path:"foro-chat-2",loadComponent:()=>Promise.all([O.e(445),O.e(250),O.e(859),O.e(416)]).then(O.bind(O,9416)),title:"App - foro-chat-2"}];let re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({imports:[q.Bz.forRoot(ie),q.Bz]}),n})(),he=(()=>{class n{constructor(){this.title="appDemo"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=k.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&k._UZ(0,"router-outlet")},dependencies:[q.lC]}),n})();var ye=O(7340);function Te(n){return new k.vHH(3e3,!1)}function Wn(){return typeof window<"u"&&typeof window.document<"u"}function Rr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function er(n){switch(n.length){case 0:return new ye.ZN;case 1:return n[0];default:return new ye.ZE(n)}}function sr(n,e,t,r,i=new Map,u=new Map){const l=[],h=[];let m=-1,E=null;if(r.forEach(P=>{const U=P.get("offset"),W=U==m,J=W&&E||new Map;P.forEach((ae,Se)=>{let qe=Se,Ct=ae;if("offset"!==Se)switch(qe=e.normalizePropertyName(qe,l),Ct){case ye.k1:Ct=i.get(Se);break;case ye.l3:Ct=u.get(Se);break;default:Ct=e.normalizeStyleValue(Se,qe,Ct,l)}J.set(qe,Ct)}),W||h.push(J),E=J,m=U}),l.length)throw function je(n){return new k.vHH(3502,!1)}();return h}function Mr(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ui(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ui(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ui(t,"destroy",n)))}}function ui(n,e,t){const u=qr(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(u._data=l),u}function qr(n,e,t,r,i="",u=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!l}}function Pr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Sn(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Tt=(n,e)=>!1,Qr=(n,e,t)=>[],Wi=null;function cr(n){const e=n.parentNode||n.host;return e===Wi?null:e}(Rr()||typeof Element<"u")&&(Wn()?(Wi=(()=>document.documentElement)(),Tt=(n,e)=>{for(;e;){if(e===n)return!0;e=cr(e)}return!1}):Tt=(n,e)=>n.contains(e),Qr=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let bn=null,cn=!1;const nr=Tt,Vt=Qr;let mr=(()=>{class n{validateStyleProperty(t){return function Ft(n){bn||(bn=function Fr(){return typeof document<"u"?document.body:null}()||{},cn=!!bn.style&&"WebkitAppearance"in bn.style);let e=!0;return bn.style&&!function Ii(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in bn.style,!e&&cn&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bn.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return nr(t,r)}getParentElement(t){return cr(t)}query(t,r,i){return Vt(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,l,h=[],m){return new ye.ZN(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})(),or=(()=>{class n{}return n.NOOP=new mr,n})();const zn=1e3,Dr="ng-enter",_n="ng-leave",Sr="ng-trigger",dr=".ng-trigger",Br="ng-animating",Vr=".ng-animating";function xr(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Hr(parseFloat(e[1]),e[2])}function Hr(n,e){return"s"===e?n*zn:n}function $r(n,e,t){return n.hasOwnProperty("duration")?n:function ne(n,e,t){let i,u=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(Te()),{duration:0,delay:0,easing:""};i=Hr(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(u=Hr(parseFloat(m),h[4]));const E=h[5];E&&(l=E)}else i=n;if(!t){let h=!1,m=e.length;i<0&&(e.push(function te(){return new k.vHH(3100,!1)}()),h=!0),u<0&&(e.push(function ee(){return new k.vHH(3101,!1)}()),h=!0),h&&e.splice(m,0,Te())}return{duration:i,delay:u,easing:l}}(n,e,t)}function X(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function le(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function tt(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function ue(n,e,t){return t?e+":"+t+";":""}function se(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=ue(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ue(0,ut(t),n.style[t]));n.setAttribute("style",e)}function K(n,e,t){n.style&&(e.forEach((r,i)=>{const u=Ce(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r}),Rr()&&se(n))}function fe(n,e){n.style&&(e.forEach((t,r)=>{const i=Ce(r);n.style[i]=""}),Rr()&&se(n))}function Be(n){return Array.isArray(n)?1==n.length?n[0]:(0,ye.vP)(n):n}const Zt=new RegExp("{{\\s*(.+?)\\s*}}","g");function xn(n){let e=[];if("string"==typeof n){let t;for(;t=Zt.exec(n);)e.push(t[1]);Zt.lastIndex=0}return e}function Qn(n,e,t){const r=n.toString(),i=r.replace(Zt,(u,l)=>{let h=e[l];return null==h&&(t.push(function Fe(n){return new k.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function Mi(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Ue=/-+([a-z0-9])/g;function Ce(n){return n.replace(Ue,(...e)=>e[1].toUpperCase())}function ut(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Kt(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function $e(n){return new k.vHH(3004,!1)}()}}function jt(n,e){return window.getComputedStyle(n)[e]}const _r="*";function It(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function En(n,e,t){if(":"==n[0]){const m=function ar(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function At(n){return new k.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function mn(n){return new k.vHH(3015,!1)}()),e;const i=r[1],u=r[2],l=r[3];e.push(Gr(i,l));"<"==u[0]&&!(i==_r&&l==_r)&&e.push(Gr(l,i))}(r,t,e)):t.push(n),t}const Kn=new Set(["true","1"]),Ki=new Set(["false","0"]);function Gr(n,e){const t=Kn.has(n)||Ki.has(n),r=Kn.has(e)||Ki.has(e);return(i,u)=>{let l=n==_r||n==i,h=e==_r||e==u;return!l&&t&&"boolean"==typeof i&&(l=i?Kn.has(n):Ki.has(n)),!h&&r&&"boolean"==typeof u&&(h=u?Kn.has(e):Ki.has(e)),l&&h}}const tr=new RegExp("s*:selfs*,?","g");function we(n,e,t,r){return new pe(n).build(e,t,r)}class pe{constructor(e){this._driver=e}build(e,t,r){const i=new tn(t);return this._resetContextStyleTimingState(i),Kt(this,Be(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function _t(){return new k.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const m=h,E=m.name;E.toString().split(/\s*,\s*/).forEach(P=>{m.name=P,u.push(this.visitState(m,t))}),m.name=E}else if(1==h.type){const m=this.visitTransition(h,t);r+=m.queryCount,i+=m.depCount,l.push(m)}else t.errors.push(function Me(){return new k.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,l=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{xn(m).forEach(E=>{l.hasOwnProperty(E)||u.add(E)})})}),u.size&&(Mi(u.values()),t.errors.push(function gt(n,e){return new k.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Kt(this,Be(e.animation),t);return{type:1,matchers:It(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Rn(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Kt(this,r,t)),options:Rn(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(l=>{t.currentTime=r;const h=Kt(this,l,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:u,options:Rn(e.options)}}visitAnimate(e,t){const r=function dn(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Pi($r(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Pi(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=$r(t,e);return Pi(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:(0,ye.oB)({});if(5==u.type)i=this.visitKeyframes(u,t);else{let l=e.styles,h=!1;if(!l){h=!0;const E={};r.easing&&(E.easing=r.easing),l=(0,ye.oB)(E)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(l,t);m.isEmptyStep=h,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===ye.l3?r.push(h):t.errors.push(new k.vHH(3002,!1)):r.push(le(h));let u=!1,l=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!u))for(let m of h.values())if(m.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,m)=>{const E=t.collectedStyles.get(t.currentQuerySelector),P=E.get(m);let U=!0;P&&(u!=i&&u>=P.startTime&&i<=P.endTime&&(t.errors.push(function be(n,e,t,r,i){return new k.vHH(3010,!1)}()),U=!1),u=P.startTime),U&&E.set(m,{startTime:u,endTime:i}),t.options&&function nt(n,e,t){const r=e.params||{},i=xn(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function me(n){return new k.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function oe(){return new k.vHH(3011,!1)}()),r;let u=0;const l=[];let h=!1,m=!1,E=0;const P=e.steps.map(Ct=>{const Jt=this._makeStyleAst(Ct,t);let Lt=null!=Jt.offset?Jt.offset:function Pn(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Jt.styles),Dn=0;return null!=Lt&&(u++,Dn=Jt.offset=Lt),m=m||Dn<0||Dn>1,h=h||Dn<E,E=Dn,l.push(Dn),Jt});m&&t.errors.push(function ze(){return new k.vHH(3012,!1)}()),h&&t.errors.push(function ot(){return new k.vHH(3200,!1)}());const U=e.steps.length;let W=0;u>0&&u<U?t.errors.push(function mt(){return new k.vHH(3202,!1)}()):0==u&&(W=1/(U-1));const J=U-1,ae=t.currentTime,Se=t.currentAnimateTimings,qe=Se.duration;return P.forEach((Ct,Jt)=>{const Lt=W>0?Jt==J?1:W*Jt:l[Jt],Dn=Lt*qe;t.currentTime=ae+Se.delay+Dn,Se.duration=Dn,this._validateStyleAst(Ct,t),Ct.offset=Lt,r.styles.push(Ct)}),r}visitReference(e,t){return{type:8,animation:Kt(this,Be(e.animation),t),options:Rn(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Rn(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Rn(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,l]=function Qe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(tr,"")),n=n.replace(/@\*/g,dr).replace(/@\w+/g,t=>dr+"-"+t.slice(1)).replace(/:animating/g,Vr),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Pr(t.collectedStyles,t.currentQuerySelector,new Map);const h=Kt(this,Be(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:Rn(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Ne(){return new k.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:$r(e.timings,t.errors,!0);return{type:12,animation:Kt(this,Be(e.animation),t),timings:r,options:null}}}class tn{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Rn(n){return n?(n=X(n)).params&&(n.params=function at(n){return n?X(n):null}(n.params)):n={},n}function Pi(n,e,t){return{duration:n,delay:e,easing:t}}function gi(n,e,t,r,i,u,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:l,subTimeline:h}}class Yr{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ss=new RegExp(":enter","g"),zo=new RegExp(":leave","g");function oo(n,e,t,r,i,u=new Map,l=new Map,h,m,E=[]){return(new ao).buildKeyframes(n,e,t,r,i,u,l,h,m,E)}class ao{buildKeyframes(e,t,r,i,u,l,h,m,E,P=[]){E=E||new Yr;const U=new ni(e,t,E,i,u,P,[]);U.options=m;const W=m.delay?xr(m.delay):0;U.currentTimeline.delayNextStep(W),U.currentTimeline.setStyles([l],null,U.errors,m),Kt(this,r,U);const J=U.timelines.filter(ae=>ae.containsAnimation());if(J.length&&h.size){let ae;for(let Se=J.length-1;Se>=0;Se--){const qe=J[Se];if(qe.element===t){ae=qe;break}}ae&&!ae.allowOnlyTimelineStyles()&&ae.setStyles([h],null,U.errors,m)}return J.length?J.map(ae=>ae.buildKeyframes()):[gi(t,[],[],[],0,W,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);u!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const u=i?.delay;if(u){const l="number"==typeof u?u:xr(Qn(u,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const l=null!=r.duration?xr(r.duration):null,h=null!=r.delay?xr(r.delay):null;return 0!==l&&e.forEach(m=>{const E=t.appendInstructionToTimeline(m,l,h);u=Math.max(u,E.duration+E.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Kt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ds);const l=xr(u.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Kt(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?xr(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);u&&h.delayNextStep(u),Kt(this,l,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return $r(t.params?Qn(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(m=>{h.forwardTime((m.offset||0)*u),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?xr(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ds);let l=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((E,P)=>{t.currentQueryIndex=P;const U=t.createSubContext(e.options,E);u&&U.delayNextStep(u),E===t.element&&(m=U.currentTimeline),Kt(this,e.animation,U),U.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,U.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,l=Math.abs(u.duration),h=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":m=h-m;break;case"full":m=r.currentStaggerTime}const P=t.currentTimeline;m&&P.delayNextStep(m);const U=P.currentTime;Kt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-U+(i.startTime-r.currentTimeline.startTime)}}const Ds={};class ni{constructor(e,t,r,i,u,l,h,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ds,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new ha(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=xr(r.duration)),null!=r.delay&&(i.delay=xr(r.delay));const u=r.params;if(u){let l=i.params;l||(l=this.options.params={}),Object.keys(u).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=Qn(u[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new ni(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=Ds,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new Ci(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,l){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(ss,"."+this._enterClassName)).replace(zo,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),h.push(...E)}return!u&&0==h.length&&l.push(function Gt(n){return new k.vHH(3014,!1)}()),h}}class ha{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ha(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ye.l3),this._currentKeyframe.set(t,ye.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},l=function js(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,ye.l3)}else tt(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,m]of l){const E=Qn(m,u,r);this._pendingStyles.set(h,E),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ye.l3),this._updateStyle(h,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,m)=>{const E=tt(h,new Map,this._backFill);E.forEach((P,U)=>{P===ye.k1?e.add(U):P===ye.l3&&t.add(U)}),r||E.set("offset",m/this.duration),i.push(E)});const u=e.size?Mi(e.values()):[],l=t.size?Mi(t.values()):[];if(r){const h=i[0],m=new Map(h);h.set("offset",0),m.set("offset",1),i=[h,m]}return gi(this.element,i,u,l,this.duration,this.startTime,this.easing,!1)}}class Ci extends ha{constructor(e,t,r,i,u,l,h=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],l=r+t,h=t/l,m=tt(e[0]);m.set("offset",0),u.push(m);const E=tt(e[0]);E.set("offset",Vi(h)),u.push(E);const P=e.length-1;for(let U=1;U<=P;U++){let W=tt(e[U]);const J=W.get("offset");W.set("offset",Vi((t+J*r)/l)),u.push(W)}r=l,t=0,i="",e=u}return gi(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Vi(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class os{}const zs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fa extends os{normalizePropertyName(e,t){return Ce(e)}normalizeStyleValue(e,t,r,i){let u="";const l=r.toString().trim();if(zs.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function Ge(n,e){return new k.vHH(3005,!1)}())}return l+u}}function Ho(n,e,t,r,i,u,l,h,m,E,P,U,W){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:l,timelines:h,queriedElements:m,preStyleProps:E,postStyleProps:P,totalTime:U,errors:W}}const Hs={};class Ol{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Gu(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,l,h,m,E,P){const U=[],W=this.ast.options&&this.ast.options.params||Hs,ae=this.buildStyles(r,h&&h.params||Hs,U),Se=m&&m.params||Hs,qe=this.buildStyles(i,Se,U),Ct=new Set,Jt=new Map,Lt=new Map,Dn="void"===i,Cr={params:Ba(Se,W),delay:this.ast.options?.delay},Jn=P?[]:oo(e,t,this.ast.animation,u,l,ae,qe,Cr,E,U);let kr=0;if(Jn.forEach(ju=>{kr=Math.max(ju.duration+ju.delay,kr)}),U.length)return Ho(t,this._triggerName,r,i,Dn,ae,qe,[],[],Jt,Lt,kr,U);Jn.forEach(ju=>{const jd=ju.element,ZM=Pr(Jt,jd,new Set);ju.preStyleProps.forEach(Rp=>ZM.add(Rp));const $v=Pr(Lt,jd,new Set);ju.postStyleProps.forEach(Rp=>$v.add(Rp)),jd!==t&&Ct.add(jd)});const Gi=Mi(Ct.values());return Ho(t,this._triggerName,r,i,Dn,ae,qe,Jn,Gi,Jt,Lt,kr)}}function Ba(n,e){const t=X(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class kl{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=X(this.defaultParams);return Object.keys(e).forEach(u=>{const l=e[u];null!==l&&(i[u]=l)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((l,h)=>{l&&(l=Qn(l,i,t));const m=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,m,l,t),r.set(h,l)})}),r}}class $a{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new kl(i.style,i.options&&i.options.params||{},r))}),Go(this.states,"true","1"),Go(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Ol(e,i,this.states))}),this.fallbackTransition=function Wu(n,e,t){return new Ol(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Go(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Wo=new Yr;class Ko{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],u=we(this._driver,t,r,i);if(r.length)throw function Ye(n){return new k.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=sr(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let l;const h=new Map;if(u?(l=oo(this._driver,t,u,Dr,_n,new Map,new Map,r,Wo,i),l.forEach(P=>{const U=Pr(h,P.element,new Map);P.postStyleProps.forEach(W=>U.set(W,null))})):(i.push(function et(){return new k.vHH(3300,!1)}()),l=[]),i.length)throw function yt(n){return new k.vHH(3504,!1)}();h.forEach((P,U)=>{P.forEach((W,J)=>{P.set(J,this._driver.computeStyle(U,J,ye.l3))})});const E=er(l.map(P=>{const U=h.get(P.element);return this._buildPlayer(P,new Map,U)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function ht(n){return new k.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=qr(t,"","","");return Mr(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const ja="ng-animate-queued",za="ng-animate-disabled",as=[],pa={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ha={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ji="__ng_removed";class yu{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function br(n){return n??null}(r?e.value:e),r){const u=X(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const us="void",qo=new yu(us);class qu{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,rr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Bt(n,e){return new k.vHH(3302,!1)}();if(null==r||0==r.length)throw function pt(n){return new k.vHH(3303,!1)}();if(!function Yo(n){return"start"==n||"done"==n}(r))throw function rn(n,e){return new k.vHH(3400,!1)}();const u=Pr(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};u.push(l);const h=Pr(this._engine.statesByElement,e,new Map);return h.has(t)||(rr(e,Sr),rr(e,Sr+"-"+t),h.set(t,qo)),()=>{this._engine.afterFlush(()=>{const m=u.indexOf(l);m>=0&&u.splice(m,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Wt(n){return new k.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),l=new Qo(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(rr(e,Sr),rr(e,Sr+"-"+t),this._engine.statesByElement.set(e,h=new Map));let m=h.get(t);const E=new yu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&E.absorbOptions(m.options),h.set(t,E),m||(m=qo),E.value!==us&&m.value===E.value){if(!function bo(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(m.params,E.params)){const Se=[],qe=u.matchStyles(m.value,m.params,Se),Ct=u.matchStyles(E.value,E.params,Se);Se.length?this._engine.reportError(Se):this._engine.afterFlush(()=>{fe(e,qe),K(e,Ct)})}return}const W=Pr(this._engine.playersByElement,e,[]);W.forEach(Se=>{Se.namespaceId==this.id&&Se.triggerName==t&&Se.queued&&Se.destroy()});let J=u.matchTransition(m.value,E.value,e,E.params),ae=!1;if(!J){if(!i)return;J=u.fallbackTransition,ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:J,fromState:m,toState:E,player:l,isFallbackTransition:ae}),ae||(rr(e,ja),l.onStart(()=>{bs(e,ja)})),l.onDone(()=>{let Se=this.players.indexOf(l);Se>=0&&this.players.splice(Se,1);const qe=this._engine.playersByElement.get(e);if(qe){let Ct=qe.indexOf(l);Ct>=0&&qe.splice(Ct,1)}}),this.players.push(l),W.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,dr,!0);r.forEach(i=>{if(i[ji])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),l=new Map;if(u){const h=[];if(u.forEach((m,E)=>{if(l.set(E,m.value),this._triggers.has(E)){const P=this.trigger(e,E,us,i);P&&h.push(P)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&er(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const l=u.name;if(i.has(l))return;i.add(l);const m=this._triggers.get(l).fallbackTransition,E=r.get(l)||qo,P=new yu(us),U=new Qo(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:E,toState:P,player:U,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[ji];(!u||u===pa)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){rr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,l=this._elementListeners.get(u);l&&l.forEach(h=>{if(h.name==r.triggerName){const m=qr(u,r.triggerName,r.fromState.value,r.toState.value);m._data=e,Mr(r.player,h.phase,m,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==u||0==l?u-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class hc{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new qu(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const m=i.get(h);if(m){const E=r.indexOf(m);r.splice(E+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(ga(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ga(t))return;const u=t[ji];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),rr(e,za)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),bs(e,za))}removeNode(e,t,r,i){if(ga(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[ji]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return ga(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,dr,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Vr,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return er(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ji];if(t&&t.setForRemoval){if(e[ji]=pa,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(za)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)rr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?er(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function vn(n){return new k.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Yr,i=[],u=new Map,l=[],h=new Map,m=new Map,E=new Map,P=new Set;this.disabledNodes.forEach(on=>{P.add(on);const In=this.driver.query(on,".ng-animate-queued",!0);for(let Nn=0;Nn<In.length;Nn++)P.add(In[Nn])});const U=this.bodyNode,W=Array.from(this.statesByElement.keys()),J=ri(W,this.collectedEnterElements),ae=new Map;let Se=0;J.forEach((on,In)=>{const Nn=Dr+Se++;ae.set(In,Nn),on.forEach(Lr=>rr(Lr,Nn))});const qe=[],Ct=new Set,Jt=new Set;for(let on=0;on<this.collectedLeaveElements.length;on++){const In=this.collectedLeaveElements[on],Nn=In[ji];Nn&&Nn.setForRemoval&&(qe.push(In),Ct.add(In),Nn.hasAnimation?this.driver.query(In,".ng-star-inserted",!0).forEach(Lr=>Ct.add(Lr)):Jt.add(In))}const Lt=new Map,Dn=ri(W,Array.from(Ct));Dn.forEach((on,In)=>{const Nn=_n+Se++;Lt.set(In,Nn),on.forEach(Lr=>rr(Lr,Nn))}),e.push(()=>{J.forEach((on,In)=>{const Nn=ae.get(In);on.forEach(Lr=>bs(Lr,Nn))}),Dn.forEach((on,In)=>{const Nn=Lt.get(In);on.forEach(Lr=>bs(Lr,Nn))}),qe.forEach(on=>{this.processLeaveNode(on)})});const Cr=[],Jn=[];for(let on=this._namespaceList.length-1;on>=0;on--)this._namespaceList[on].drainQueuedTransitions(t).forEach(Nn=>{const Lr=Nn.player,Do=Nn.element;if(Cr.push(Lr),this.collectedEnterElements.length){const da=Do[ji];if(da&&da.setForMove){if(da.previousTriggersValues&&da.previousTriggersValues.has(Nn.triggerName)){const Mp=da.previousTriggersValues.get(Nn.triggerName),Nl=this.statesByElement.get(Nn.element);if(Nl&&Nl.has(Nn.triggerName)){const kI=Nl.get(Nn.triggerName);kI.value=Mp,Nl.set(Nn.triggerName,kI)}}return void Lr.destroy()}}const Gc=!U||!this.driver.containsElement(U,Do),zu=Lt.get(Do),af=ae.get(Do),rs=this._buildInstruction(Nn,r,af,zu,Gc);if(rs.errors&&rs.errors.length)return void Jn.push(rs);if(Gc)return Lr.onStart(()=>fe(Do,rs.fromStyles)),Lr.onDestroy(()=>K(Do,rs.toStyles)),void i.push(Lr);if(Nn.isFallbackTransition)return Lr.onStart(()=>fe(Do,rs.fromStyles)),Lr.onDestroy(()=>K(Do,rs.toStyles)),void i.push(Lr);const eP=[];rs.timelines.forEach(da=>{da.stretchStartingKeyframe=!0,this.disabledNodes.has(da.element)||eP.push(da)}),rs.timelines=eP,r.append(Do,rs.timelines),l.push({instruction:rs,player:Lr,element:Do}),rs.queriedElements.forEach(da=>Pr(h,da,[]).push(Lr)),rs.preStyleProps.forEach((da,Mp)=>{if(da.size){let Nl=m.get(Mp);Nl||m.set(Mp,Nl=new Set),da.forEach((kI,lb)=>Nl.add(lb))}}),rs.postStyleProps.forEach((da,Mp)=>{let Nl=E.get(Mp);Nl||E.set(Mp,Nl=new Set),da.forEach((kI,lb)=>Nl.add(lb))})});if(Jn.length){const on=[];Jn.forEach(In=>{on.push(function ln(n,e){return new k.vHH(3505,!1)}())}),Cr.forEach(In=>In.destroy()),this.reportError(on)}const kr=new Map,Gi=new Map;l.forEach(on=>{const In=on.element;r.has(In)&&(Gi.set(In,In),this._beforeAnimationBuild(on.player.namespaceId,on.instruction,kr))}),i.forEach(on=>{const In=on.element;this._getPreviousPlayers(In,!1,on.namespaceId,on.triggerName,null).forEach(Lr=>{Pr(kr,In,[]).push(Lr),Lr.destroy()})});const ju=qe.filter(on=>Ao(on,m,E)),jd=new Map;Ss(jd,this.driver,Jt,E,ye.l3).forEach(on=>{Ao(on,m,E)&&ju.push(on)});const $v=new Map;J.forEach((on,In)=>{Ss($v,this.driver,new Set(on),m,ye.k1)}),ju.forEach(on=>{const In=jd.get(on),Nn=$v.get(on);jd.set(on,new Map([...Array.from(In?.entries()??[]),...Array.from(Nn?.entries()??[])]))});const Rp=[],XM=[],JM={};l.forEach(on=>{const{element:In,player:Nn,instruction:Lr}=on;if(r.has(In)){if(P.has(In))return Nn.onDestroy(()=>K(In,Lr.toStyles)),Nn.disabled=!0,Nn.overrideTotalTime(Lr.totalTime),void i.push(Nn);let Do=JM;if(Gi.size>1){let zu=In;const af=[];for(;zu=zu.parentNode;){const rs=Gi.get(zu);if(rs){Do=rs;break}af.push(zu)}af.forEach(rs=>Gi.set(rs,Do))}const Gc=this._buildAnimation(Nn.namespaceId,Lr,kr,u,$v,jd);if(Nn.setRealPlayer(Gc),Do===JM)Rp.push(Nn);else{const zu=this.playersByElement.get(Do);zu&&zu.length&&(Nn.parentPlayer=er(zu)),i.push(Nn)}}else fe(In,Lr.fromStyles),Nn.onDestroy(()=>K(In,Lr.toStyles)),XM.push(Nn),P.has(In)&&i.push(Nn)}),XM.forEach(on=>{const In=u.get(on.element);if(In&&In.length){const Nn=er(In);on.setRealPlayer(Nn)}}),i.forEach(on=>{on.parentPlayer?on.syncPlayerEvents(on.parentPlayer):on.destroy()});for(let on=0;on<qe.length;on++){const In=qe[on],Nn=In[ji];if(bs(In,_n),Nn&&Nn.hasAnimation)continue;let Lr=[];if(h.size){let Gc=h.get(In);Gc&&Gc.length&&Lr.push(...Gc);let zu=this.driver.query(In,Vr,!0);for(let af=0;af<zu.length;af++){let rs=h.get(zu[af]);rs&&rs.length&&Lr.push(...rs)}}const Do=Lr.filter(Gc=>!Gc.destroyed);Do.length?Wa(this,In,Do):this.processLeaveNode(In)}return qe.length=0,Rp.forEach(on=>{this.players.push(on),on.onDone(()=>{on.destroy();const In=this.players.indexOf(on);this.players.splice(In,1)}),on.play()}),Rp}elementContainsData(e,t){let r=!1;const i=t[ji];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const m=!u||u==us;h.forEach(E=>{E.queued||!m&&E.triggerName!=i||l.push(E)})}}return(r||i)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),l}_beforeAnimationBuild(e,t,r){const u=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const E=m.element,P=E!==u,U=Pr(r,E,[]);this._getPreviousPlayers(E,P,l,h,t.toState).forEach(J=>{const ae=J.getRealPlayer();ae.beforeDestroy&&ae.beforeDestroy(),J.destroy(),U.push(J)})}fe(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,l){const h=t.triggerName,m=t.element,E=[],P=new Set,U=new Set,W=t.timelines.map(ae=>{const Se=ae.element;P.add(Se);const qe=Se[ji];if(qe&&qe.removedBeforeQueried)return new ye.ZN(ae.duration,ae.delay);const Ct=Se!==m,Jt=function Gs(n){const e=[];return ci(n,e),e}((r.get(Se)||as).map(kr=>kr.getRealPlayer())).filter(kr=>!!kr.element&&kr.element===Se),Lt=u.get(Se),Dn=l.get(Se),Cr=sr(0,this._normalizer,0,ae.keyframes,Lt,Dn),Jn=this._buildPlayer(ae,Cr,Jt);if(ae.subTimeline&&i&&U.add(Se),Ct){const kr=new Qo(e,h,Se);kr.setRealPlayer(Jn),E.push(kr)}return Jn});E.forEach(ae=>{Pr(this.playersByQueriedElement,ae.element,[]).push(ae),ae.onDone(()=>function Ga(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,ae.element,ae))}),P.forEach(ae=>rr(ae,Br));const J=er(W);return J.onDestroy(()=>{P.forEach(ae=>bs(ae,Br)),K(m,t.toStyles)}),U.forEach(ae=>{Pr(i,ae,[]).push(J)}),J}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ye.ZN(e.duration,e.delay)}}class Qo{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ye.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Mr(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Pr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ga(n){return n&&1===n.nodeType}function ur(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Ss(n,e,t,r,i){const u=[];t.forEach(m=>u.push(ur(m)));const l=[];r.forEach((m,E)=>{const P=new Map;m.forEach(U=>{const W=e.computeStyle(E,U,i);P.set(U,W),(!W||0==W.length)&&(E[ji]=Ha,l.push(E))}),n.set(E,P)});let h=0;return t.forEach(m=>ur(m,u[h++])),l}function ri(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=1,i=new Set(e),u=new Map;function l(h){if(!h)return r;let m=u.get(h);if(m)return m;const E=h.parentNode;return m=t.has(E)?E:i.has(E)?r:l(E),u.set(h,m),m}return e.forEach(h=>{const m=l(h);m!==r&&t.get(m).push(h)}),t}function rr(n,e){n.classList?.add(e)}function bs(n,e){n.classList?.remove(e)}function Wa(n,e,t){er(t).onDone(()=>n.processLeaveNode(e))}function ci(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ye.ZE?ci(r.players,e):e.push(r)}}function Ao(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class ms{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new hc(e,t,r),this._timelineEngine=new Ko(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const l=e+"-"+i;let h=this._triggerCache[l];if(!h){const m=[],E=[],P=we(this._driver,u,m,E);if(m.length)throw function Le(n,e){return new k.vHH(3404,!1)}();h=function Va(n,e,t){return new $a(n,e,t)}(i,P,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,l]=Sn(r);this._timelineEngine.command(u,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[l,h]=Sn(r);return this._timelineEngine.listen(l,t,h,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ws=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&K(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(K(this._element,this._initialStyles),this._endStyles&&(K(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fe(this._element,this._endStyles),this._endStyles=null),K(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function lo(n){let e=null;return n.forEach((t,r)=>{(function fn(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class ys{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:jt(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ma{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return nr(e,t)}getParentElement(e){return cr(e)}query(e,t,r){return Vt(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,l=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(m.easing=u);const E=new Map,P=l.filter(J=>J instanceof ys);(function $t(n,e){return 0===n||0===e})(r,i)&&P.forEach(J=>{J.currentSnapshot.forEach((ae,Se)=>E.set(Se,ae))});let U=function We(n){return n.length?n[0]instanceof Map?n:n.map(e=>le(e)):[]}(t).map(J=>tt(J));U=function Xt(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,l)=>{r.has(l)||i.push(l),r.set(l,u)}),i.length)for(let u=1;u<e.length;u++){let l=e[u];i.forEach(h=>l.set(h,jt(n,h)))}}return e}(e,U,E);const W=function Di(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=lo(e[0]),e.length>1&&(r=lo(e[e.length-1]))):e instanceof Map&&(t=lo(e)),t||r?new Ws(n,t,r):null}(e,U);return new ys(e,U,m,W)}}var Zo=O(6895);let _u=(()=>{class n extends ye._j{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:k.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?(0,ye.vP)(t):t;return ii(this._renderer,null,r,"register",[i]),new ya(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(k.FYo),k.LFG(Zo.K0))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})();class ya extends ye.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Qu(this._id,e,t||{},this._renderer)}}class Qu{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ii(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ii(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const He="@.disabled";let $n=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,l)=>{const h=l?.parentNode(u);h&&l.removeChild(h,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let P=this._rendererCache.get(u);return P||(P=new co("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,P)),P}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const m=P=>{Array.isArray(P)?P.forEach(m):this.engine.registerTrigger(l,h,t,P.name,P)};return r.data.animation.forEach(m),new Ro(this,h,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[l,h]=u;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(k.FYo),k.LFG(ms),k.LFG(k.R0b))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})();class co{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==He?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ro extends co{constructor(e,t,r,i,u){super(t,r,i,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==He?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function lr(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),l="";return"@"!=u.charAt(0)&&([u,l]=function Yu(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let ho=(()=>{class n extends ms{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(Zo.K0),k.LFG(or),k.LFG(os),k.LFG(k.z2F))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})();const Zu=[{provide:ye._j,useClass:_u},{provide:os,useFactory:function _s(){return new fa}},{provide:ms,useClass:ho},{provide:k.FYo,useFactory:function _a(n,e,t){return new $n(n,e,t)},deps:[D.se,ms,k.R0b]}],Ka=[{provide:or,useFactory:()=>new ma},{provide:k.QbO,useValue:"BrowserAnimations"},...Zu],qa=[{provide:or,useClass:mr},{provide:k.QbO,useValue:"NoopAnimations"},...Zu];let va=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?qa:Ka}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:Ka,imports:[D.b2]}),n})();var mi=O(3692);const ls_firebase={projectId:"appdemo-68c75",appId:"1:730824994016:web:6437d3a215161633e4f485",storageBucket:"appdemo-68c75.appspot.com",apiKey:"AIzaSyChFChziV9ItB_PzzXhmwIivOEMR9xdFP4",authDomain:"appdemo-68c75.firebaseapp.com",messagingSenderId:"730824994016",measurementId:"G-QTHS3R8MH1"};var Po=O(7158),Ar=O(8623),Ll=O(259),Xu=O(2313),zi=O(5861),Wr=O(2951),fo=O(4859),Ae=O(2090),Ks=O(1877);const Qa="@firebase/database";let Eu="";class Ya{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,Ae.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,Ae.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class wu{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,Ae.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Za=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ya(e)}}catch{}return new wu},qs=Za("localStorage"),Iu=Za("sessionStorage"),Zr=new Ks.Yd("@firebase/database"),cs=function(){let n=1;return function(){return n++}}(),vr=function(n){const e=(0,Ae.dS)(n),t=new Ae.gQ;t.update(e);const r=t.digest();return Ae.US.encodeByteArray(r)},xo=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=xo.apply(null,r):e+="object"==typeof r?(0,Ae.Wl)(r):r,e+=" "}return e};let go=null,fc=!0;const di=function(...n){if(!0===fc&&(fc=!1,null===go&&!0===Iu.get("logging_enabled")&&function(n,e){(0,Ae.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Zr.logLevel=Ks.in.VERBOSE,go=Zr.log.bind(Zr),e&&Iu.set("logging_enabled",!0)):"function"==typeof n?go=n:(go=null,Iu.remove("logging_enabled"))}(!0)),go){const e=xo.apply(null,n);go(e)}},Ea=function(n){return function(...e){di(n,...e)}},Xo=function(...n){const e="FIREBASE INTERNAL ERROR: "+xo(...n);Zr.error(e)},vs=function(...n){const e=`FIREBASE FATAL ERROR: ${xo(...n)}`;throw Zr.error(e),new Error(e)},hi=function(...n){const e="FIREBASE WARNING: "+xo(...n);Zr.warn(e)},F=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},j="[MIN_NAME]",Z="[MAX_NAME]",Oe=function(n,e){if(n===e)return 0;if(n===j||e===Z)return-1;if(e===j||n===Z)return 1;{const t=ir(n),r=ir(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Je=function(n,e){return n===e?0:n<e?-1:1},Pt=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,Ae.Wl)(e))},Yn=function(n){if("object"!=typeof n||null===n)return(0,Ae.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,Ae.Wl)(e[r]),t+=":",t+=Yn(n[e[r]]);return t+="}",t},Fn=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function sn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Un=function(n){(0,Ae.hu)(!F(n),"Invalid JSON number");const r=1023;let i,u,l,h,m;0===n?(u=0,l=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=h+r,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(u=0,l=Math.round(n/Math.pow(2,-1074))));const E=[];for(m=52;m;m-=1)E.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)E.push(u%2?1:0),u=Math.floor(u/2);E.push(i?1:0),E.reverse();const P=E.join("");let U="";for(m=0;m<64;m+=8){let W=parseInt(P.substr(m,8),2).toString(16);1===W.length&&(W="0"+W),U+=W}return U.toLowerCase()},Rs=new RegExp("^-?(0*)\\d{1,10}$"),ir=function(n){if(Rs.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},ds=function(n){try{n()}catch(e){setTimeout(()=>{throw hi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},mo=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ms=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Fl{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){hi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ju{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(di("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hi(e)}}let el=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Cu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Si="websocket",nl="long_polling";class Ia{constructor(e,t,r,i,u=!1,l="",h=!1,m=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=u,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qs.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Vl(n,e,t){let r;if((0,Ae.hu)("string"==typeof e,"typeof type must == string"),(0,Ae.hu)("object"==typeof t,"typeof params must == object"),e===Si)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==nl)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function eu(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return sn(t,(u,l)=>{i.push(u+"="+l)}),r+i.join("&")}class Du{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,Ae.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,Ae.p$)(this.counters_)}}const rl={},Ta={};function xs(n){const e=n.toString();return rl[e]||(rl[e]=new Du),rl[e]}class Ca{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ds(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ns{constructor(e,t,r,i,u,l,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=u,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ea(e),this.stats_=xs(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),Vl(t,nl,m))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ca(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,Ae.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kc((...u)=>{const[l,h,m,E,P]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[l,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Cu.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ns.forceAllow_=!0}static forceDisallow(){Ns.forceDisallow_=!0}static isAvailable(){return!((0,Ae.Yr)()||!Ns.forceAllow_&&(Ns.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,Ae.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,Ae.h$)(t),i=Fn(r,1840);for(let u=0;u<i.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[u]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,Ae.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,Ae.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Kc{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Ae.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=cs(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Kc.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){di("frame writing exception"),h.stack&&di(h.stack),di(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||di("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,Ae.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{di("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let bi=null;typeof MozWebSocket<"u"?bi=MozWebSocket:typeof WebSocket<"u"&&(bi=WebSocket);let bu=(()=>{class n{constructor(t,r,i,u,l,h,m){this.connId=t,this.applicationId=i,this.appCheckToken=u,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ea(this.connId),this.stats_=xs(r),this.connURL=n.connectionURL_(r,h,m,u,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,u,l){const h={v:"5"};return!(0,Ae.Yr)()&&typeof location<"u"&&location.hostname&&Cu.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),u&&(h.ac=u),l&&(h.p=l),Vl(t,Si,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qs.set("previous_websocket_failure",!0);try{let i;if((0,Ae.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Eu}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new bi(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const u=i.message||i.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const u=i.message||i.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==bi&&!n.forceDisallow_}static previouslyFailed(){return qs.isInMemoryStorage||!0===qs.get("previous_websocket_failure")}markConnectionHealthy(){qs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,Ae.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,Ae.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,Ae.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=Fn(r,16384);i.length>1&&this.sendString_(String(i.length));for(let u=0;u<i.length;u++)this.sendString_(i[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),jl=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ns,bu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=bu&&bu.isAvailable();let i=r&&!bu.previouslyFailed();if(t.webSocketOnly&&(r||hi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[bu];else{const u=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&u.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class b{constructor(e,t,r,i,u,l,h,m,E,P){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=u,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=m,this.onKill_=E,this.lastSessionId=P,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ea("c:"+this.id+":"),this.transportManager_=new jl(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ms(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Pt("t",e),r=Pt("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Pt("t",e),r=Pt("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Pt("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Xo("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xo("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&hi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Ms(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ms(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class N{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class ${constructor(e){this.allowedEvents_=e,this.listeners_={},(0,Ae.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let u=0;u<i.length;u++)if(i[u].callback===t&&(!r||r===i[u].context))return void i.splice(u,1)}validateEventType_(e){(0,Ae.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class G extends ${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,Ae.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new G}getInitialEvent(e){return(0,Ae.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Ee=32,Ke=768;class rt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function it(){return new rt("")}function Rt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Nr(n){return n.pieces_.length-n.pieceNum_}function Gn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new rt(n.pieces_,e)}function Os(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ni(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function ru(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new rt(e,0)}function wr(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof rt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new rt(t,0)}function wn(n){return n.pieceNum_>=n.pieces_.length}function hs(n,e){const t=Rt(n),r=Rt(e);if(null===t)return e;if(t===r)return hs(Gn(n),Gn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function al(n,e){if(Nr(n)!==Nr(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ks(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Nr(n)>Nr(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Aa{constructor(e,t){this.errorPrefix_=t,this.parts_=Ni(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,Ae.ug)(this.parts_[r]);ll(this)}}function ll(n){if(n.byteLength_>Ke)throw new Error(n.errorPrefix_+"has a key path longer than "+Ke+" bytes ("+n.byteLength_+").");if(n.parts_.length>Ee)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ee+") or object contains a cycle "+Fo(n))}function Fo(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class _o extends ${constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new _o}getInitialEvent(e){return(0,Ae.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const na=1e3;let _c,Uo=(()=>{class n extends N{constructor(t,r,i,u,l,h,m,E){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=u,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=E,this.id=n.nextPersistentConnectionId_++,this.log_=Ea("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=na,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,E&&!(0,Ae.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_o.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&G.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const u=++this.requestNumber_,l={r:u,a:t,b:r};this.log_((0,Ae.Wl)(l)),(0,Ae.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[u]=i)}get(t){this.initConnection_();const r=new Ae.BH,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;"ok"===h.s?r.resolve(m):r.reject(m)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,u){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,Ae.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Ae.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const m={onComplete:u,hashFn:r,query:t,tag:i};this.listens.get(h).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+i+" for "+u);const l={p:i};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,m=>{const E=m.d,P=m.s;n.warnOnListenWarnings_(E,r),(this.listens.get(i)&&this.listens.get(i).get(u))===t&&(this.log_("listen response",m),"ok"!==P&&this.removeListen_(i,u),t.onComplete&&t.onComplete(P,E))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,Ae.r3)(t,"w")){const i=(0,Ae.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();hi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,Ae.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,Ae.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,u=>{const l=u.s,h=u.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+u),(0,Ae.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,u)&&this.connected_&&this.sendUnlisten_(i,u,t._queryObject,r)}sendUnlisten_(t,r,i,u){this.log_("Unlisten on "+t+" for "+r);const l={p:t};u&&(l.q=i,l.t=u),this.sendRequest("n",l)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,u){const l={p:r,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(t,r,i,u){this.putInternal("p",t,r,i,u)}merge(t,r,i,u){this.putInternal("m",t,r,i,u)}putInternal(t,r,i,u,l){this.initConnection_();const h={p:r,d:i};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,Ae.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Xo("Unrecognized action received from server: "+(0,Ae.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,Ae.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=na),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,zi.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),u=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let m=!1,E=null;const P=function(){E?E.close():(m=!0,u())};t.realtime_={close:P,sendRequest:function(J){(0,Ae.hu)(E,"sendRequest call when we're not connected not allowed."),E.sendRequest(J)}};const W=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[J,ae]=yield Promise.all([t.authTokenProvider_.getToken(W),t.appCheckTokenProvider_.getToken(W)]);m?di("getToken() completed but was canceled"):(di("getToken() completed. Creating connection."),t.authToken_=J&&J.accessToken,t.appCheckToken_=ae&&ae.token,E=new b(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,u,Se=>{hi(Se+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(J){t.log_("Failed to get token: "+J),m||(t.repoInfo_.nodeAdmin&&hi(J),P())}}})()}interrupt(t){di("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){di("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,Ae.xb)(this.interruptReasons_)&&(this.reconnectDelay_=na,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(l=>Yn(l)).join("$"):"default";const u=this.removeListen_(t,i);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const i=new rt(t).toString();let u;if(this.listens.has(i)){const l=this.listens.get(i);u=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else u=void 0;return u}onAuthRevoked_(t,r){di("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){di("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,Ae.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Eu.replace(/\./g,"-")]=1,(0,Ae.uI)()?t["framework.cordova"]=1:(0,Ae.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=G.getInstance().currentlyOnline();return(0,Ae.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class jn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new jn(e,t)}}class Ra{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new jn(j,e),i=new jn(j,t);return 0!==this.compare(r,i)}minPost(){return jn.MIN}}class iu extends Ra{static get __EMPTY_NODE(){return _c}static set __EMPTY_NODE(e){_c=e}compare(e,t){return Oe(e.name,t.name)}isDefinedOn(e){throw(0,Ae.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return jn.MIN}maxPost(){return new jn(Z,_c)}makePost(e,t){return(0,Ae.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new jn(e,_c)}toString(){return".key"}}const Qs=new iu;class su{constructor(e,t,r,i,u=null){this.isReverse_=i,this.resultGenerator_=u,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Gd,Ys=(()=>{class n{constructor(t,r,i,u,l){this.key=t,this.value=r,this.color=i??n.RED,this.left=u??fs.EMPTY_NODE,this.right=l??fs.EMPTY_NODE}copy(t,r,i,u,l){return new n(t??this.key,r??this.value,i??this.color,u??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let u=this;const l=i(t,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(t,r,i),null):0===l?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,i)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return fs.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,u;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return fs.EMPTY_NODE;u=i.right.min_(),i=i.copy(u.key,u.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class fs{constructor(e,t=fs.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new fs(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ys.BLACK,null,null))}remove(e){return new fs(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ys.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new su(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new su(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new su(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new su(this.root_,null,this.comparator_,!0,e)}}function Hd(n,e){return Oe(n.name,e.name)}function Mu(n,e){return Oe(n,e)}fs.EMPTY_NODE=new class xp{copy(e,t,r,i,u){return this}insert(e,t,r){return new Ys(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const x=function(n){return"number"==typeof n?"number:"+Un(n):"string:"+n},V=function(n){if(n.isLeafNode()){const e=n.val();(0,Ae.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,Ae.r3)(e,".sv"),"Priority must be a string or number.")}else(0,Ae.hu)(n===Gd||n.isEmpty(),"priority of unexpected type.");(0,Ae.hu)(n===Gd||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Q,De,Ze,ge=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,Ae.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),V(this.priorityNode_)}static set __childrenNodeConstructor(t){Q=t}static get __childrenNodeConstructor(){return Q}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return wn(t)?this:".priority"===Rt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Rt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,Ae.hu)(".priority"!==i||1===Nr(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+x(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?Un(this.value_):this.value_,this.lazyHash_=vr(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,Ae.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(i);return(0,Ae.hu)(u>=0,"Unknown leaf type: "+r),(0,Ae.hu)(l>=0,"Unknown leaf type: "+i),u===l?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-u}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const zt=new class Qt extends Ra{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),u=r.compareTo(i);return 0===u?Oe(e.name,t.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return jn.MIN}maxPost(){return new jn(Z,new ge("[PRIORITY-POST]",Ze))}makePost(e,t){const r=De(e);return new jn(t,new ge("[PRIORITY-POST]",r))}toString(){return".priority"}},Tn=Math.log(2);class Ls{constructor(e){this.count=parseInt(Math.log(e+1)/Tn,10),this.current_=this.count-1;const i=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ir=function(n,e,t,r){n.sort(e);const i=function(m,E){const P=E-m;let U,W;if(0===P)return null;if(1===P)return U=n[m],W=t?t(U):U,new Ys(W,U.node,Ys.BLACK,null,null);{const J=parseInt(P/2,10)+m,ae=i(m,J),Se=i(J+1,E);return U=n[J],W=t?t(U):U,new Ys(W,U.node,Ys.BLACK,ae,Se)}},h=function(m){let E=null,P=null,U=n.length;const W=function(ae,Se){const qe=U-ae,Ct=U;U-=ae;const Jt=i(qe+1,Ct),Lt=n[qe],Dn=t?t(Lt):Lt;J(new Ys(Dn,Lt.node,Se,null,Jt))},J=function(ae){E?(E.left=ae,E=ae):(P=ae,E=ae)};for(let ae=0;ae<m.count;++ae){const Se=m.nextBitIsOne(),qe=Math.pow(2,m.count-(ae+1));Se?W(qe,Ys.BLACK):(W(qe,Ys.BLACK),W(qe,Ys.RED))}return P}(new Ls(n.length));return new fs(r||e,h)};let Ma;const ou={};class Zs{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,Ae.hu)(ou&&zt,"ChildrenNode.ts has not been loaded"),Ma=Ma||new Zs({".priority":ou},{".priority":zt}),Ma}get(e){const t=(0,Ae.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof fs?t:null}hasIndex(e){return(0,Ae.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,Ae.hu)(e!==Qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const u=t.getIterator(jn.Wrap);let h,l=u.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=u.getNext();h=i?Ir(r,e.getCompare()):ou;const m=e.toString(),E=Object.assign({},this.indexSet_);E[m]=e;const P=Object.assign({},this.indexes_);return P[m]=h,new Zs(P,E)}addToIndexes(e,t){const r=(0,Ae.UI)(this.indexes_,(i,u)=>{const l=(0,Ae.DV)(this.indexSet_,u);if((0,Ae.hu)(l,"Missing index implementation for "+u),i===ou){if(l.isDefinedOn(e.node)){const h=[],m=t.getIterator(jn.Wrap);let E=m.getNext();for(;E;)E.name!==e.name&&h.push(E),E=m.getNext();return h.push(e),Ir(h,l.getCompare())}return ou}{const h=t.get(e.name);let m=i;return h&&(m=m.remove(new jn(e.name,h))),m.insert(e,e.node)}});return new Zs(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,Ae.UI)(this.indexes_,i=>{if(i===ou)return i;{const u=t.get(e.name);return u?i.remove(new jn(e.name,u)):i}});return new Zs(r,this.indexSet_)}}let ps,pn=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&V(this.priorityNode_),this.children_.isEmpty()&&(0,Ae.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ps||(ps=new n(new fs(Mu),null,Zs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ps}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?ps:r}}getChild(t){const r=Rt(t);return null===r?this:this.getImmediateChild(r).getChild(Gn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,Ae.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new jn(t,r);let u,l;r.isEmpty()?(u=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(u=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(i,this.children_));const h=u.isEmpty()?ps:this.priorityNode_;return new n(u,h,l)}}updateChild(t,r){const i=Rt(t);if(null===i)return r;{(0,Ae.hu)(".priority"!==Rt(t)||1===Nr(t),".priority must be the last token in a path");const u=this.getImmediateChild(i).updateChild(Gn(t),r);return this.updateImmediateChild(i,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,u=0,l=!0;if(this.forEachChild(zt,(h,m)=>{r[h]=m.val(t),i++,l&&n.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):l=!1}),!t&&l&&u<2*i){const h=[];for(const m in r)h[m]=r[m];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+x(this.getPriority().val())+":"),this.forEachChild(zt,(r,i)=>{const u=i.hash();""!==u&&(t+=":"+r+":"+u)}),this.lazyHash_=""===t?"":vr(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const u=this.resolveIndex_(i);if(u){const l=u.getPredecessorKey(new jn(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new jn(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new jn(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,jn.Wrap);let l=u.peek();for(;null!=l&&r.compare(l,t)<0;)u.getNext(),l=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,jn.Wrap);let l=u.peek();for(;null!=l&&r.compare(l,t)>0;)u.getNext(),l=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Jc?-1:0}withIndex(t){if(t===Qs||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Qs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(zt),u=r.getIterator(zt);let l=i.getNext(),h=u.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=i.getNext(),h=u.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===Qs?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Jc=new class Wd extends pn{constructor(){super(new fs(Mu),pn.EMPTY_NODE,Zs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(jn,{MIN:{value:new jn(j,pn.EMPTY_NODE)},MAX:{value:new jn(Z,Jc)}}),iu.__EMPTY_NODE=pn.EMPTY_NODE,ge.__childrenNodeConstructor=pn,function S(n){Gd=n}(Jc),function xt(n){Ze=n}(Jc);const Um=!0;function pi(n,e=null){if(null===n)return pn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,Ae.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ge(n,pi(e));if(n instanceof Array||!Um){let t=pn.EMPTY_NODE;return sn(n,(r,i)=>{if((0,Ae.r3)(n,r)&&"."!==r.substring(0,1)){const u=pi(i);(u.isLeafNode()||!u.isEmpty())&&(t=t.updateImmediateChild(r,u))}}),t.updatePriority(pi(e))}{const t=[];let r=!1;if(sn(n,(l,h)=>{if("."!==l.substring(0,1)){const m=pi(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),t.push(new jn(l,m)))}}),0===t.length)return pn.EMPTY_NODE;const u=Ir(t,Hd,l=>l.name,Mu);if(r){const l=Ir(t,zt.getCompare());return new pn(u,pi(e),new Zs({".priority":l},{".priority":zt}))}return new pn(u,pi(e),Zs.Default)}}!function Ut(n){De=n}(pi);class ed extends Ra{constructor(e){super(),this.indexPath_=e,(0,Ae.hu)(!wn(e)&&".priority"!==Rt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),u=r.compareTo(i);return 0===u?Oe(e.name,t.name):u}makePost(e,t){const r=pi(e),i=pn.EMPTY_NODE.updateChild(this.indexPath_,r);return new jn(t,i)}maxPost(){const e=pn.EMPTY_NODE.updateChild(this.indexPath_,Jc);return new jn(Z,e)}toString(){return Ni(this.indexPath_,0).join("/")}}const Fs=new class Bm extends Ra{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Oe(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return jn.MIN}maxPost(){return jn.MAX}makePost(e,t){const r=pi(e);return new jn(t,r)}toString(){return".value"}};function Oi(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class Qd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=zt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Ae.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Ae.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:j}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Ae.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Ae.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Z}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Ae.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===zt}copy(){const e=new Qd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zm(n){const e={};if(n.isDefault())return e;let t;if(n.index_===zt?t="$priority":n.index_===Fs?t="$value":n.index_===Qs?t="$key":((0,Ae.hu)(n.index_ instanceof ed,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,Ae.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,Ae.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,Ae.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,Ae.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,Ae.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function nd(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==zt&&(e.i=n.index_.toString()),e}class wc extends N{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ea("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,Ae.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const l=wc.getListenId_(e,r),h={};this.listens_[l]=h;const m=zm(e._queryParams);this.restRequest_(u+".json",m,(E,P)=>{let U=P;if(404===E&&(U=null,E=null),null===E&&this.onDataUpdate_(u,U,!1,r),(0,Ae.DV)(this.listens_,l)===h){let W;W=E?401===E?"permission_denied":"rest_error:"+E:"ok",i(W,null)}})}unlisten(e,t){const r=wc.getListenId_(e,t);delete this.listens_[r]}get(e){const t=zm(e._queryParams),r=e._path.toString(),i=new Ae.BH;return this.restRequest_(r+".json",t,(u,l)=>{let h=l;404===u&&(h=null,u=null),null===u?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,u])=>{i&&i.accessToken&&(t.auth=i.accessToken),u&&u.token&&(t.ac=u.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,Ae.xO)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=(0,Ae.cI)(h.responseText)}catch{hi("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,m)}else 401!==h.status&&404!==h.status&&hi("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}class kp{constructor(){this.rootNode_=pn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Pu(){return{value:null,children:new Map}}function xu(n,e,t){if(wn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Rt(e);n.children.has(r)||n.children.set(r,Pu()),xu(n.children.get(r),e=Gn(e),t)}}function cl(n,e,t){null!==n.value?t(e,n.value):function df(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{cl(i,new rt(e.toString()+"/"+r),t)})}class Lp{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&sn(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Hm{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Lp(e);const r=1e4+2e4*Math.random();Ms(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;sn(e,(i,u)=>{u>0&&(0,Ae.r3)(this.statsToReport_,i)&&(t[i]=u,r=!0)}),r&&this.server_.reportStats(t),Ms(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ra=(()=>{return(n=ra||(ra={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ra;var n})();function g(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class T{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ra.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(wn(this.path)){if(null!=this.affectedTree.value)return(0,Ae.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new rt(e));return new T(it(),t,this.revert)}}return(0,Ae.hu)(Rt(this.path)===e,"operationForChild called for unrelated child."),new T(Gn(this.path),this.affectedTree,this.revert)}}class H{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ra.OVERWRITE}operationForChild(e){return wn(this.path)?new H(this.source,it(),this.snap.getImmediateChild(e)):new H(this.source,Gn(this.path),this.snap)}}class ve{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ra.MERGE}operationForChild(e){if(wn(this.path)){const t=this.children.subtree(new rt(e));return t.isEmpty()?null:t.value?new H(this.source,it(),t.value):new ve(this.source,it(),t)}return(0,Ae.hu)(Rt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ve(this.source,Gn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ke{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(wn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Rt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Yt(n,e,t,r,i,u){const l=r.filter(h=>h.type===t);l.sort((h,m)=>function Xs(n,e,t){if(null==e.childName||null==t.childName)throw(0,Ae.g5)("Should only compare child_ events.");const r=new jn(e.childName,e.snapshotNode),i=new jn(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,m)),l.forEach(h=>{const m=function Ln(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,u);i.forEach(E=>{E.respondsTo(h.type)&&e.push(E.createEvent(m,n.query_))})})}function ia(n,e){return{eventCache:n,serverCache:e}}function dl(n,e,t,r){return ia(new ke(e,t,r),n.serverCache)}function Bp(n,e,t,r){return ia(n.eventCache,new ke(e,t,r))}function Nu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function hl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let id;class zr{constructor(e,t=(()=>(id||(id=new fs(Je)),id))()){this.value=e,this.children=t}static fromObject(e){let t=new zr(null);return sn(e,(r,i)=>{t=t.set(new rt(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:it(),value:this.value};if(wn(e))return null;{const r=Rt(e),i=this.children.get(r);if(null!==i){const u=i.findRootMostMatchingPathAndValue(Gn(e),t);return null!=u?{path:wr(new rt(r),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(wn(e))return this;{const t=Rt(e),r=this.children.get(t);return null!==r?r.subtree(Gn(e)):new zr(null)}}set(e,t){if(wn(e))return new zr(t,this.children);{const r=Rt(e),u=(this.children.get(r)||new zr(null)).set(Gn(e),t),l=this.children.insert(r,u);return new zr(this.value,l)}}remove(e){if(wn(e))return this.children.isEmpty()?new zr(null):new zr(null,this.children);{const t=Rt(e),r=this.children.get(t);if(r){const i=r.remove(Gn(e));let u;return u=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&u.isEmpty()?new zr(null):new zr(this.value,u)}return this}}get(e){if(wn(e))return this.value;{const t=Rt(e),r=this.children.get(t);return r?r.get(Gn(e)):null}}setTree(e,t){if(wn(e))return t;{const r=Rt(e),u=(this.children.get(r)||new zr(null)).setTree(Gn(e),t);let l;return l=u.isEmpty()?this.children.remove(r):this.children.insert(r,u),new zr(this.value,l)}}fold(e){return this.fold_(it(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,u)=>{r[i]=u.fold_(wr(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,it(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(wn(e))return null;{const u=Rt(e),l=this.children.get(u);return l?l.findOnPath_(Gn(e),wr(t,u),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,it(),t)}foreachOnPath_(e,t,r){if(wn(e))return this;{this.value&&r(t,this.value);const i=Rt(e),u=this.children.get(i);return u?u.foreachOnPath_(Gn(e),wr(t,i),r):new zr(null)}}foreach(e){this.foreach_(it(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(wr(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class vo{constructor(e){this.writeTree_=e}static empty(){return new vo(new zr(null))}}function fl(n,e,t){if(wn(e))return new vo(new zr(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let u=r.value;const l=hs(i,e);return u=u.updateChild(l,t),new vo(n.writeTree_.set(i,u))}{const i=new zr(t),u=n.writeTree_.setTree(e,i);return new vo(u)}}}function Kl(n,e,t){let r=n;return sn(t,(i,u)=>{r=fl(r,wr(e,i),u)}),r}function sd(n,e){if(wn(e))return vo.empty();{const t=n.writeTree_.setTree(e,new zr(null));return new vo(t)}}function Ic(n,e){return null!=Ou(n,e)}function Ou(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(hs(t.path,e)):null}function Vp(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(zt,(r,i)=>{e.push(new jn(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new jn(r,i.value))}),e}function pl(n,e){if(wn(e))return n;{const t=Ou(n,e);return new vo(null!=t?new zr(t):n.writeTree_.subtree(e))}}function od(n){return n.writeTree_.isEmpty()}function Xd(n,e){return Gm(it(),n.writeTree_,e)}function Gm(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,u)=>{".priority"===i?((0,Ae.hu)(null!==u.value,"Priority writes must always be leaf nodes"),r=u.value):t=Gm(wr(n,i),u,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(wr(n,".priority"),r)),t}}function $p(n,e){return qv(e,n)}function jp(n,e){if(n.snap)return ks(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ks(wr(n.path,t),e))return!0;return!1}function Jd(n){return n.visible}function Hv(n,e,t){let r=vo.empty();for(let i=0;i<n.length;++i){const u=n[i];if(e(u)){const l=u.path;let h;if(u.snap)ks(t,l)?(h=hs(t,l),r=fl(r,h,u.snap)):ks(l,t)&&(h=hs(l,t),r=fl(r,it(),u.snap.getChild(h)));else{if(!u.children)throw(0,Ae.g5)("WriteRecord should have .snap or .children");if(ks(t,l))h=hs(t,l),r=Kl(r,h,u.children);else if(ks(l,t))if(h=hs(l,t),wn(h))r=Kl(r,it(),u.children);else{const m=(0,Ae.DV)(u.children,Rt(h));if(m){const E=m.getChild(Gn(h));r=fl(r,it(),E)}}}}}return r}function Gv(n,e,t,r,i){if(r||i){const u=pl(n.visibleWrites,e);return!i&&od(u)?t:i||null!=t||Ic(u,it())?Xd(Hv(n.allWrites,function(E){return(E.visible||i)&&(!r||!~r.indexOf(E.writeId))&&(ks(E.path,e)||ks(e,E.path))},e),t||pn.EMPTY_NODE):null}{const u=Ou(n.visibleWrites,e);if(null!=u)return u;{const l=pl(n.visibleWrites,e);return od(l)?t:null!=t||Ic(l,it())?Xd(l,t||pn.EMPTY_NODE):null}}}function eh(n,e,t,r){return Gv(n.writeTree,n.treePath,e,t,r)}function Hp(n,e){return function cb(n,e,t){let r=pn.EMPTY_NODE;const i=Ou(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(zt,(u,l)=>{r=r.updateImmediateChild(u,l)}),r;if(t){const u=pl(n.visibleWrites,e);return t.forEachChild(zt,(l,h)=>{const m=Xd(pl(u,new rt(l)),h);r=r.updateImmediateChild(l,m)}),Vp(u).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return Vp(pl(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function qm(n,e,t,r){return function UI(n,e,t,r,i){(0,Ae.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const u=wr(e,t);if(Ic(n.visibleWrites,u))return null;{const l=pl(n.visibleWrites,u);return od(l)?i.getChild(t):Xd(l,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function ff(n,e){return function BI(n,e){return Ou(n.visibleWrites,e)}(n.writeTree,wr(n.treePath,e))}function Qm(n,e,t){return function Km(n,e,t,r){const i=wr(e,t),u=Ou(n.visibleWrites,i);return null!=u?u:r.isCompleteForChild(t)?Xd(pl(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Kv(n,e){return qv(wr(n.treePath,e),n.writeTree)}function qv(n,e){return{treePath:n,writeTree:e}}class VI{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,Ae.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,Ae.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const u=i.type;if("child_added"===t&&"child_removed"===u)this.changeMap.set(r,Oi(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===u)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===u)this.changeMap.set(r,function Gl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===u)this.changeMap.set(r,function Hl(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==u)throw(0,Ae.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Oi(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const gl=new class $I{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class Tc{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new ke(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qm(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:hl(this.viewCache_),u=function ad(n,e,t,r,i,u){return function Wv(n,e,t,r,i,u,l){let h;const m=pl(n.visibleWrites,e),E=Ou(m,it());if(null!=E)h=E;else{if(null==t)return[];h=Xd(m,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const P=[],U=l.getCompare(),W=u?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let J=W.getNext();for(;J&&P.length<i;)0!==U(J,r)&&P.push(J),J=W.getNext();return P}}(n.writeTree,n.treePath,e,t,r,i,u)}(this.writes_,i,t,1,r,e);return 0===u.length?null:u[0]}}function Qv(n,e,t,r,i,u){const l=e.eventCache;if(null!=ff(r,t))return e;{let h,m;if(wn(t))if((0,Ae.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const E=hl(e),U=Hp(r,E instanceof pn?E:pn.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),U,u)}else{const E=eh(r,hl(e));h=n.filter.updateFullNode(e.eventCache.getNode(),E,u)}else{const E=Rt(t);if(".priority"===E){(0,Ae.hu)(1===Nr(t),"Can't have a priority with additional path components");const P=l.getNode();m=e.serverCache.getNode();const U=qm(r,t,P,m);h=null!=U?n.filter.updatePriority(P,U):l.getNode()}else{const P=Gn(t);let U;if(l.isCompleteForChild(E)){m=e.serverCache.getNode();const W=qm(r,t,l.getNode(),m);U=null!=W?l.getNode().getImmediateChild(E).updateChild(P,W):l.getNode().getImmediateChild(E)}else U=Qm(r,E,e.serverCache);h=null!=U?n.filter.updateChild(l.getNode(),E,U,P,i,u):l.getNode()}}return dl(e,h,l.isFullyInitialized()||wn(t),n.filter.filtersNodes())}}function Gp(n,e,t,r,i,u,l,h){const m=e.serverCache;let E;const P=l?n.filter:n.filter.getIndexedFilter();if(wn(t))E=P.updateFullNode(m.getNode(),r,null);else if(P.filtersNodes()&&!m.isFiltered()){const J=m.getNode().updateChild(t,r);E=P.updateFullNode(m.getNode(),J,null)}else{const J=Rt(t);if(!m.isCompleteForPath(t)&&Nr(t)>1)return e;const ae=Gn(t),qe=m.getNode().getImmediateChild(J).updateChild(ae,r);E=".priority"===J?P.updatePriority(m.getNode(),qe):P.updateChild(m.getNode(),J,qe,ae,gl,null)}const U=Bp(e,E,m.isFullyInitialized()||wn(t),P.filtersNodes());return Qv(n,U,t,i,new Tc(i,U,u),h)}function Wp(n,e,t,r,i,u,l){const h=e.eventCache;let m,E;const P=new Tc(i,e,u);if(wn(t))E=n.filter.updateFullNode(e.eventCache.getNode(),r,l),m=dl(e,E,!0,n.filter.filtersNodes());else{const U=Rt(t);if(".priority"===U)E=n.filter.updatePriority(e.eventCache.getNode(),r),m=dl(e,E,h.isFullyInitialized(),h.isFiltered());else{const W=Gn(t),J=h.getNode().getImmediateChild(U);let ae;if(wn(W))ae=r;else{const Se=P.getCompleteChild(U);ae=null!=Se?".priority"===Os(W)&&Se.getChild(ru(W)).isEmpty()?Se:Se.updateChild(W,r):pn.EMPTY_NODE}m=J.equals(ae)?e:dl(e,n.filter.updateChild(h.getNode(),U,ae,W,P,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return m}function Yv(n,e){return n.eventCache.isCompleteForChild(e)}function Zv(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ym(n,e,t,r,i,u,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let E,m=e;E=wn(t)?r:new zr(null).setTree(t,r);const P=e.serverCache.getNode();return E.children.inorderTraversal((U,W)=>{if(P.hasChild(U)){const ae=Zv(0,e.serverCache.getNode().getImmediateChild(U),W);m=Gp(n,m,new rt(U),ae,i,u,l,h)}}),E.children.inorderTraversal((U,W)=>{const J=!e.serverCache.isCompleteForChild(U)&&null===W.value;if(!P.hasChild(U)&&!J){const Se=Zv(0,e.serverCache.getNode().getImmediateChild(U),W);m=Gp(n,m,new rt(U),Se,i,u,l,h)}}),m}function db(n,e){const t=hl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!wn(e)&&!t.getImmediateChild(Rt(e)).isEmpty())?t.getChild(e):null}function Qp(n,e,t,r){e.type===ra.MERGE&&null!==e.source.queryId&&((0,Ae.hu)(hl(n.viewCache_),"We should always have a full cache before handling merges"),(0,Ae.hu)(Nu(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,u=function HI(n,e,t,r,i){const u=new VI;let l,h;if(t.type===ra.OVERWRITE){const E=t;E.source.fromUser?l=Wp(n,e,E.path,E.snap,r,i,u):((0,Ae.hu)(E.source.fromServer,"Unknown source."),h=E.source.tagged||e.serverCache.isFiltered()&&!wn(E.path),l=Gp(n,e,E.path,E.snap,r,i,h,u))}else if(t.type===ra.MERGE){const E=t;E.source.fromUser?l=function WI(n,e,t,r,i,u,l){let h=e;return r.foreach((m,E)=>{const P=wr(t,m);Yv(e,Rt(P))&&(h=Wp(n,h,P,E,i,u,l))}),r.foreach((m,E)=>{const P=wr(t,m);Yv(e,Rt(P))||(h=Wp(n,h,P,E,i,u,l))}),h}(n,e,E.path,E.children,r,i,u):((0,Ae.hu)(E.source.fromServer,"Unknown source."),h=E.source.tagged||e.serverCache.isFiltered(),l=Ym(n,e,E.path,E.children,r,i,h,u))}else if(t.type===ra.ACK_USER_WRITE){const E=t;l=E.revert?function pf(n,e,t,r,i,u){let l;if(null!=ff(r,t))return e;{const h=new Tc(r,e,i),m=e.eventCache.getNode();let E;if(wn(t)||".priority"===Rt(t)){let P;if(e.serverCache.isFullyInitialized())P=eh(r,hl(e));else{const U=e.serverCache.getNode();(0,Ae.hu)(U instanceof pn,"serverChildren would be complete if leaf node"),P=Hp(r,U)}E=n.filter.updateFullNode(m,P,u)}else{const P=Rt(t);let U=Qm(r,P,e.serverCache);null==U&&e.serverCache.isCompleteForChild(P)&&(U=m.getImmediateChild(P)),E=null!=U?n.filter.updateChild(m,P,U,Gn(t),h,u):e.eventCache.getNode().hasChild(P)?n.filter.updateChild(m,P,pn.EMPTY_NODE,Gn(t),h,u):m,E.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=eh(r,hl(e)),l.isLeafNode()&&(E=n.filter.updateFullNode(E,l,u)))}return l=e.serverCache.isFullyInitialized()||null!=ff(r,it()),dl(e,E,l,n.filter.filtersNodes())}}(n,e,E.path,r,i,u):function Kp(n,e,t,r,i,u,l){if(null!=ff(i,t))return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(null!=r.value){if(wn(t)&&m.isFullyInitialized()||m.isCompleteForPath(t))return Gp(n,e,t,m.getNode().getChild(t),i,u,h,l);if(wn(t)){let E=new zr(null);return m.getNode().forEachChild(Qs,(P,U)=>{E=E.set(new rt(P),U)}),Ym(n,e,t,E,i,u,h,l)}return e}{let E=new zr(null);return r.foreach((P,U)=>{const W=wr(t,P);m.isCompleteForPath(W)&&(E=E.set(P,m.getNode().getChild(W)))}),Ym(n,e,t,E,i,u,h,l)}}(n,e,E.path,E.affectedTree,r,i,u)}else{if(t.type!==ra.LISTEN_COMPLETE)throw(0,Ae.g5)("Unknown operation type: "+t.type);l=function ql(n,e,t,r,i){const u=e.serverCache;return Qv(n,Bp(e,u.getNode(),u.isFullyInitialized()||wn(t),u.isFiltered()),t,r,gl,i)}(n,e,t.path,r,u)}const m=u.getChanges();return function GI(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Nu(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&t.push(function Kd(n){return{type:"value",snapshotNode:n}}(Nu(e)))}}(e,l,m),{viewCache:l,changes:m}}(n.processor_,i,e,t,r);return function zI(n,e){(0,Ae.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,Ae.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,Ae.hu)(u.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,function qI(n,e,t,r){return function Nt(n,e,t,r){const i=[],u=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&u.push(function td(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),Yt(n,i,"child_removed",e,r,t),Yt(n,i,"child_added",e,r,t),Yt(n,i,"child_moved",u,r,t),Yt(n,i,"child_changed",e,r,t),Yt(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,u.changes,u.viewCache.eventCache.getNode(),null)}let gf,Zp;function Yp(n,e,t,r){const i=e.source.queryId;if(null!==i){const u=n.views.get(i);return(0,Ae.hu)(null!=u,"SyncTree gave us an op for an invalid query."),Qp(u,e,t,r)}{let u=[];for(const l of n.views.values())u=u.concat(Qp(l,e,t,r));return u}}function Xr(n,e){let t=null;for(const r of n.views.values())t=t||db(r,e);return t}class Xm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new zr(null),this.pendingWriteTree_=function zp(){return{visibleWrites:vo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function oE(n,e,t,r,i){return function LI(n,e,t,r,i){(0,Ae.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=fl(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Cc(n,new H({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function au(n,e,t=!1){const r=function jv(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function zv(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,Ae.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,u=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&jp(h,r.path)?i=!1:ks(r.path,h.path)&&(u=!0)),l--}return!!i&&(u?(function Wm(n){n.visibleWrites=Hv(n.allWrites,Jd,it()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=sd(n.visibleWrites,r.path):sn(r.children,m=>{n.visibleWrites=sd(n.visibleWrites,wr(r.path,m))}),!0))}(n.pendingWriteTree_,e)){let u=new zr(null);return null!=r.snap?u=u.set(it(),!0):sn(r.children,l=>{u=u.set(new rt(l),!0)}),Cc(n,new T(r.path,u,t))}return[]}function ud(n,e,t){return Cc(n,new H({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function th(n,e,t){const i=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(l,h)=>{const E=Xr(h,hs(l,e));if(E)return E});return Gv(i,e,u,t,!0)}function Cc(n,e){return hE(e,n.syncPointTree_,null,$p(n.pendingWriteTree_,it()))}function hE(n,e,t,r){if(wn(n.path))return Jp(n,e,t,r);{const i=e.get(it());null==t&&null!=i&&(t=Xr(i,it()));let u=[];const l=Rt(n.path),h=n.operationForChild(l),m=e.children.get(l);if(m&&h){const E=t?t.getImmediateChild(l):null,P=Kv(r,l);u=u.concat(hE(h,m,E,P))}return i&&(u=u.concat(Yp(i,n,r,t))),u}}function Jp(n,e,t,r){const i=e.get(it());null==t&&null!=i&&(t=Xr(i,it()));let u=[];return e.children.inorderTraversal((l,h)=>{const m=t?t.getImmediateChild(l):null,E=Kv(r,l),P=n.operationForChild(l);P&&(u=u.concat(Jp(P,h,m,E)))}),i&&(u=u.concat(Yp(i,n,r,t))),u}function ty(n,e){return n.tagToQueryMap.get(e)}function _f(n){const e=n.indexOf("$");return(0,Ae.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new rt(n.substr(0,e))}}function rh(n,e,t){const r=n.syncPointTree_.get(e);return(0,Ae.hu)(r,"Missing sync point for query tag that we're tracking"),Yp(r,t,$p(n.pendingWriteTree_,e),null)}class vf{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new vf(t)}node(){return this.node_}}class ny{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=wr(this.path_,e);return new ny(this.syncTree_,t)}node(){return th(this.syncTree_,this.path_)}}const nT=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},ry=function(n,e,t){return n&&"object"==typeof n?((0,Ae.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ih(n[".sv"],e,t):"object"==typeof n[".sv"]?rT(n[".sv"],e):void(0,Ae.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ih=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,Ae.hu)(!1,"Unexpected server value: "+n)},rT=function(n,e,t){n.hasOwnProperty("increment")||(0,Ae.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,Ae.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,Ae.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},pE=function(n,e,t,r){return Ef(e,new ny(t,n),r)},iy=function(n,e,t){return Ef(n,new vf(e),t)};function Ef(n,e,t){const r=n.getPriority().val(),i=ry(r,e.getImmediateChild(".priority"),t);let u;if(n.isLeafNode()){const l=n,h=ry(l.getValue(),e,t);return h!==l.getValue()||i!==l.getPriority().val()?new ge(h,pi(i)):n}{const l=n;return u=l,i!==l.getPriority().val()&&(u=u.updatePriority(new ge(i))),l.forEachChild(zt,(h,m)=>{const E=Ef(m,e.getImmediateChild(h),t);E!==m&&(u=u.updateImmediateChild(h,E))}),u}}class sy{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function wf(n,e){let t=e instanceof rt?e:new rt(e),r=n,i=Rt(t);for(;null!==i;){const u=(0,Ae.DV)(r.node.children,i)||{children:{},childCount:0};r=new sy(i,r,u),t=Gn(t),i=Rt(t)}return r}function dd(n){return n.node.value}function tg(n,e){n.node.value=e,oy(n)}function iT(n){return n.node.childCount>0}function Dc(n,e){sn(n.node.children,(t,r)=>{e(new sy(t,n,r))})}function gE(n,e,t,r){t&&!r&&e(n),Dc(n,i=>{gE(i,e,!0,r)}),t&&r&&e(n)}function Yl(n){return new rt(null===n.parent?n.name:Yl(n.parent)+"/"+n.name)}function oy(n){null!==n.parent&&function mE(n,e,t){const r=function sT(n){return void 0===dd(n)&&!iT(n)}(t),i=(0,Ae.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,oy(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,oy(n))}(n.parent,n.name,n)}const oT=/[\[\].#$\/\u0000-\u001F\u007F]/,aT=/[\[\].#$\u0000-\u001F\u007F]/,ay=10485760,If=function(n){return"string"==typeof n&&0!==n.length&&!oT.test(n)},fd=function(n,e,t){const r=t instanceof rt?new Aa(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Fo(r));if("function"==typeof e)throw new Error(n+"contains a function "+Fo(r)+" with contents = "+e.toString());if(F(e))throw new Error(n+"contains "+e.toString()+" "+Fo(r));if("string"==typeof e&&e.length>ay/3&&(0,Ae.ug)(e)>ay)throw new Error(n+"contains a string greater than "+ay+" utf8 bytes "+Fo(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,u=!1;if(sn(e,(l,h)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(u=!0,!If(l)))throw new Error(n+" contains an invalid key ("+l+") "+Fo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ul(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,Ae.ug)(e),ll(n)})(r,l),fd(n,h,r),function mc(n){const e=n.parts_.pop();n.byteLength_-=(0,Ae.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&u)throw new Error(n+' contains ".value" child '+Fo(r)+" in addition to actual children.")}},_E=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!If(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!aT.test(n)}(n)}(t))throw new Error((0,Ae.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class oh{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pa(n,e,t){(function uu(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],u=i.getPath();null!==t&&!al(u,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:u}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function lT(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(mb(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>ks(r,e)||ks(e,r))}function mb(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();go&&di("event: "+t.toString()),ds(r)}}}const hy="repo_interrupt",yb=25;class EE{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pu(),this.transactionQueueTree_=new sy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IE(n){const t=n.infoData_.getNode(new rt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ah(n){return nT({timestamp:IE(n)})}function TE(n,e,t,r,i){n.dataUpdateCount++;const u=new rt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const m=(0,Ae.UI)(t,E=>pi(E));l=function dE(n,e,t,r){const i=ty(n,r);if(i){const u=_f(i),l=u.path,h=u.queryId,m=hs(l,e),E=zr.fromObject(t);return rh(n,l,new ve(g(h),m,E))}return[]}(n.serverSyncTree_,u,m,i)}else{const m=pi(t);l=function cE(n,e,t,r){const i=ty(n,r);if(null!=i){const u=_f(i),l=u.path,h=u.queryId,m=hs(l,e);return rh(n,l,new H(g(h),m,t))}return[]}(n.serverSyncTree_,u,m,i)}else if(r){const m=(0,Ae.UI)(t,E=>pi(E));l=function aE(n,e,t){const r=zr.fromObject(t);return Cc(n,new ve({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,u,m)}else{const m=pi(t);l=ud(n.serverSyncTree_,u,m)}let h=u;l.length>0&&(h=lh(n,u)),Pa(n.eventQueue_,h,l)}function CE(n,e){fy(n,"connected",e),!1===e&&function hT(n){uh(n,"onDisconnectEvents");const e=ah(n),t=Pu();cl(n.onDisconnect_,it(),(i,u)=>{const l=pE(i,u,n.serverSyncTree_,e);xu(t,i,l)});let r=[];cl(t,it(),(i,u)=>{r=r.concat(ud(n.serverSyncTree_,i,u));const l=function bf(n,e){const t=Yl(yy(n,e)),r=wf(n.transactionQueueTree_,e);return function sh(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Af(n,i)}),Af(n,r),gE(r,i=>{Af(n,i)}),t}(n,i);lh(n,l)}),n.onDisconnect_=Pu(),Pa(n.eventQueue_,it(),r)}(n)}function fy(n,e,t){const r=new rt("/.info/"+e),i=pi(t);n.infoData_.updateSnapshot(r,i);const u=ud(n.infoSyncTree_,r,i);Pa(n.eventQueue_,r,u)}function Df(n){return n.nextWriteId_++}function uh(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),di(t,...e)}function my(n,e,t){return th(n.serverSyncTree_,e,t)||pn.EMPTY_NODE}function Sf(n,e=n.transactionQueueTree_){if(e||rg(n,e),dd(e)){const t=_y(n,e);(0,Ae.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function gT(n,e,t){const r=t.map(E=>E.currentWriteId),i=my(n,e,r);let u=i;const l=i.hash();for(let E=0;E<t.length;E++){const P=t[E];(0,Ae.hu)(0===P.status,"tryToSendTransactionQueue_: items in queue should all be run."),P.status=1,P.retryCount++;const U=hs(e,P.path);u=u.updateChild(U,P.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;n.server_.put(m.toString(),h,E=>{uh(n,"transaction put response",{path:m.toString(),status:E});let P=[];if("ok"===E){const U=[];for(let W=0;W<t.length;W++)t[W].status=2,P=P.concat(au(n.serverSyncTree_,t[W].currentWriteId)),t[W].onComplete&&U.push(()=>t[W].onComplete(null,!0,t[W].currentOutputSnapshotResolved)),t[W].unwatcher();rg(n,wf(n.transactionQueueTree_,e)),Sf(n,n.transactionQueueTree_),Pa(n.eventQueue_,e,P);for(let W=0;W<U.length;W++)ds(U[W])}else{if("datastale"===E)for(let U=0;U<t.length;U++)t[U].status=3===t[U].status?4:0;else{hi("transaction at "+m.toString()+" failed: "+E);for(let U=0;U<t.length;U++)t[U].status=4,t[U].abortReason=E}lh(n,e)}},l)}(n,Yl(e),t)}else iT(e)&&Dc(e,t=>{Sf(n,t)})}function lh(n,e){const t=yy(n,e),r=Yl(t);return function _b(n,e,t){if(0===e.length)return;const r=[];let i=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],E=hs(t,m.path);let U,P=!1;if((0,Ae.hu)(null!==E,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)P=!0,U=m.abortReason,i=i.concat(au(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=yb)P=!0,U="maxretry",i=i.concat(au(n.serverSyncTree_,m.currentWriteId,!0));else{const W=my(n,m.path,l);m.currentInputSnapshot=W;const J=e[h].update(W.val());if(void 0!==J){fd("transaction failed: Data returned ",J,m.path);let ae=pi(J);"object"==typeof J&&null!=J&&(0,Ae.r3)(J,".priority")||(ae=ae.updatePriority(W.getPriority()));const qe=m.currentWriteId,Ct=ah(n),Jt=iy(ae,W,Ct);m.currentOutputSnapshotRaw=ae,m.currentOutputSnapshotResolved=Jt,m.currentWriteId=Df(n),l.splice(l.indexOf(qe),1),i=i.concat(oE(n.serverSyncTree_,m.path,Jt,m.currentWriteId,m.applyLocally)),i=i.concat(au(n.serverSyncTree_,qe,!0))}else P=!0,U="nodata",i=i.concat(au(n.serverSyncTree_,m.currentWriteId,!0))}Pa(n.eventQueue_,t,i),i=[],P&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===U?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(U),!1,null)))}rg(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)ds(r[h]);Sf(n,n.transactionQueueTree_)}(n,_y(n,t),r),r}function yy(n,e){let t,r=n.transactionQueueTree_;for(t=Rt(e);null!==t&&void 0===dd(r);)r=wf(r,t),t=Rt(e=Gn(e));return r}function _y(n,e){const t=[];return bc(n,e,t),t.sort((r,i)=>r.order-i.order),t}function bc(n,e,t){const r=dd(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Dc(e,i=>{bc(n,i,t)})}function rg(n,e){const t=dd(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,tg(e,t.length>0?t:void 0)}Dc(e,r=>{rg(n,r)})}function Af(n,e){const t=dd(e);if(t){const r=[];let i=[],u=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,Ae.hu)(u===l-1,"All SENT items should be at beginning of queue."),u=l,t[l].status=3,t[l].abortReason="set"):((0,Ae.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(au(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===u?tg(e,void 0):t.length=u+1,Pa(n.eventQueue_,Yl(e),i);for(let l=0;l<r.length;l++)ds(r[l])}}const RE=function(n,e){const t=Eb(n),r=t.namespace;return"firebase.com"===t.domain&&vs(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&vs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&hi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ia(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new rt(t.pathString)}},Eb=function(n){let e="",t="",r="",i="",u="",l=!0,h="https",m=443;if("string"==typeof n){let E=n.indexOf("//");E>=0&&(h=n.substring(0,E-1),n=n.substring(E+2));let P=n.indexOf("/");-1===P&&(P=n.length);let U=n.indexOf("?");-1===U&&(U=n.length),e=n.substring(0,Math.min(P,U)),P<U&&(i=function mT(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(P,U)));const W=function vb(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):hi(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,U)));E=e.indexOf(":"),E>=0?(l="https"===h||"wss"===h,m=parseInt(e.substring(E+1),10)):E=e.length;const J=e.slice(0,E);if("localhost"===J.toLowerCase())t="localhost";else if(J.split(".").length<=2)t=J;else{const ae=e.indexOf(".");r=e.substring(0,ae).toLowerCase(),t=e.substring(ae+1),u=r}"ns"in W&&(u=W.ns)}return{host:e,port:m,domain:t,subdomain:r,secure:l,scheme:h,pathString:i,namespace:u}};class sa{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return wn(this._path)?null:Os(this._path)}get ref(){return new Lu(this._repo,this._path)}get _queryIdentifier(){const e=nd(this._queryParams),t=Yn(e);return"{}"===t?"default":t}get _queryObject(){return nd(this._queryParams)}isEqual(e){if(!((e=(0,Ae.m9)(e))instanceof sa))return!1;const t=this._repo===e._repo,r=al(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ba(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Lu extends sa{constructor(e,t){super(e,t,new Qd,!1)}get parent(){const e=ru(this._path);return null===e?null:new Lu(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function QI(n){(0,Ae.hu)(!gf,"__referenceConstructor has already been defined"),gf=n})(Lu),function XI(n){(0,Ae.hu)(!Zp,"__referenceConstructor has already been defined"),Zp=n}(Lu);const NT="FIREBASE_DATABASE_EMULATOR_HOST",Ty={};let VE=!1;class FT{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function wE(n,e,t){if(n.stats_=xs(n.repoInfo_),n.forceRestClient_||mo())n.server_=new wc(n.repoInfo_,(r,i,u,l)=>{TE(n,r,i,u,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>CE(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Ae.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Uo(n.repoInfo_,e,(r,i,u,l)=>{TE(n,r,i,u,l)},r=>{CE(n,r)},r=>{!function ku(n,e){sn(e,(t,r)=>{fy(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function il(n,e){const t=n.toString();return Ta[t]||(Ta[t]=e()),Ta[t]}(n.repoInfo_,()=>new Hm(n.stats_,n.server_)),n.infoData_=new kp,n.infoSyncTree_=new Xm({startListening:(r,i,u,l)=>{let h=[];const m=n.infoData_.getNode(r._path);return m.isEmpty()||(h=ud(n.infoSyncTree_,r._path,m),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),fy(n,"connected",!1),n.serverSyncTree_=new Xm({startListening:(r,i,u,l)=>(n.server_.listen(r,u,i,(h,m)=>{const E=l(h,m);Pa(n.eventQueue_,r._path,E)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Lu(this._repo,it())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function kT(n,e){const t=Ty[e];(!t||t[n.key]!==n)&&vs(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function gy(n){n.persistentConnection_&&n.persistentConnection_.interrupt(hy)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&vs("Cannot call "+e+" on a deleted database.")}}function vl(n=(0,Wr.Mq)(),e){const t=(0,Wr.qX)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,Ae.P0)("database");r&&function Dy(n,e,t,r={}){(n=(0,Ae.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&vs("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let u;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&vs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new el(el.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,Ae.Sg)(r.mockUserToken,n.app.options.projectId);u=new el(l)}!function $E(n,e,t,r){n.repoInfo_=new Ia(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,u)}(t,...r)}return t}Uo.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Uo.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function BT(n){(function po(n){Eu=n})(Wr.Jn),(0,Wr.Xd)(new fo.wA("database",(e,{instanceIdentifier:t})=>function OT(n,e,t,r,i){let u=r||n.options.databaseURL;void 0===u&&(n.options.projectId||vs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),di("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,E,l=RE(u,i),h=l.repoInfo;typeof process<"u"&&process.env&&(E=process.env[NT]),E?(m=!0,u=`http://${E}?ns=${h.namespace}`,l=RE(u,i),h=l.repoInfo):m=!l.repoInfo.secure;const P=i&&m?new el(el.OWNER):new Ju(n.name,n.options,e);_E("Invalid Firebase Database URL",l),wn(l.path)||vs("Database URL must point to the root of a Firebase Database (not including a child path).");const U=function Cy(n,e,t,r){let i=Ty[e.name];i||(i={},Ty[e.name]=i);let u=i[n.toURLString()];return u&&vs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new EE(n,VE,t,r),i[n.toURLString()]=u,u}(h,n,P,new Fl(n.name,t));return new FT(U,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Wr.KN)(Qa,"0.14.4",n),(0,Wr.KN)(Qa,"0.14.4","esm2017")}();class fh{constructor(e){return e}}const jT="database",ag=new k.OlP("angularfire2.database-instances");function GE(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new fh(r)}}const WE={provide:class Ay{constructor(){return(0,Ar.vb)(jT)}},deps:[[new k.FiY,ag]]},Ry={provide:fh,useFactory:function HE(n,e){const t=(0,Ar.JM)(jT,n,e);return t&&new fh(t)},deps:[[new k.FiY,ag],mi.Ot]};let Xl=(()=>{class n{constructor(){(0,Ll.KN)("angularfire",Ar.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:[Ry,WE]}),n})();function ug(n,...e){return{ngModule:Xl,providers:[{provide:ag,useFactory:GE(n),multi:!0,deps:[k.R0b,k.zs3,Ar.HU,mi.z6,[new k.FiY,Po.dh],[new k.FiY,Xu.nm],...e]}]}}const KE=(0,Ar.u3)(vl,!0);var kt,gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Eo={},Mc=Mc||{},Cn=gh||self;function ec(){}function tc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function El(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var hg="closure_uid_"+(1e9*Math.random()>>>0),JE=0;function e0(n,e,t){return n.call.apply(n.bind,arguments)}function t0(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Js(n,e,t){return(Js=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?e0:t0).apply(null,arguments)}function xf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Es(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function nc(){this.s=this.s,this.o=this.o}nc.prototype.s=!1,nc.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function XE(n){Object.prototype.hasOwnProperty.call(n,hg)&&n[hg]||(n[hg]=++JE)}(this)},nc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const n0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function fg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function r0(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(tc(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let l=0;l<u;l++)n[i+l]=r[l]}else n.push(r)}}function eo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}eo.prototype.h=function(){this.defaultPrevented=!0};var Ny=function(){if(!Cn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Cn.addEventListener("test",ec,e),Cn.removeEventListener("test",ec,e)}catch{}return n}();function mh(n){return/^[\s\xa0]*$/.test(n)}var s0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function yh(n,e){return n<e?-1:n>e?1:0}function md(){var n=Cn.navigator;return n&&(n=n.userAgent)?n:""}function cu(n){return-1!=md().indexOf(n)}function Oy(n){return Oy[" "](n),n}function pg(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Oy[" "]=ec;var _h,n,ky=cu("Opera"),yd=cu("Trident")||cu("MSIE"),Ly=cu("Edge"),Nf=Ly||yd,Fy=cu("Gecko")&&!(-1!=md().toLowerCase().indexOf("webkit")&&!cu("Edge"))&&!(cu("Trident")||cu("MSIE"))&&!cu("Edge"),o0=-1!=md().toLowerCase().indexOf("webkit")&&!cu("Edge");function gg(){var n=Cn.document;return n?n.documentMode:void 0}e:{var Uy="",mg=(n=md(),Fy?/rv:([^\);]+)(\)|;)/.exec(n):Ly?/Edge\/([\d\.]+)/.exec(n):yd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):o0?/WebKit\/(\S+)/.exec(n):ky?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mg&&(Uy=mg?mg[1]:""),yd){var yg=gg();if(null!=yg&&yg>parseFloat(Uy)){_h=String(yg);break e}}_h=Uy}var a0={},l0=Cn.document&&yd&&(gg()||parseInt(_h,10))||void 0;function vh(n,e){if(eo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Fy){e:{try{Oy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:$y[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vh.$.h.call(this)}}Es(vh,eo);var $y={2:"touch",3:"pen",4:"mouse"};vh.prototype.h=function(){vh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Eh="closure_listenable_"+(1e6*Math.random()|0),c0=0;function d0(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++c0,this.fa=this.ia=!1}function Of(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function _g(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function jy(n){const e={};for(const t in n)e[t]=n[t];return e}const zy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hy(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<zy.length;u++)t=zy[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function _d(n){this.src=n,this.g={},this.h=0}function wl(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=n0(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Of(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Gy(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}_d.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Gy(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new d0(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var Wy="closure_lm_"+(1e6*Math.random()|0),kf={};function Pc(n,e,t,r,i){if(r&&r.once)return Eg(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Pc(n,e[u],t,r,i);return null}return t=Zi(t),n&&n[Eh]?n.O(e,t,El(r)?!!r.capture:!!r,i):vg(n,e,t,!1,r,i)}function vg(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var l=El(i)?!!i.capture:!!i,h=wg(n);if(h||(n[Wy]=h=new _d(n)),(t=h.add(e,t,r,l,u)).proxy)return t;if(r=function QT(){const e=ZT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ny||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(f0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Eg(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Eg(n,e[u],t,r,i);return null}return t=Zi(t),n&&n[Eh]?n.P(e,t,El(r)?!!r.capture:!!r,i):vg(n,e,t,!0,r,i)}function YT(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)YT(n,e[u],t,r,i);else r=El(r)?!!r.capture:!!r,t=Zi(t),n&&n[Eh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Gy(u=n.g[e],t,r,i))&&(Of(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=wg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Gy(e,t,r,i)),(t=-1<n?e[n]:null)&&h0(t))}function h0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Eh])wl(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(f0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=wg(e))?(wl(t,n),0==t.h&&(t.src=null,e[Wy]=null)):Of(n)}}}function f0(n){return n in kf?kf[n]:kf[n]="on"+n}function ZT(n,e){if(n.fa)n=!0;else{e=new vh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&h0(n),n=t.call(r,e)}return n}function wg(n){return(n=n[Wy])instanceof _d?n:null}var Ky="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zi(n){return"function"==typeof n?n:(n[Ky]||(n[Ky]=function(e){return n.handleEvent(e)}),n[Ky])}function ws(){nc.call(this),this.i=new _d(this),this.S=this,this.J=null}function to(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new eo(e,n);else if(e instanceof eo)e.target=e.target||n;else{var i=e;Hy(e=new eo(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];i=Ig(l,r,!0,e)&&i}if(i=Ig(l=e.g=n,r,!0,e)&&i,i=Ig(l,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Ig(l=e.g=t[u],r,!1,e)&&i}function Ig(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var h=l.listener,m=l.la||l.src;l.ia&&wl(n.i,l),i=!1!==h.call(m,r)&&i}}return i&&!r.defaultPrevented}Es(ws,nc),ws.prototype[Eh]=!0,ws.prototype.removeEventListener=function(n,e,t,r){YT(this,n,e,t,r)},ws.prototype.N=function(){if(ws.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Of(t[r]);delete n.g[e],n.h--}}this.J=null},ws.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ws.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Tg=Cn.JSON.stringify;function XT(){var n=tC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Cg,qy=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new wh,n=>n.reset());class wh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function JT(n){Cn.setTimeout(()=>{throw n},0)}function g0(n,e){Cg||function eC(){var n=Cn.Promise.resolve(void 0);Cg=function(){n.then(Qy)}}(),Dg||(Cg(),Dg=!0),tC.add(n,e)}var Dg=!1,tC=new class p0{constructor(){this.h=this.g=null}add(e,t){const r=qy.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Qy(){for(var n;n=XT();){try{n.h.call(n.g)}catch(t){JT(t)}var e=qy;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Dg=!1}function Ih(n,e){ws.call(this),this.h=n||1,this.g=e||Cn,this.j=Js(this.qb,this),this.l=Date.now()}function du(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Yy(n,e,t){if("function"==typeof n)t&&(n=Js(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Js(n.handleEvent,n)}return 2147483647<Number(e)?-1:Cn.setTimeout(n,e||0)}function m0(n){n.g=Yy(()=>{n.g=null,n.i&&(n.i=!1,m0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Es(Ih,ws),(kt=Ih.prototype).ga=!1,kt.T=null,kt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),to(this,"tick"),this.ga&&(du(this),this.start()))}},kt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kt.N=function(){Ih.$.N.call(this),du(this),delete this.g};class Il extends nc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:m0(this)}N(){super.N(),this.g&&(Cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vo(n){nc.call(this),this.h=n,this.g={}}Es(Vo,nc);var hu=[];function Zy(n,e,t,r){Array.isArray(t)||(t&&(hu[0]=t.toString()),t=hu);for(var i=0;i<t.length;i++){var u=Pc(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Xy(n){_g(n.g,function(e,t){this.g.hasOwnProperty(t)&&h0(e)},n),n.g={}}function Sg(){this.g=!0}function Th(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Lf(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<i.length;l++)i[l]=""}}}return Tg(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Vo.prototype.N=function(){Vo.$.N.call(this),Xy(this)},Vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sg.prototype.Ea=function(){this.g=!1},Sg.prototype.info=function(){};var vd={},e_=null;function bg(){return e_=e_||new ws}function y0(n){eo.call(this,vd.Ta,n)}function Ch(n){const e=bg();to(e,new y0(e))}function t_(n,e){eo.call(this,vd.STAT_EVENT,n),this.stat=e}function Us(n){const e=bg();to(e,new t_(e,n))}function _0(n,e){eo.call(this,vd.Ua,n),this.size=e}function Dh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Cn.setTimeout(function(){n()},e)}vd.Ta="serverreachability",Es(y0,eo),vd.STAT_EVENT="statevent",Es(t_,eo),vd.Ua="timingevent",Es(_0,eo);var Ff={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ag={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Sh(){}function r_(){}Sh.prototype.h=null;var Pg,bh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rg(){eo.call(this,"d")}function Mg(){eo.call(this,"c")}function Uf(){}function Ah(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Vo(this),this.P=iC,this.V=new Ih(n=Nf?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new v0}function v0(){this.i=null,this.g="",this.h=!1}Es(Rg,eo),Es(Mg,eo),Es(Uf,Sh),Uf.prototype.g=function(){return new XMLHttpRequest},Uf.prototype.i=function(){return{}},Pg=new Uf;var iC=45e3,i_={},xg={};function s_(n,e,t){n.L=1,n.v=zf(Tl(e)),n.s=t,n.S=!0,E0(n,null)}function E0(n,e){n.G=Date.now(),Bf(n),n.A=Tl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),yn(t.i,"t",r),n.C=0,t=n.l.I,n.h=new v0,n.g=j0(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Il(Js(n.Pa,n,n.g),n.O)),Zy(n.U,n.g,"readystatechange",n.nb),e=n.I?jy(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ch(),function nC(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var l="",h=u.split("&"),m=0;m<h.length;m++){var E=h[m].split("=");if(1<E.length){var P=E[0];E=E[1];var U=P.split("_");l=2<=U.length&&"type"==U[1]?l+(P+"=")+E+"&":l+(P+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function w0(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function I0(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=sC(n,t),i==xg){4==e&&(n.o=4,Us(14),r=!1),Th(n.j,n.m,null,"[Incomplete Response]");break}if(i==i_){n.o=4,Us(15),Th(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Th(n.j,n.m,i,null),o_(n,i)}w0(n)&&i!=xg&&i!=i_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Us(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Cd(e),e.L=!0,Us(11))):(Th(n.j,n.m,t,"[Invalid Chunked Response]"),Ed(n),Vf(n))}function sC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?xg:(t=Number(e.substring(t,r)),isNaN(t)?i_:(r+=1)+t>e.length?xg:(e=e.substr(r,t),n.C=r+t,e))}function Bf(n){n.Y=Date.now()+n.P,T0(n,n.P)}function T0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Dh(Js(n.lb,n),e)}function Ng(n){n.B&&(Cn.clearTimeout(n.B),n.B=null)}function Vf(n){0==n.l.H||n.J||B0(n.l,n)}function Ed(n){Ng(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,du(n.V),Xy(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function o_(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Ai(t.h,n)))if(!n.K&&Ai(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ug(t),E_(t)}Fg(t),Us(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=Dh(Js(t.ib,t),6e3));if(1>=Gf(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Lh(t,11)}else if((n.K||t.g==n)&&Ug(t),!mh(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.V=E[0],E=E[1],2==t.H)if("c"==E[0]){t.J=E[1],t.oa=E[2];const P=E[3];null!=P&&(t.qa=P,t.j.info("VER="+t.qa));const U=E[4];null!=U&&(t.Ga=U,t.j.info("SVER="+t.Ga));const W=E[5];null!=W&&"number"==typeof W&&0<W&&(t.K=r=1.5*W,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const ae=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var u=r.h;u.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(b0(u,u.h),u.h=null))}if(r.F){const Se=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Se&&(r.Da=Se,yi(r.G,r.F,Se))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=T_(r,r.I?r.oa:null,r.Y),l.K){d_(r.h,l);var h=l,m=r.K;m&&h.setTimeout(m),h.B&&(Ng(h),Bf(h)),r.g=l}else F0(r);0<t.i.length&&w_(t)}else"stop"!=E[0]&&"close"!=E[0]||Lh(t,7);else 3==t.H&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Lh(t,7):v_(t):"noop"!=E[0]&&t.l&&t.l.Aa(E),t.A=0)}Ch()}catch{}}function C0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(tc(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function aC(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(tc(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function oC(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(tc(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(kt=Ah.prototype).setTimeout=function(n){this.P=n},kt.nb=function(n){n=n.target;const e=this.M;e&&3==Cl(n)?e.l():this.Pa(n)},kt.Pa=function(n){try{if(n==this.g)e:{const P=Cl(this.g);var e=this.g.Ia();if(this.g.da(),!(3>P)&&(3!=P||Nf||this.g&&(this.h.h||this.g.ja()||m_(this.g)))){this.J||4!=P||7==e||Ch(),Ng(this);var t=this.g.da();this.aa=t;t:if(w0(this)){var r=m_(this.g);n="";var i=r.length,u=4==Cl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ed(this),Vf(this);var l="";break t}this.h.i=new Cn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function rC(n,e,t,r,i,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,P,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mh(h)){var E=h;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Us(12),Ed(this),Vf(this);break e}Th(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,o_(this,t)}this.S?(I0(this,P,l),Nf&&this.i&&3==P&&(Zy(this.U,this.V,"tick",this.mb),this.V.start())):(Th(this.j,this.m,l,null),o_(this,l)),4==P&&Ed(this),this.i&&!this.J&&(4==P?B0(this.l,this):(this.i=!1,Bf(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Us(12)):(this.o=0,Us(13)),Ed(this),Vf(this)}}}catch{}},kt.mb=function(){if(this.g){var n=Cl(this.g),e=this.g.ja();this.C<e.length&&(Ng(this),I0(this,n,e),this.i&&4!=n&&Bf(this))}},kt.cancel=function(){this.J=!0,Ed(this)},kt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Jy(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ch(),Us(17)),Ed(this),this.o=2,Vf(this)):T0(this,this.Y-n)};var a_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof xc){this.h=void 0!==e?e:n.h,$f(this,n.j),this.s=n.s,this.g=n.g,jf(this,n.m),this.l=n.l,e=n.i;var t=new Og;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),u_(this,t),this.o=n.o}else n&&(t=String(n).match(a_))?(this.h=!!e,$f(this,t[1]||"",!0),this.s=Rh(t[2]||""),this.g=Rh(t[3]||"",!0),jf(this,t[4]),this.l=Rh(t[5]||"",!0),u_(this,t[6]||"",!0),this.o=Rh(t[7]||"")):(this.h=!!e,this.i=new Og(null,this.h))}function Tl(n){return new xc(n)}function $f(n,e,t){n.j=t?Rh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function jf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function u_(n,e,t){e instanceof Og?(n.i=e,function cC(n,e){e&&!n.j&&(rc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(c_(this,r),yn(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=wd(e,sA)),n.i=new Og(e,n.h))}function yi(n,e,t){n.i.set(e,t)}function zf(n){return yi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Rh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Id),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Id(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wd(e,S0,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wd(e,S0,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(wd(t,"/"==t.charAt(0)?Mh:uC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wd(t,l_)),n.join("")};var S0=/[#\/\?@]/g,uC=/[#\?:]/g,Mh=/[#\?]/g,sA=/[#\?@]/g,l_=/#/g;function Og(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function rc(n){n.g||(n.g=new Map,n.h=0,n.i&&function D0(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function c_(n,e){rc(n),e=Ph(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function lC(n,e){return rc(n),e=Ph(n,e),n.g.has(e)}function yn(n,e,t){c_(n,e),0<t.length&&(n.i=null,n.g.set(Ph(n,e),fg(t)),n.h+=t.length)}function Ph(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Td(n){this.l=n||hC,n=Cn.PerformanceNavigationTiming?0<(n=Cn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Cn.g&&Cn.g.Ka&&Cn.g.Ka()&&Cn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(kt=Og.prototype).add=function(n,e){rc(this),this.i=null,n=Ph(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},kt.forEach=function(n,e){rc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},kt.sa=function(){rc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},kt.Z=function(n){rc(this);let e=[];if("string"==typeof n)lC(this,n)&&(e=e.concat(this.g.get(Ph(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},kt.set=function(n,e){return rc(this),this.i=null,lC(this,n=Ph(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},kt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},kt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=u;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var hC=10;function Hf(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Gf(n){return n.h?1:n.g?n.g.size:0}function Ai(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function b0(n,e){n.g?n.g.add(e):n.h=e}function d_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function h_(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return fg(n.i)}function f_(){}function A0(){this.g=new f_}function R0(n,e,t){const r=t||"";try{C0(n,function(i,u){let l=i;El(i)&&(l=Tg(i)),e.push(r+u+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Wf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Kf(n){this.l=n.fc||null,this.j=n.ob||!1}function kg(n,e){ws.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=p_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Td.prototype.cancel=function(){if(this.i=h_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},f_.prototype.stringify=function(n){return Cn.JSON.stringify(n,void 0)},f_.prototype.parse=function(n){return Cn.JSON.parse(n,void 0)},Es(Kf,Sh),Kf.prototype.g=function(){return new kg(this.l,this.j)},Kf.prototype.i=function(n){return function(){return n}}({}),Es(kg,ws);var p_=0;function xh(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function qf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Qf(n)}function Qf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(kt=kg.prototype).open=function(n,e){if(this.readyState!=p_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Qf(this)},kt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Cn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},kt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qf(this)),this.readyState=p_},kt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Cn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xh(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},kt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?qf(this):Qf(this),3==this.readyState&&xh(this)}},kt.Za=function(n){this.g&&(this.response=this.responseText=n,qf(this))},kt.Ya=function(n){this.g&&(this.response=n,qf(this))},kt.ka=function(){this.g&&qf(this)},kt.setRequestHeader=function(n,e){this.v.append(n,e)},kt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},kt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(kg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fC=Cn.JSON.parse;function _i(n){ws.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=g_,this.L=this.M=!1}Es(_i,ws);var g_="",P0=/^https?$/i,x0=["POST","PUT"];function Nh(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Oh(n),Lg(n)}function Oh(n){n.F||(n.F=!0,to(n,"complete"),to(n,"error"))}function N0(n){if(n.h&&typeof Mc<"u"&&(!n.C[1]||4!=Cl(n)||2!=n.da()))if(n.v&&4==Cl(n))Yy(n.La,0,n);else if(to(n,"readystatechange"),4==Cl(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.I).match(a_)[1]||null;if(!i&&Cn.self&&Cn.self.location){var u=Cn.self.location.protocol;i=u.substr(0,u.length-1)}r=!P0.test(i?i.toLowerCase():"")}t=r}if(t)to(n,"complete"),to(n,"success");else{n.m=6;try{var l=2<Cl(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",Oh(n)}}finally{Lg(n)}}}function Lg(n,e){if(n.g){O0(n);const t=n.g,r=n.C[0]?ec:null;n.g=null,n.C=null,e||to(n,"ready");try{t.onreadystatechange=r}catch{}}}function O0(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Cn.clearTimeout(n.A),n.A=null)}function Cl(n){return n.g?n.g.readyState:0}function m_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case g_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function y_(n){let e="";return _g(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function __(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=y_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):yi(n,e,t))}function kh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function k0(n){this.Ga=0,this.i=[],this.j=new Sg,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=kh("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=kh("baseRetryDelayMs",5e3,n),this.hb=kh("retryDelaySeedMs",1e4,n),this.eb=kh("forwardChannelMaxRetries",2,n),this.xa=kh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new Td(n&&n.concurrentRequestLimit),this.Ja=new A0,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function v_(n){if(gC(n),3==n.H){var e=n.W++,t=Tl(n.G);yi(t,"SID",n.J),yi(t,"RID",e),yi(t,"TYPE","terminate"),Nc(n,t),(e=new Ah(n,n.j,e,void 0)).L=2,e.v=zf(Tl(t)),t=!1,Cn.navigator&&Cn.navigator.sendBeacon&&(t=Cn.navigator.sendBeacon(e.v.toString(),"")),!t&&Cn.Image&&((new Image).src=e.v,t=!0),t||(e.g=j0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Bf(e)}$0(n)}function E_(n){n.g&&(Cd(n),n.g.cancel(),n.g=null)}function gC(n){E_(n),n.u&&(Cn.clearTimeout(n.u),n.u=null),Ug(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Cn.clearTimeout(n.m),n.m=null)}function w_(n){Hf(n.h)||n.m||(n.m=!0,g0(n.Na,n),n.C=0)}function I_(n,e){var t;t=e?e.m:n.W++;const r=Tl(n.G);yi(r,"SID",n.J),yi(r,"RID",t),yi(r,"AID",n.V),Nc(n,r),n.o&&n.s&&__(r,n.o,n.s),t=new Ah(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=L0(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),b0(n.h,t),s_(t,r,e)}function Nc(n,e){n.ma&&_g(n.ma,function(t,r){yi(e,r,t)}),n.l&&C0({},function(t,r){yi(e,r,t)})}function L0(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Js(n.l.Va,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=i[0].h,l.push("ofs="+u)):u=0:l.push("ofs="+u);let h=!0;for(let m=0;m<t;m++){let E=i[m].h;const P=i[m].g;if(E-=u,0>E)u=Math.max(0,i[m].h-100),h=!1;else try{R0(P,l,"req"+E+"_")}catch{r&&r(P)}}if(h){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function F0(n){n.g||n.u||(n.ba=1,g0(n.Ma,n),n.A=0)}function Fg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Dh(Js(n.Ma,n),V0(n,n.A)),n.A++,0))}function Cd(n){null!=n.B&&(Cn.clearTimeout(n.B),n.B=null)}function U0(n){n.g=new Ah(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Tl(n.wa);yi(e,"RID","rpc"),yi(e,"SID",n.J),yi(e,"CI",n.M?"0":"1"),yi(e,"AID",n.V),yi(e,"TYPE","xmlhttp"),Nc(n,e),n.o&&n.s&&__(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=zf(Tl(e)),t.s=null,t.S=!0,E0(t,n)}function Ug(n){null!=n.v&&(Cn.clearTimeout(n.v),n.v=null)}function B0(n,e){var t=null;if(n.g==e){Ug(n),Cd(n),n.g=null;var r=2}else{if(!Ai(n.h,e))return;t=e.F,d_(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;to(r=bg(),new _0(r,t)),w_(n)}else F0(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function oA(n,e){return!(Gf(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Dh(Js(n.Na,n,e),V0(n,n.C)),n.C++,0)))}(n,e)||2==r&&Fg(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Lh(n,5);break;case 4:Lh(n,10);break;case 3:Lh(n,6);break;default:Lh(n,2)}}function V0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Lh(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Js(n.pb,n);t||(t=new xc("//www.google.com/images/cleardot.gif"),Cn.location&&"http"==Cn.location.protocol||$f(t,"https"),zf(t)),function M0(n,e){const t=new Sg;if(Cn.Image){const r=new Image;r.onload=xf(Wf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=xf(Wf,t,r,"TestLoadImage: error",!1,e),r.onabort=xf(Wf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=xf(Wf,t,r,"TestLoadImage: timeout",!1,e),Cn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Us(2);n.H=0,n.l&&n.l.za(e),$0(n),gC(n)}function $0(n){if(n.H=0,n.pa=[],n.l){const e=h_(n.h);(0!=e.length||0!=n.i.length)&&(r0(n.pa,e),r0(n.pa,n.i),n.h.i.length=0,fg(n.i),n.i.length=0),n.l.ya()}}function T_(n,e,t){var r=t instanceof xc?Tl(t):new xc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),jf(r,r.m);else{var i=Cn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new xc(null,void 0);r&&$f(u,r),e&&(u.g=e),i&&jf(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&yi(r,t,e),yi(r,"VER",n.qa),Nc(n,r),r}function j0(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _i(t&&n.Ha&&!n.va?new Kf({ob:!0}):n.va)).Oa(n.I),e}function z0(){}function Oc(){if(yd&&!(10<=Number(l0)))throw Error("Environmental error: no available transport.")}function xa(n,e){ws.call(this),this.g=new k0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!mh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Dd(this)}function C_(n){Rg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function H0(){Mg.call(this),this.status=1}function Dd(n){this.g=n}function fu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function D_(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=u+((l=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function Or(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(kt=_i.prototype).Oa=function(n){this.M=n},kt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pg.g(),this.C=function n_(n){return n.h||(n.h=n.i())}(this.u?this.u:Pg),this.g.onreadystatechange=Js(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void Nh(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Cn.FormData&&n instanceof Cn.FormData,!(0<=n0(x0,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{O0(this),0<this.B&&((this.L=function pC(n){return yd&&function u0(){return pg(a0,9,function(){let n=0;const e=s0(String(_h)).split("."),t=s0("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",u=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=yh(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||yh(0==i[2].length,0==u[2].length)||yh(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Js(this.ua,this)):this.A=Yy(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Nh(this,u)}},kt.ua=function(){typeof Mc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,to(this,"timeout"),this.abort(8))},kt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,to(this,"complete"),to(this,"abort"),Lg(this))},kt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lg(this,!0)),_i.$.N.call(this)},kt.La=function(){this.s||(this.G||this.v||this.l?N0(this):this.kb())},kt.kb=function(){N0(this)},kt.da=function(){try{return 2<Cl(this)?this.g.status:-1}catch{return-1}},kt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},kt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),fC(e)}},kt.Ia=function(){return this.m},kt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(kt=k0.prototype).qa=8,kt.H=1,kt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Ah(this,this.j,n,void 0);let u=this.s;if(this.U&&(u?(u=jy(u),Hy(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=L0(this,i,e),yi(t=Tl(this.G),"RID",n),yi(t,"CVER",22),this.F&&yi(t,"X-HTTP-Session-Id",this.F),Nc(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(y_(u)))+"&"+e:this.o&&__(t,this.o,u)),b0(this.h,i),this.bb&&yi(t,"TYPE","init"),this.P?(yi(t,"$req",e),yi(t,"SID","null"),i.ba=!0,s_(i,t,null)):s_(i,t,e),this.H=2}}else 3==this.H&&(n?I_(this,n):0==this.i.length||Hf(this.h)||I_(this))},kt.Ma=function(){if(this.u=null,U0(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Dh(Js(this.jb,this),n)}},kt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Us(10),E_(this),U0(this))},kt.ib=function(){null!=this.v&&(this.v=null,E_(this),Fg(this),Us(19))},kt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Us(2)):(this.j.info("Failed to ping google.com"),Us(1))},(kt=z0.prototype).Ba=function(){},kt.Aa=function(){},kt.za=function(){},kt.ya=function(){},kt.Va=function(){},Oc.prototype.g=function(n,e){return new xa(n,e)},Es(xa,ws),xa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Us(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=T_(n,null,n.Y),w_(n)},xa.prototype.close=function(){v_(this.g)},xa.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Tg(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&w_(e)},xa.prototype.N=function(){this.g.l=null,delete this.j,v_(this.g),delete this.g,xa.$.N.call(this)},Es(C_,Rg),Es(H0,Mg),Es(Dd,z0),Dd.prototype.Ba=function(){to(this.g,"a")},Dd.prototype.Aa=function(n){to(this.g,new C_(n))},Dd.prototype.za=function(n){to(this.g,new H0)},Dd.prototype.ya=function(){to(this.g,"b")},Es(fu,function mC(){this.blockSize=-1}),fu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)D_(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){D_(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){D_(this,r),i=0;break}}this.h=i,this.i+=e},fu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var yC={};function Bg(n){return-128<=n&&128>n?pg(yC,n,function(e){return new Or([0|e],0>e?-1:0)}):new Or([0|n],0>n?-1:0)}function Uu(n){if(isNaN(n)||!isFinite(n))return Fh;if(0>n)return no(Uu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=S_;return new Or(e,0)}var S_=4294967296,Fh=Bg(0),Yf=Bg(1),W0=Bg(16777216);function Dl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function pu(n){return-1==n.h}function no(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Or(t,~n.h).add(Yf)}function Vg(n,e){return n.add(no(e))}function $g(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Zf(n,e){this.g=n,this.h=e}function jg(n,e){if(Dl(e))throw Error("division by zero");if(Dl(n))return new Zf(Fh,Fh);if(pu(n))return e=jg(no(n),e),new Zf(no(e.g),no(e.h));if(pu(e))return e=jg(n,no(e)),new Zf(no(e.g),e.h);if(30<n.g.length){if(pu(n)||pu(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Yf,r=e;0>=r.X(n);)t=K0(t),r=K0(r);var i=Uh(t,1),u=Uh(r,1);for(r=Uh(r,2),t=Uh(t,2);!Dl(r);){var l=u.add(r);0>=l.X(n)&&(i=i.add(t),u=l),r=Uh(r,1),t=Uh(t,1)}return e=Vg(n,i.R(e)),new Zf(i,e)}for(i=Fh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Uu(t)).R(e);pu(l)||0<l.X(n);)l=(u=Uu(t-=r)).R(e);Dl(u)&&(u=Yf),i=i.add(u),n=Vg(n,l)}return new Zf(i,n)}function K0(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Or(t,n.h)}function Uh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Or(i,n.h)}(kt=Or.prototype).ea=function(){if(pu(this))return-no(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:S_+r)*e,e*=S_}return n},kt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Dl(this))return"0";if(pu(this))return"-"+no(this).toString(n);for(var e=Uu(Math.pow(n,6)),t=this,r="";;){var i=jg(t,e).g,u=((0<(t=Vg(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Dl(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},kt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},kt.X=function(n){return pu(n=Vg(this,n))?-1:Dl(n)?0:1},kt.abs=function(){return pu(this)?no(this):this},kt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),l=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(u&=65535)}return new Or(t,-2147483648&t[t.length-1]?-1:0)},kt.R=function(n){if(Dl(this)||Dl(n))return Fh;if(pu(this))return pu(n)?no(this).R(no(n)):no(no(this).R(n));if(pu(n))return no(this.R(no(n)));if(0>this.X(W0)&&0>n.X(W0))return Uu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,l=65535&this.D(r),h=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=l*m,$g(t,2*r+2*i),t[2*r+2*i+1]+=u*m,$g(t,2*r+2*i+1),t[2*r+2*i+1]+=l*h,$g(t,2*r+2*i+1),t[2*r+2*i+2]+=u*h,$g(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Or(t,0)},kt.gb=function(n){return jg(this,n).h},kt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Or(t,this.h&n.h)},kt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Or(t,this.h|n.h)},kt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Or(t,this.h^n.h)},Oc.prototype.createWebChannel=Oc.prototype.g,xa.prototype.send=xa.prototype.u,xa.prototype.open=xa.prototype.m,xa.prototype.close=xa.prototype.close,Ff.NO_ERROR=0,Ff.TIMEOUT=8,Ff.HTTP_ERROR=6,Ag.COMPLETE="complete",r_.EventType=bh,bh.OPEN="a",bh.CLOSE="b",bh.ERROR="c",bh.MESSAGE="d",ws.prototype.listen=ws.prototype.O,_i.prototype.listenOnce=_i.prototype.P,_i.prototype.getLastError=_i.prototype.Sa,_i.prototype.getLastErrorCode=_i.prototype.Ia,_i.prototype.getStatus=_i.prototype.da,_i.prototype.getResponseJson=_i.prototype.Wa,_i.prototype.getResponseText=_i.prototype.ja,_i.prototype.send=_i.prototype.ha,_i.prototype.setWithCredentials=_i.prototype.Oa,fu.prototype.digest=fu.prototype.l,fu.prototype.reset=fu.prototype.reset,fu.prototype.update=fu.prototype.j,Or.prototype.add=Or.prototype.add,Or.prototype.multiply=Or.prototype.R,Or.prototype.modulo=Or.prototype.gb,Or.prototype.compare=Or.prototype.X,Or.prototype.toNumber=Or.prototype.ea,Or.prototype.toString=Or.prototype.toString,Or.prototype.getBits=Or.prototype.D,Or.fromNumber=Uu,Or.fromString=function G0(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return no(G0(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Uu(Math.pow(e,8)),r=Fh,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+u),e);8>u?(u=Uu(Math.pow(e,u)),r=r.R(u).add(Uu(l))):r=(r=r.R(t)).add(Uu(l))}return r},Eo.createWebChannelTransport=function(){return new Oc},Eo.getStatEventTarget=function(){return bg()},Eo.ErrorCode=Ff,Eo.EventType=Ag,Eo.Event=vd,Eo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Eo.FetchXmlHttpFactory=Kf,Eo.WebChannel=r_,Eo.XhrIo=_i,Eo.Md5=fu;var Y0=Eo.Integer=Or;const zg="@firebase/firestore";class Bs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bs.UNAUTHENTICATED=new Bs(null),Bs.GOOGLE_CREDENTIALS=new Bs("google-credentials-uid"),Bs.FIRST_PARTY=new Bs("first-party-uid"),Bs.MOCK_USER=new Bs("mock-user");let Xf="9.21.0";const Sl=new Ks.Yd("@firebase/firestore");function ft(n,...e){if(Sl.logLevel<=Ks.in.DEBUG){const t=e.map(Z0);Sl.debug(`Firestore (${Xf}): ${n}`,...t)}}function Hi(n,...e){if(Sl.logLevel<=Ks.in.ERROR){const t=e.map(Z0);Sl.error(`Firestore (${Xf}): ${n}`,...t)}}function Z0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function qt(n="Unexpected state"){const e=`FIRESTORE (${Xf}) INTERNAL ASSERTION FAILED: `+n;throw Hi(e),new Error(e)}function nn(n,e){n||qt()}const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class A_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bs.UNAUTHENTICATED))}shutdown(){}}class J0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ew{constructor(e){this.t=e,this.currentUser=Bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let l=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xi,e.enqueueRetryable(()=>u(this.currentUser))};const h=()=>{const E=l;e.enqueueRetryable((0,zi.Z)(function*(){yield E.promise,yield u(r.currentUser)}))},m=E=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(E=>m(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?m(E):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nn("string"==typeof r.accessToken),new A_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nn(null===e||"string"==typeof e),new Bs(e)}}class IC{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Bs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class TC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new IC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CC{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nn("string"==typeof t.token),this.T=t.token,new tw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class R_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fA(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function kn(n,e){return n<e?-1:n>e?1:0}class Hg{constructor(e,t,r){void 0===t?t=0:t>e.length&&qt(),void 0===r?r=e.length-t:r>e.length-t&&qt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Hg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),l=t.get(i);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gr extends Hg{construct(e,t,r){return new gr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(Ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new gr(t)}static emptyPath(){return new gr([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(gr.fromString(e))}static fromName(e){return new Ot(gr.fromString(e).popFirst(5))}static empty(){return new Ot(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new gr(e.slice()))}}function kc(n){return"IndexedDbTransactionError"===n.name}class vi{constructor(e,t){this.comparator=e,this.root=t||Is.EMPTY}insert(e,t){return new vi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Is.BLACK,null,null))}remove(e){return new vi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Is.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ip(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ip(this.root,e,this.comparator,!1)}getReverseIterator(){return new ip(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ip(this.root,e,this.comparator,!0)}}class ip{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Is{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??Is.RED,this.left=i??Is.EMPTY,this.right=u??Is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Is(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Is.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const e=this.left.check();if(e!==this.right.check())throw qt();return e+(this.isRed()?0:1)}}Is.EMPTY=null,Is.RED=!0,Is.BLACK=!1,Is.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Is(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kr{constructor(e){this.comparator=e,this.data=new vi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pw(this.data.getIterator())}getIteratorFrom(e){return new pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kr(this.comparator);return t.data=e,t}}class pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class j_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ts{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new j_("Invalid base64 string: "+i):i}}(e);return new Ts(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Ts(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Ts.EMPTY_BYTE_STRING=new Ts("");class gw{constructor(e,t,r,i,u,l,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class Rd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Rd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Rd&&e.projectId===this.projectId&&e.database===this.database}}var es,Xn;new vi(Ot.comparator),new vi(Ot.comparator),new vi(Ot.comparator),new Kr(Ot.comparator),new Kr(kn),(Xn=es||(es={}))[Xn.OK=0]="OK",Xn[Xn.CANCELLED=1]="CANCELLED",Xn[Xn.UNKNOWN=2]="UNKNOWN",Xn[Xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xn[Xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xn[Xn.NOT_FOUND=5]="NOT_FOUND",Xn[Xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xn[Xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xn[Xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xn[Xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xn[Xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xn[Xn.ABORTED=10]="ABORTED",Xn[Xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xn[Xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xn[Xn.INTERNAL=13]="INTERNAL",Xn[Xn.UNAVAILABLE=14]="UNAVAILABLE",Xn[Xn.DATA_LOSS=15]="DATA_LOSS",new Y0([4294967295,4294967295],0);class cm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ep{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Fi(e.integerValue));else if("doubleValue"in e){const r=Fi(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),function Lc(n){return 0===n&&1/n==-1/0}(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(function Rl(n){return"string"==typeof n?Ts.fromBase64String(n):Ts.fromUint8Array(n)}(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?function _w(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):qt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),Ot.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}Ep.be=new Ep,new Uint8Array(0);class ua{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ua(e,ua.DEFAULT_COLLECTION_PERCENTILE,ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cI(){return typeof document<"u"?document:null}ua.DEFAULT_COLLECTION_PERCENTILE=10,ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ua.DEFAULT=new ua(41943040,ua.DEFAULT_COLLECTION_PERCENTILE,ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ua.DISABLED=new ua(-1,0,0);class MD{constructor(e,t,r=1e3,i=1.5,u=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=u,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&ft("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class QD{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,u){const l=Date.now()+r,h=new QD(e,t,l,i,u);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ct(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class xx{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bs.UNAUTHENTICATED,this.clientId=R_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,zi.Z)(function*(h){ft("FirestoreClient","Received user=",h.uid),yield u.authCredentialListener(h),u.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(ft("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,zi.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ct(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,zi.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function Tm(n,e){if(Hi("AsyncQueue",`${e}: ${n}`),kc(n))return new ct(Ve.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}const kR=new Map;function Tr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ct(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function _I(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":qt()}(n);throw new ct(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class BR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ct(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ct(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $x(n,e,t,r){if(!0===e&&!0===r)throw new ct(Ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ct(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ct(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new X0;switch(t.type){case"firstParty":return new TC(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ct(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kR.get(e);t&&(ft("ComponentProvider","Removing Datastore"),kR.delete(e),t.terminate())}(this),Promise.resolve()}}class Hx{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new MD(this,"async_queue_retry"),this.Yc=()=>{const t=cI();t&&ft("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=cI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=cI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Xi;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,zi.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!kc(t))throw t;ft("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,Hi("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=QD.createAndSchedule(this,e,t,r,u=>this.ea(u));return this.jc.push(i),i}Xc(){this.zc&&qt()}verifyOperationInProgress(){}na(){var e=this;return(0,zi.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}class Bi extends Rv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Hx,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function $R(n){var e,t,r;const i=n._freezeSettings(),u=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new gw(n._databaseId,h,n._persistenceKey,(E=i).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,E.useFetchStreams));var h,E;n._firestoreClient=new xx(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function Wx(n,e){const t="object"==typeof n?n:(0,Wr.Mq)(),r="string"==typeof n?n:e||"(default)",i=(0,Wr.qX)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,Ae.P0)("firestore");u&&function jx(n,e,t,r={}){var i;const u=(n=Tr(n,Rv))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&function bl(n,...e){if(Sl.logLevel<=Ks.in.WARN){const t=e.map(Z0);Sl.warn(`Firestore (${Xf}): ${n}`,...t)}}("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,h;if("string"==typeof r.mockUserToken)l=r.mockUserToken,h=Bs.MOCK_USER;else{l=(0,Ae.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ct(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Bs(m)}n._authCredentials=new J0(new A_(l,h))}}(i,...u)}return i}!function(n,e=!0){Xf=Wr.Jn,(0,Wr.Xd)(new fo.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),l=new Bi(new ew(t.getProvider("auth-internal")),new CC(t.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ct(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rd(h.options.projectId,m)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Wr.KN)(zg,"3.11.0",n),(0,Wr.KN)(zg,"3.11.0","esm2017")}();class HS{constructor(e){return e}}const uM="firestore",GS=new k.OlP("angularfire2.firestore-instances");function vN(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new HS(r)}}const EN={provide:class yN{constructor(){return(0,Ar.vb)(uM)}},deps:[[new k.FiY,GS]]},wN={provide:HS,useFactory:function _N(n,e){const t=(0,Ar.JM)(uM,n,e);return t&&new HS(t)},deps:[[new k.FiY,GS],mi.Ot]};let IN=(()=>{class n{constructor(){(0,Ll.KN)("angularfire",Ar.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:[wN,EN]}),n})();function TN(n,...e){return{ngModule:IN,providers:[{provide:GS,useFactory:vN(n),multi:!0,deps:[k.R0b,k.zs3,Ar.HU,mi.z6,[new k.FiY,Po.dh],[new k.FiY,Xu.nm],...e]}]}}const CN=(0,Ar.u3)(Wx,!0),lM="firebasestorage.googleapis.com",cM="storageBucket";class ns extends Ae.ZR{constructor(e,t,r=0){super(WS(e),`Firebase Storage: ${t} (${WS(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ns.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return WS(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ri=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ri||(Ri={})),Ri))();function WS(n){return"storage/"+n}function qS(n){return new ns(Ri.INVALID_ARGUMENT,n)}function pM(){return new ns(Ri.APP_DELETED,"The Firebase app was deleted.")}class La{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=La.makeFromUrl(e,t)}catch{return new La(e,"")}if(""===r.path)return r;throw function ON(n){return new ns(Ri.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function E(Dn){Dn.path_=decodeURIComponent(Dn.path)}const U=t.replace(/[.]/g,"\\."),Lt=[{regex:h,indices:{bucket:1,path:3},postModify:function u(Dn){"/"===Dn.path.charAt(Dn.path.length-1)&&(Dn.path_=Dn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${U}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${t===lM?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let Dn=0;Dn<Lt.length;Dn++){const Cr=Lt[Dn],Jn=Cr.regex.exec(e);if(Jn){let Gi=Jn[Cr.indices.path];Gi||(Gi=""),r=new La(Jn[Cr.indices.bucket],Gi),Cr.postModify(r);break}}if(null==r)throw function NN(n){return new ns(Ri.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class VN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function YS(n,e,t,r){if(r<e)throw qS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw qS(`Invalid value for '${n}'. Expected ${t} or less.`)}var rf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(rf||(rf={})),rf))();class WN{constructor(e,t,r,i,u,l,h,m,E,P,U,W=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=m,this.timeout_=E,this.progressCallback_=P,this.connectionFactory_=U,this.retry=W,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((J,ae)=>{this.resolve_=J,this.reject_=ae,this.start_()})}start_(){const t=(r,i)=>{const u=this.resolve_,l=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());!function zN(n){return void 0!==n}(m)?u():u(m)}catch(m){l(m)}else if(null!==h){const m=function KS(){return new ns(Ri.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();m.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,m):m)}else l(i.canceled?this.appDelete_?pM():function hM(){return new ns(Ri.CANCELED,"User canceled the upload/download.")}():function dM(){return new ns(Ri.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new RI(!1,null,!0)):this.backoffId_=function $N(n,e,t){let r=1,i=null,u=null,l=!1,h=0;function m(){return 2===h}let E=!1;function P(...qe){E||(E=!0,e.apply(null,qe))}function U(qe){i=setTimeout(()=>{i=null,n(J,m())},qe)}function W(){u&&clearTimeout(u)}function J(qe,...Ct){if(E)return void W();if(qe)return W(),void P.call(null,qe,...Ct);if(m()||l)return W(),void P.call(null,qe,...Ct);let Lt;r<64&&(r*=2),1===h?(h=2,Lt=0):Lt=1e3*(r+Math.random()),U(Lt)}let ae=!1;function Se(qe){ae||(ae=!0,W(),!E&&(null!==i?(qe||(h=2),clearTimeout(i),U(0)):qe||(h=1)))}return U(0),u=setTimeout(()=>{l=!0,Se(!0)},t),Se}((r,i)=>{if(i)return void r(!1,new RI(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(l),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(l),this.pendingConnection_=null;const h=u.getErrorCode()===rf.NO_ERROR,m=u.getStatus();if(!h||function yM(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),u=-1!==e.indexOf(n);return t||i||u}(m,this.additionalRetryCodes_)&&this.retry){const P=u.getErrorCode()===rf.ABORT;return void r(!1,new RI(!1,null,P))}const E=-1!==this.successCodes_.indexOf(m);r(!0,new RI(E,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function jN(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class RI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}class bp{constructor(e,t){this._service=e,this._location=t instanceof La?t:La.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new bp(e,t)}get root(){const e=new La(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function IM(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function oO(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new La(this._location.bucket,e);return new bp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function BN(n){return new ns(Ri.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function FM(n,e){const t=e?.[cM];return null==t?null:La.makeFromBucketSpec(t,n)}class rb{constructor(e,t,r,i,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=lM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?La.makeFromBucketSpec(i,this._host):FM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?La.makeFromBucketSpec(this._url,e):FM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,zi.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,zi.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bp(this,e)}_makeRequest(e,t,r,i,u=!0){if(this._deleted)return new VN(pM());{const l=function ZN(n,e,t,r,i,u,l=!0){const h=function mM(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),m=n.url+h,E=Object.assign({},n.headers);return function QN(n,e){e&&(n["X-Firebase-GMPID"]=e)}(E,e),function KN(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(E,t),function qN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(E,u),function YN(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(E,r),new WN(m,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,u);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,zi.Z)(function*(){const[i,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,u).getPromise()})()}}const UM="@firebase/storage",VM="storage";function GO(n=(0,Wr.Mq)(),e){n=(0,Ae.m9)(n);const r=(0,Wr.qX)(n,VM).getImmediate({identifier:e}),i=(0,Ae.P0)("storage");return i&&function WO(n,e,t,r={}){!function HO(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Ae.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function KO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new rb(t,r,i,e,Wr.Jn)}!function qO(){(0,Wr.Xd)(new fo.wA(VM,KO,"PUBLIC").setMultipleInstances(!0)),(0,Wr.KN)(UM,"0.11.2",""),(0,Wr.KN)(UM,"0.11.2","esm2017")}();class ib{constructor(e){return e}}const $M="storage",sb=new k.OlP("angularfire2.storage-instances");function ZO(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ib(r)}}const XO={provide:class QO{constructor(){return(0,Ar.vb)($M)}},deps:[[new k.FiY,sb]]},JO={provide:ib,useFactory:function YO(n,e){const t=(0,Ar.JM)($M,n,e);return t&&new ib(t)},deps:[[new k.FiY,sb],mi.Ot]};let ek=(()=>{class n{constructor(){(0,Ll.KN)("angularfire",Ar.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:[JO,XO]}),n})();function tk(n,...e){return{ngModule:ek,providers:[{provide:sb,useFactory:ZO(n),multi:!0,deps:[k.R0b,k.zs3,Ar.HU,mi.z6,[new k.FiY,Po.dh],[new k.FiY,Xu.nm],...e]}]}}const nk=(0,Ar.u3)(GO,!0);var jM=O(9770),rk=O(2843),zM=O(4968),ob=O(9646),ik=O(7272),ab=O(7579),HM=O(9751),sk=O(5032);const sf=new HM.y(sk.Z);var GM=O(6451),Ap=O(4004),km=O(9300),NI=O(3900),ok=O(4033),WM=O(576),ak=O(8421),uk=O(4482);const ck={connector:()=>new ab.x};function KM(n,e=ck){const{connector:t}=e;return(0,uk.e)((r,i)=>{const u=t();(0,ak.Xf)(n(function lk(n){return new HM.y(e=>n.subscribe(e))}(u))).subscribe(i),i.add(r.subscribe(u))})}var Lm=O(5698),fk=O(8505),pk=O(1005);const Vv="Service workers are disabled or not supported by this browser";class OI{constructor(e){if(this.serviceWorker=e,e){const r=(0,zM.R)(e,"controllerchange").pipe((0,Ap.U)(()=>e.controller)),i=(0,jM.P)(()=>(0,ob.of)(e.controller)),u=(0,ik.z)(i,r);this.worker=u.pipe((0,km.h)(P=>!!P)),this.registration=this.worker.pipe((0,NI.w)(()=>e.getRegistration()));const E=(0,zM.R)(e,"message").pipe((0,Ap.U)(P=>P.data)).pipe((0,km.h)(P=>P&&P.type)).pipe(function hk(n){return n?e=>KM(n)(e):e=>function dk(n,e){const t=(0,WM.m)(n)?n:()=>n;return(0,WM.m)(e)?KM(e,{connector:t}):r=>new ok.c(r,t)}(new ab.x)(e)}());E.connect(),this.events=E}else this.worker=this.events=this.registration=function gk(n){return(0,jM.P)(()=>(0,rk._)(new Error(n)))}(Vv)}postMessage(e,t){return this.worker.pipe((0,Lm.q)(1),(0,fk.b)(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),u=this.postMessage(e,t);return Promise.all([u,i]).then(([,l])=>l)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe((0,km.h)(t))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,Lm.q)(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,km.h)(t=>t.nonce===e),(0,Lm.q)(1),(0,Ap.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let mk=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new ab.x,!t.isEnabled)return this.messages=sf,this.notificationClicks=sf,void(this.subscription=sf);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ap.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ap.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,Ap.U)(i=>i.pushManager));const r=this.pushManager.pipe((0,NI.w)(i=>i.getSubscription()));this.subscription=(0,GM.T)(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Vv));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),u=new Uint8Array(new ArrayBuffer(i.length));for(let l=0;l<i.length;l++)u[l]=i.charCodeAt(l);return r.applicationServerKey=u,this.pushManager.pipe((0,NI.w)(l=>l.subscribe(r)),(0,Lm.q)(1)).toPromise().then(l=>(this.subscriptionChanges.next(l),l))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Lm.q)(1),(0,NI.w)(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Vv))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(OI))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})(),yk=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=sf,this.available=sf,this.activated=sf,void(this.unrecoverable=sf);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,km.h)(r=>"VERSION_READY"===r.type),(0,Ap.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Vv));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Vv));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(k.LFG(OI))},n.\u0275prov=k.Yz7({token:n,factory:n.\u0275fac}),n})();class ub{}const qM=new k.OlP("NGSW_REGISTER_SCRIPT");function _k(n,e,t,r){return()=>{if(!(0,Zo.NF)(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[l,...h]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(l){case"registerImmediately":i=(0,ob.of)(null);break;case"registerWithDelay":i=QM(+h[0]||0);break;case"registerWhenStable":i=h[0]?(0,GM.T)(YM(n),QM(+h[0])):YM(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(k.R0b).runOutsideAngular(()=>i.pipe((0,Lm.q)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(l=>console.error("Service worker registration failed with:",l))))}}function QM(n){return(0,ob.of)(null).pipe((0,pk.g)(n))}function YM(n){return n.get(k.z2F).isStable.pipe((0,km.h)(t=>t))}function vk(n,e){return new OI((0,Zo.NF)(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Ek=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:qM,useValue:t},{provide:ub,useValue:r},{provide:OI,useFactory:vk,deps:[ub,k.Lbi]},{provide:k.ip1,useFactory:_k,deps:[k.zs3,qM,ub,k.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n}),n.\u0275inj=k.cJS({providers:[mk,yk]}),n})(),wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=k.oAB({type:n,bootstrap:[he]}),n.\u0275inj=k.cJS({imports:[D.b2,re,va,(0,mi.hX)(()=>(0,mi.ZF)(ls_firebase)),(0,Po.AR)(()=>(0,Po.v0)()),ug(()=>KE()),TN(()=>CN()),tk(()=>nk()),Ek.register("ngsw-worker.js",{enabled:!(0,k.X6Q)(),registrationStrategy:"registerWhenStable:30000"})]}),n})();(0,k.G48)(),D.q6().bootstrapModule(wk).catch(n=>console.error(n))},1135:(Dt,Pe,O)=>{O.d(Pe,{X:()=>k});var D=O(7579);class k extends D.x{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const re=super._subscribe(ie);return!re.closed&&ie.next(this._value),re}getValue(){const{hasError:ie,thrownError:re,_value:he}=this;if(ie)throw re;return this._throwIfClosed(),he}next(ie){super.next(this._value=ie)}}},9751:(Dt,Pe,O)=>{O.d(Pe,{y:()=>_e});var D=O(930),k=O(727),q=O(8822),ie=O(9635),re=O(2416),he=O(576),ye=O(2806);let _e=(()=>{class me{constructor($e){$e&&(this._subscribe=$e)}lift($e){const Ge=new me;return Ge.source=this,Ge.operator=$e,Ge}subscribe($e,Ge,_t){const Me=function ee(me){return me&&me instanceof D.Lv||function te(me){return me&&(0,he.m)(me.next)&&(0,he.m)(me.error)&&(0,he.m)(me.complete)}(me)&&(0,k.Nn)(me)}($e)?$e:new D.Hp($e,Ge,_t);return(0,ye.x)(()=>{const{operator:gt,source:dt}=this;Me.add(gt?gt.call(Me,dt):dt?this._subscribe(Me):this._trySubscribe(Me))}),Me}_trySubscribe($e){try{return this._subscribe($e)}catch(Ge){$e.error(Ge)}}forEach($e,Ge){return new(Ge=Te(Ge))((_t,Me)=>{const gt=new D.Hp({next:dt=>{try{$e(dt)}catch(bt){Me(bt),gt.unsubscribe()}},error:Me,complete:_t});this.subscribe(gt)})}_subscribe($e){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe($e)}[q.L](){return this}pipe(...$e){return(0,ie.U)($e)(this)}toPromise($e){return new($e=Te($e))((Ge,_t)=>{let Me;this.subscribe(gt=>Me=gt,gt=>_t(gt),()=>Ge(Me))})}}return me.create=Fe=>new me(Fe),me})();function Te(me){var Fe;return null!==(Fe=me??re.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(Dt,Pe,O)=>{O.d(Pe,{x:()=>ye});var D=O(9751),k=O(727);const ie=(0,O(3888).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=O(8737),he=O(2806);let ye=(()=>{class Te extends D.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const me=new _e(this,this);return me.operator=ee,me}_throwIfClosed(){if(this.closed)throw new ie}next(ee){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(ee)}})}error(ee){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:me}=this;for(;me.length;)me.shift().error(ee)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:me,isStopped:Fe,observers:$e}=this;return me||Fe?k.Lc:(this.currentObservers=null,$e.push(ee),new k.w0(()=>{this.currentObservers=null,(0,re.P)($e,ee)}))}_checkFinalizedStatuses(ee){const{hasError:me,thrownError:Fe,isStopped:$e}=this;me?ee.error(Fe):$e&&ee.complete()}asObservable(){const ee=new D.y;return ee.source=this,ee}}return Te.create=(te,ee)=>new _e(te,ee),Te})();class _e extends ye{constructor(te,ee){super(),this.destination=te,this.source=ee}next(te){var ee,me;null===(me=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===me||me.call(ee,te)}error(te){var ee,me;null===(me=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===me||me.call(ee,te)}complete(){var te,ee;null===(ee=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ee||ee.call(te)}_subscribe(te){var ee,me;return null!==(me=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(te))&&void 0!==me?me:k.Lc}}},930:(Dt,Pe,O)=>{O.d(Pe,{Hp:()=>_t,Lv:()=>me});var D=O(576),k=O(727),q=O(2416),ie=O(7849),re=O(5032);const he=Te("C",void 0,void 0);function Te(be,oe,ze){return{kind:be,value:oe,error:ze}}var te=O(3410),ee=O(2806);class me extends k.w0{constructor(oe){super(),this.isStopped=!1,oe?(this.destination=oe,(0,k.Nn)(oe)&&oe.add(this)):this.destination=bt}static create(oe,ze,ot){return new _t(oe,ze,ot)}next(oe){this.isStopped?dt(function _e(be){return Te("N",be,void 0)}(oe),this):this._next(oe)}error(oe){this.isStopped?dt(function ye(be){return Te("E",void 0,be)}(oe),this):(this.isStopped=!0,this._error(oe))}complete(){this.isStopped?dt(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(oe){this.destination.next(oe)}_error(oe){try{this.destination.error(oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function $e(be,oe){return Fe.call(be,oe)}class Ge{constructor(oe){this.partialObserver=oe}next(oe){const{partialObserver:ze}=this;if(ze.next)try{ze.next(oe)}catch(ot){Me(ot)}}error(oe){const{partialObserver:ze}=this;if(ze.error)try{ze.error(oe)}catch(ot){Me(ot)}else Me(oe)}complete(){const{partialObserver:oe}=this;if(oe.complete)try{oe.complete()}catch(ze){Me(ze)}}}class _t extends me{constructor(oe,ze,ot){let mt;if(super(),(0,D.m)(oe)||!oe)mt={next:oe??void 0,error:ze??void 0,complete:ot??void 0};else{let Ne;this&&q.v.useDeprecatedNextContext?(Ne=Object.create(oe),Ne.unsubscribe=()=>this.unsubscribe(),mt={next:oe.next&&$e(oe.next,Ne),error:oe.error&&$e(oe.error,Ne),complete:oe.complete&&$e(oe.complete,Ne)}):mt=oe}this.destination=new Ge(mt)}}function Me(be){q.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(be):(0,ie.h)(be)}function dt(be,oe){const{onStoppedNotification:ze}=q.v;ze&&te.z.setTimeout(()=>ze(be,oe))}const bt={closed:!0,next:re.Z,error:function gt(be){throw be},complete:re.Z}},727:(Dt,Pe,O)=>{O.d(Pe,{Lc:()=>he,w0:()=>re,Nn:()=>ye});var D=O(576);const q=(0,O(3888).d)(Te=>function(ee){Te(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((me,Fe)=>`${Fe+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ie=O(8737);class re{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const $e of ee)$e.remove(this);else ee.remove(this);const{initialTeardown:me}=this;if((0,D.m)(me))try{me()}catch($e){te=$e instanceof q?$e.errors:[$e]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const $e of Fe)try{_e($e)}catch(Ge){te=te??[],Ge instanceof q?te=[...te,...Ge.errors]:te.push(Ge)}}if(te)throw new q(te)}}add(te){var ee;if(te&&te!==this)if(this.closed)_e(te);else{if(te instanceof re){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(te)}}_hasParent(te){const{_parentage:ee}=this;return ee===te||Array.isArray(ee)&&ee.includes(te)}_addParent(te){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(te),ee):ee?[ee,te]:te}_removeParent(te){const{_parentage:ee}=this;ee===te?this._parentage=null:Array.isArray(ee)&&(0,ie.P)(ee,te)}remove(te){const{_finalizers:ee}=this;ee&&(0,ie.P)(ee,te),te instanceof re&&te._removeParent(this)}}re.EMPTY=(()=>{const Te=new re;return Te.closed=!0,Te})();const he=re.EMPTY;function ye(Te){return Te instanceof re||Te&&"closed"in Te&&(0,D.m)(Te.remove)&&(0,D.m)(Te.add)&&(0,D.m)(Te.unsubscribe)}function _e(Te){(0,D.m)(Te)?Te():Te.unsubscribe()}},2416:(Dt,Pe,O)=>{O.d(Pe,{v:()=>D});const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Dt,Pe,O)=>{O.d(Pe,{c:()=>he});var D=O(9751),k=O(727),q=O(8343),ie=O(5403),re=O(4482);class he extends D.y{constructor(_e,Te){super(),this.source=_e,this.subjectFactory=Te,this._subject=null,this._refCount=0,this._connection=null,(0,re.A)(_e)&&(this.lift=_e.lift)}_subscribe(_e){return this.getSubject().subscribe(_e)}getSubject(){const _e=this._subject;return(!_e||_e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_e}=this;this._subject=this._connection=null,_e?.unsubscribe()}connect(){let _e=this._connection;if(!_e){_e=this._connection=new k.w0;const Te=this.getSubject();_e.add(this.source.subscribe((0,ie.x)(Te,void 0,()=>{this._teardown(),Te.complete()},te=>{this._teardown(),Te.error(te)},()=>this._teardown()))),_e.closed&&(this._connection=null,_e=k.w0.EMPTY)}return _e}refCount(){return(0,q.x)()(this)}}},9841:(Dt,Pe,O)=>{O.d(Pe,{a:()=>te});var D=O(9751),k=O(4742),q=O(8996),ie=O(4671),re=O(3268),he=O(3269),ye=O(1810),_e=O(5403),Te=O(9672);function te(...Fe){const $e=(0,he.yG)(Fe),Ge=(0,he.jO)(Fe),{args:_t,keys:Me}=(0,k.D)(Fe);if(0===_t.length)return(0,q.D)([],$e);const gt=new D.y(function ee(Fe,$e,Ge=ie.y){return _t=>{me($e,()=>{const{length:Me}=Fe,gt=new Array(Me);let dt=Me,bt=Me;for(let be=0;be<Me;be++)me($e,()=>{const oe=(0,q.D)(Fe[be],$e);let ze=!1;oe.subscribe((0,_e.x)(_t,ot=>{gt[be]=ot,ze||(ze=!0,bt--),bt||_t.next(Ge(gt.slice()))},()=>{--dt||_t.complete()}))},_t)},_t)}}(_t,$e,Me?dt=>(0,ye.n)(Me,dt):ie.y));return Ge?gt.pipe((0,re.Z)(Ge)):gt}function me(Fe,$e,Ge){Fe?(0,Te.f)(Ge,Fe,$e):$e()}},7272:(Dt,Pe,O)=>{O.d(Pe,{z:()=>re});var D=O(8189),q=O(3269),ie=O(8996);function re(...he){return function k(){return(0,D.J)(1)}()((0,ie.D)(he,(0,q.yG)(he)))}},9770:(Dt,Pe,O)=>{O.d(Pe,{P:()=>q});var D=O(9751),k=O(8421);function q(ie){return new D.y(re=>{(0,k.Xf)(ie()).subscribe(re)})}},515:(Dt,Pe,O)=>{O.d(Pe,{E:()=>k});const k=new(O(9751).y)(re=>re.complete())},8996:(Dt,Pe,O)=>{O.d(Pe,{D:()=>oe});var D=O(8421),k=O(5363),q=O(9468),he=O(9751),_e=O(2202),Te=O(576),te=O(9672);function me(ze,ot){if(!ze)throw new Error("Iterable cannot be null");return new he.y(mt=>{(0,te.f)(mt,ot,()=>{const Ne=ze[Symbol.asyncIterator]();(0,te.f)(mt,ot,()=>{Ne.next().then(Gt=>{Gt.done?mt.complete():mt.next(Gt.value)})},0,!0)})})}var Fe=O(3670),$e=O(8239),Ge=O(1144),_t=O(6495),Me=O(2206),gt=O(4532),dt=O(3260);function oe(ze,ot){return ot?function be(ze,ot){if(null!=ze){if((0,Fe.c)(ze))return function ie(ze,ot){return(0,D.Xf)(ze).pipe((0,q.R)(ot),(0,k.Q)(ot))}(ze,ot);if((0,Ge.z)(ze))return function ye(ze,ot){return new he.y(mt=>{let Ne=0;return ot.schedule(function(){Ne===ze.length?mt.complete():(mt.next(ze[Ne++]),mt.closed||this.schedule())})})}(ze,ot);if((0,$e.t)(ze))return function re(ze,ot){return(0,D.Xf)(ze).pipe((0,q.R)(ot),(0,k.Q)(ot))}(ze,ot);if((0,Me.D)(ze))return me(ze,ot);if((0,_t.T)(ze))return function ee(ze,ot){return new he.y(mt=>{let Ne;return(0,te.f)(mt,ot,()=>{Ne=ze[_e.h](),(0,te.f)(mt,ot,()=>{let Gt,mn;try{({value:Gt,done:mn}=Ne.next())}catch(At){return void mt.error(At)}mn?mt.complete():mt.next(Gt)},0,!0)}),()=>(0,Te.m)(Ne?.return)&&Ne.return()})}(ze,ot);if((0,dt.L)(ze))return function bt(ze,ot){return me((0,dt.Q)(ze),ot)}(ze,ot)}throw(0,gt.z)(ze)}(ze,ot):(0,D.Xf)(ze)}},4968:(Dt,Pe,O)=>{O.d(Pe,{R:()=>te});var D=O(8421),k=O(9751),q=O(5577),ie=O(1144),re=O(576),he=O(3268);const ye=["addListener","removeListener"],_e=["addEventListener","removeEventListener"],Te=["on","off"];function te(Ge,_t,Me,gt){if((0,re.m)(Me)&&(gt=Me,Me=void 0),gt)return te(Ge,_t,Me).pipe((0,he.Z)(gt));const[dt,bt]=function $e(Ge){return(0,re.m)(Ge.addEventListener)&&(0,re.m)(Ge.removeEventListener)}(Ge)?_e.map(be=>oe=>Ge[be](_t,oe,Me)):function me(Ge){return(0,re.m)(Ge.addListener)&&(0,re.m)(Ge.removeListener)}(Ge)?ye.map(ee(Ge,_t)):function Fe(Ge){return(0,re.m)(Ge.on)&&(0,re.m)(Ge.off)}(Ge)?Te.map(ee(Ge,_t)):[];if(!dt&&(0,ie.z)(Ge))return(0,q.z)(be=>te(be,_t,Me))((0,D.Xf)(Ge));if(!dt)throw new TypeError("Invalid event target");return new k.y(be=>{const oe=(...ze)=>be.next(1<ze.length?ze:ze[0]);return dt(oe),()=>bt(oe)})}function ee(Ge,_t){return Me=>gt=>Ge[Me](_t,gt)}},8421:(Dt,Pe,O)=>{O.d(Pe,{Xf:()=>Fe});var D=O(655),k=O(1144),q=O(8239),ie=O(9751),re=O(3670),he=O(2206),ye=O(4532),_e=O(6495),Te=O(3260),te=O(576),ee=O(7849),me=O(8822);function Fe(be){if(be instanceof ie.y)return be;if(null!=be){if((0,re.c)(be))return function $e(be){return new ie.y(oe=>{const ze=be[me.L]();if((0,te.m)(ze.subscribe))return ze.subscribe(oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,k.z)(be))return function Ge(be){return new ie.y(oe=>{for(let ze=0;ze<be.length&&!oe.closed;ze++)oe.next(be[ze]);oe.complete()})}(be);if((0,q.t)(be))return function _t(be){return new ie.y(oe=>{be.then(ze=>{oe.closed||(oe.next(ze),oe.complete())},ze=>oe.error(ze)).then(null,ee.h)})}(be);if((0,he.D)(be))return gt(be);if((0,_e.T)(be))return function Me(be){return new ie.y(oe=>{for(const ze of be)if(oe.next(ze),oe.closed)return;oe.complete()})}(be);if((0,Te.L)(be))return function dt(be){return gt((0,Te.Q)(be))}(be)}throw(0,ye.z)(be)}function gt(be){return new ie.y(oe=>{(function bt(be,oe){var ze,ot,mt,Ne;return(0,D.mG)(this,void 0,void 0,function*(){try{for(ze=(0,D.KL)(be);!(ot=yield ze.next()).done;)if(oe.next(ot.value),oe.closed)return}catch(Gt){mt={error:Gt}}finally{try{ot&&!ot.done&&(Ne=ze.return)&&(yield Ne.call(ze))}finally{if(mt)throw mt.error}}oe.complete()})})(be,oe).catch(ze=>oe.error(ze))})}},6451:(Dt,Pe,O)=>{O.d(Pe,{T:()=>he});var D=O(8189),k=O(8421),q=O(515),ie=O(3269),re=O(8996);function he(...ye){const _e=(0,ie.yG)(ye),Te=(0,ie._6)(ye,1/0),te=ye;return te.length?1===te.length?(0,k.Xf)(te[0]):(0,D.J)(Te)((0,re.D)(te,_e)):q.E}},9646:(Dt,Pe,O)=>{O.d(Pe,{of:()=>q});var D=O(3269),k=O(8996);function q(...ie){const re=(0,D.yG)(ie);return(0,k.D)(ie,re)}},2843:(Dt,Pe,O)=>{O.d(Pe,{_:()=>q});var D=O(9751),k=O(576);function q(ie,re){const he=(0,k.m)(ie)?ie:()=>ie,ye=_e=>_e.error(he());return new D.y(re?_e=>re.schedule(ye,0,_e):ye)}},5963:(Dt,Pe,O)=>{O.d(Pe,{H:()=>re});var D=O(9751),k=O(4986),q=O(3532);function re(he=0,ye,_e=k.P){let Te=-1;return null!=ye&&((0,q.K)(ye)?_e=ye:Te=ye),new D.y(te=>{let ee=function ie(he){return he instanceof Date&&!isNaN(he)}(he)?+he-_e.now():he;ee<0&&(ee=0);let me=0;return _e.schedule(function(){te.closed||(te.next(me++),0<=Te?this.schedule(void 0,Te):te.complete())},ee)})}},5403:(Dt,Pe,O)=>{O.d(Pe,{x:()=>k});var D=O(930);function k(ie,re,he,ye,_e){return new q(ie,re,he,ye,_e)}class q extends D.Lv{constructor(re,he,ye,_e,Te,te){super(re),this.onFinalize=Te,this.shouldUnsubscribe=te,this._next=he?function(ee){try{he(ee)}catch(me){re.error(me)}}:super._next,this._error=_e?function(ee){try{_e(ee)}catch(me){re.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(ee){re.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},262:(Dt,Pe,O)=>{O.d(Pe,{K:()=>ie});var D=O(8421),k=O(5403),q=O(4482);function ie(re){return(0,q.e)((he,ye)=>{let te,_e=null,Te=!1;_e=he.subscribe((0,k.x)(ye,void 0,void 0,ee=>{te=(0,D.Xf)(re(ee,ie(re)(he))),_e?(_e.unsubscribe(),_e=null,te.subscribe(ye)):Te=!0})),Te&&(_e.unsubscribe(),_e=null,te.subscribe(ye))})}},4351:(Dt,Pe,O)=>{O.d(Pe,{b:()=>q});var D=O(5577),k=O(576);function q(ie,re){return(0,k.m)(re)?(0,D.z)(ie,re,1):(0,D.z)(ie,1)}},1005:(Dt,Pe,O)=>{O.d(Pe,{g:()=>me});var D=O(4986),k=O(7272),q=O(5698),ie=O(4482),re=O(5403),he=O(5032),_e=O(9718),Te=O(5577);function te(Fe,$e){return $e?Ge=>(0,k.z)($e.pipe((0,q.q)(1),function ye(){return(0,ie.e)((Fe,$e)=>{Fe.subscribe((0,re.x)($e,he.Z))})}()),Ge.pipe(te(Fe))):(0,Te.z)((Ge,_t)=>Fe(Ge,_t).pipe((0,q.q)(1),(0,_e.h)(Ge)))}var ee=O(5963);function me(Fe,$e=D.z){const Ge=(0,ee.H)(Fe,$e);return te(()=>Ge)}},9300:(Dt,Pe,O)=>{O.d(Pe,{h:()=>q});var D=O(4482),k=O(5403);function q(ie,re){return(0,D.e)((he,ye)=>{let _e=0;he.subscribe((0,k.x)(ye,Te=>ie.call(re,Te,_e++)&&ye.next(Te)))})}},8746:(Dt,Pe,O)=>{O.d(Pe,{x:()=>k});var D=O(4482);function k(q){return(0,D.e)((ie,re)=>{try{ie.subscribe(re)}finally{re.add(q)}})}},4004:(Dt,Pe,O)=>{O.d(Pe,{U:()=>q});var D=O(4482),k=O(5403);function q(ie,re){return(0,D.e)((he,ye)=>{let _e=0;he.subscribe((0,k.x)(ye,Te=>{ye.next(ie.call(re,Te,_e++))}))})}},9718:(Dt,Pe,O)=>{O.d(Pe,{h:()=>k});var D=O(4004);function k(q){return(0,D.U)(()=>q)}},8189:(Dt,Pe,O)=>{O.d(Pe,{J:()=>q});var D=O(5577),k=O(4671);function q(ie=1/0){return(0,D.z)(k.y,ie)}},5577:(Dt,Pe,O)=>{O.d(Pe,{z:()=>_e});var D=O(4004),k=O(8421),q=O(4482),ie=O(9672),re=O(5403),ye=O(576);function _e(Te,te,ee=1/0){return(0,ye.m)(te)?_e((me,Fe)=>(0,D.U)(($e,Ge)=>te(me,$e,Fe,Ge))((0,k.Xf)(Te(me,Fe))),ee):("number"==typeof te&&(ee=te),(0,q.e)((me,Fe)=>function he(Te,te,ee,me,Fe,$e,Ge,_t){const Me=[];let gt=0,dt=0,bt=!1;const be=()=>{bt&&!Me.length&&!gt&&te.complete()},oe=ot=>gt<me?ze(ot):Me.push(ot),ze=ot=>{$e&&te.next(ot),gt++;let mt=!1;(0,k.Xf)(ee(ot,dt++)).subscribe((0,re.x)(te,Ne=>{Fe?.(Ne),$e?oe(Ne):te.next(Ne)},()=>{mt=!0},void 0,()=>{if(mt)try{for(gt--;Me.length&&gt<me;){const Ne=Me.shift();Ge?(0,ie.f)(te,Ge,()=>ze(Ne)):ze(Ne)}be()}catch(Ne){te.error(Ne)}}))};return Te.subscribe((0,re.x)(te,oe,()=>{bt=!0,be()})),()=>{_t?.()}}(me,Fe,Te,ee)))}},5363:(Dt,Pe,O)=>{O.d(Pe,{Q:()=>ie});var D=O(9672),k=O(4482),q=O(5403);function ie(re,he=0){return(0,k.e)((ye,_e)=>{ye.subscribe((0,q.x)(_e,Te=>(0,D.f)(_e,re,()=>_e.next(Te),he),()=>(0,D.f)(_e,re,()=>_e.complete(),he),Te=>(0,D.f)(_e,re,()=>_e.error(Te),he)))})}},8343:(Dt,Pe,O)=>{O.d(Pe,{x:()=>q});var D=O(4482),k=O(5403);function q(){return(0,D.e)((ie,re)=>{let he=null;ie._refCount++;const ye=(0,k.x)(re,void 0,void 0,void 0,()=>{if(!ie||ie._refCount<=0||0<--ie._refCount)return void(he=null);const _e=ie._connection,Te=he;he=null,_e&&(!Te||_e===Te)&&_e.unsubscribe(),re.unsubscribe()});ie.subscribe(ye),ye.closed||(he=ie.connect())})}},3099:(Dt,Pe,O)=>{O.d(Pe,{B:()=>re});var D=O(8421),k=O(7579),q=O(930),ie=O(4482);function re(ye={}){const{connector:_e=(()=>new k.x),resetOnError:Te=!0,resetOnComplete:te=!0,resetOnRefCountZero:ee=!0}=ye;return me=>{let Fe,$e,Ge,_t=0,Me=!1,gt=!1;const dt=()=>{$e?.unsubscribe(),$e=void 0},bt=()=>{dt(),Fe=Ge=void 0,Me=gt=!1},be=()=>{const oe=Fe;bt(),oe?.unsubscribe()};return(0,ie.e)((oe,ze)=>{_t++,!gt&&!Me&&dt();const ot=Ge=Ge??_e();ze.add(()=>{_t--,0===_t&&!gt&&!Me&&($e=he(be,ee))}),ot.subscribe(ze),!Fe&&_t>0&&(Fe=new q.Hp({next:mt=>ot.next(mt),error:mt=>{gt=!0,dt(),$e=he(bt,Te,mt),ot.error(mt)},complete:()=>{Me=!0,dt(),$e=he(bt,te),ot.complete()}}),(0,D.Xf)(oe).subscribe(Fe))})(me)}}function he(ye,_e,...Te){if(!0===_e)return void ye();if(!1===_e)return;const te=new q.Hp({next:()=>{te.unsubscribe(),ye()}});return _e(...Te).subscribe(te)}},8675:(Dt,Pe,O)=>{O.d(Pe,{O:()=>ie});var D=O(7272),k=O(3269),q=O(4482);function ie(...re){const he=(0,k.yG)(re);return(0,q.e)((ye,_e)=>{(he?(0,D.z)(re,ye,he):(0,D.z)(re,ye)).subscribe(_e)})}},9468:(Dt,Pe,O)=>{O.d(Pe,{R:()=>k});var D=O(4482);function k(q,ie=0){return(0,D.e)((re,he)=>{he.add(q.schedule(()=>re.subscribe(he),ie))})}},3900:(Dt,Pe,O)=>{O.d(Pe,{w:()=>ie});var D=O(8421),k=O(4482),q=O(5403);function ie(re,he){return(0,k.e)((ye,_e)=>{let Te=null,te=0,ee=!1;const me=()=>ee&&!Te&&_e.complete();ye.subscribe((0,q.x)(_e,Fe=>{Te?.unsubscribe();let $e=0;const Ge=te++;(0,D.Xf)(re(Fe,Ge)).subscribe(Te=(0,q.x)(_e,_t=>_e.next(he?he(Fe,_t,Ge,$e++):_t),()=>{Te=null,me()}))},()=>{ee=!0,me()}))})}},5698:(Dt,Pe,O)=>{O.d(Pe,{q:()=>ie});var D=O(515),k=O(4482),q=O(5403);function ie(re){return re<=0?()=>D.E:(0,k.e)((he,ye)=>{let _e=0;he.subscribe((0,q.x)(ye,Te=>{++_e<=re&&(ye.next(Te),re<=_e&&ye.complete())}))})}},8505:(Dt,Pe,O)=>{O.d(Pe,{b:()=>re});var D=O(576),k=O(4482),q=O(5403),ie=O(4671);function re(he,ye,_e){const Te=(0,D.m)(he)||ye||_e?{next:he,error:ye,complete:_e}:he;return Te?(0,k.e)((te,ee)=>{var me;null===(me=Te.subscribe)||void 0===me||me.call(Te);let Fe=!0;te.subscribe((0,q.x)(ee,$e=>{var Ge;null===(Ge=Te.next)||void 0===Ge||Ge.call(Te,$e),ee.next($e)},()=>{var $e;Fe=!1,null===($e=Te.complete)||void 0===$e||$e.call(Te),ee.complete()},$e=>{var Ge;Fe=!1,null===(Ge=Te.error)||void 0===Ge||Ge.call(Te,$e),ee.error($e)},()=>{var $e,Ge;Fe&&(null===($e=Te.unsubscribe)||void 0===$e||$e.call(Te)),null===(Ge=Te.finalize)||void 0===Ge||Ge.call(Te)}))}):ie.y}},4408:(Dt,Pe,O)=>{O.d(Pe,{o:()=>re});var D=O(727);class k extends D.w0{constructor(ye,_e){super()}schedule(ye,_e=0){return this}}const q={setInterval(he,ye,..._e){const{delegate:Te}=q;return Te?.setInterval?Te.setInterval(he,ye,..._e):setInterval(he,ye,..._e)},clearInterval(he){const{delegate:ye}=q;return(ye?.clearInterval||clearInterval)(he)},delegate:void 0};var ie=O(8737);class re extends k{constructor(ye,_e){super(ye,_e),this.scheduler=ye,this.work=_e,this.pending=!1}schedule(ye,_e=0){var Te;if(this.closed)return this;this.state=ye;const te=this.id,ee=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(ee,te,_e)),this.pending=!0,this.delay=_e,this.id=null!==(Te=this.id)&&void 0!==Te?Te:this.requestAsyncId(ee,this.id,_e),this}requestAsyncId(ye,_e,Te=0){return q.setInterval(ye.flush.bind(ye,this),Te)}recycleAsyncId(ye,_e,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return _e;null!=_e&&q.clearInterval(_e)}execute(ye,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(ye,_e);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,_e){let te,Te=!1;try{this.work(ye)}catch(ee){Te=!0,te=ee||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:ye,scheduler:_e}=this,{actions:Te}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(Te,this),null!=ye&&(this.id=this.recycleAsyncId(_e,ye,null)),this.delay=null,super.unsubscribe()}}}},640:(Dt,Pe,O)=>{O.d(Pe,{v:()=>q});const D={now:()=>(D.delegate||Date).now(),delegate:void 0};class k{constructor(re,he=k.now){this.schedulerActionCtor=re,this.now=he}schedule(re,he=0,ye){return new this.schedulerActionCtor(this,re).schedule(ye,he)}}k.now=D.now;class q extends k{constructor(re,he=k.now){super(re,he),this.actions=[],this._active=!1}flush(re){const{actions:he}=this;if(this._active)return void he.push(re);let ye;this._active=!0;do{if(ye=re.execute(re.state,re.delay))break}while(re=he.shift());if(this._active=!1,ye){for(;re=he.shift();)re.unsubscribe();throw ye}}}},4986:(Dt,Pe,O)=>{O.d(Pe,{P:()=>ie,z:()=>q});var D=O(4408);const q=new(O(640).v)(D.o),ie=q},3410:(Dt,Pe,O)=>{O.d(Pe,{z:()=>D});const D={setTimeout(k,q,...ie){const{delegate:re}=D;return re?.setTimeout?re.setTimeout(k,q,...ie):setTimeout(k,q,...ie)},clearTimeout(k){const{delegate:q}=D;return(q?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(Dt,Pe,O)=>{O.d(Pe,{h:()=>k});const k=function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,Pe,O)=>{O.d(Pe,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Dt,Pe,O)=>{O.d(Pe,{_6:()=>he,jO:()=>ie,yG:()=>re});var D=O(576),k=O(3532);function q(ye){return ye[ye.length-1]}function ie(ye){return(0,D.m)(q(ye))?ye.pop():void 0}function re(ye){return(0,k.K)(q(ye))?ye.pop():void 0}function he(ye,_e){return"number"==typeof q(ye)?ye.pop():_e}},4742:(Dt,Pe,O)=>{O.d(Pe,{D:()=>re});const{isArray:D}=Array,{getPrototypeOf:k,prototype:q,keys:ie}=Object;function re(ye){if(1===ye.length){const _e=ye[0];if(D(_e))return{args:_e,keys:null};if(function he(ye){return ye&&"object"==typeof ye&&k(ye)===q}(_e)){const Te=ie(_e);return{args:Te.map(te=>_e[te]),keys:Te}}}return{args:ye,keys:null}}},8737:(Dt,Pe,O)=>{function D(k,q){if(k){const ie=k.indexOf(q);0<=ie&&k.splice(ie,1)}}O.d(Pe,{P:()=>D})},3888:(Dt,Pe,O)=>{function D(k){const ie=k(re=>{Error.call(re),re.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}O.d(Pe,{d:()=>D})},1810:(Dt,Pe,O)=>{function D(k,q){return k.reduce((ie,re,he)=>(ie[re]=q[he],ie),{})}O.d(Pe,{n:()=>D})},2806:(Dt,Pe,O)=>{O.d(Pe,{O:()=>ie,x:()=>q});var D=O(2416);let k=null;function q(re){if(D.v.useDeprecatedSynchronousErrorHandling){const he=!k;if(he&&(k={errorThrown:!1,error:null}),re(),he){const{errorThrown:ye,error:_e}=k;if(k=null,ye)throw _e}}else re()}function ie(re){D.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=re)}},9672:(Dt,Pe,O)=>{function D(k,q,ie,re=0,he=!1){const ye=q.schedule(function(){ie(),he?k.add(this.schedule(null,re)):this.unsubscribe()},re);if(k.add(ye),!he)return ye}O.d(Pe,{f:()=>D})},4671:(Dt,Pe,O)=>{function D(k){return k}O.d(Pe,{y:()=>D})},1144:(Dt,Pe,O)=>{O.d(Pe,{z:()=>D});const D=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(Dt,Pe,O)=>{O.d(Pe,{D:()=>k});var D=O(576);function k(q){return Symbol.asyncIterator&&(0,D.m)(q?.[Symbol.asyncIterator])}},576:(Dt,Pe,O)=>{function D(k){return"function"==typeof k}O.d(Pe,{m:()=>D})},3670:(Dt,Pe,O)=>{O.d(Pe,{c:()=>q});var D=O(8822),k=O(576);function q(ie){return(0,k.m)(ie[D.L])}},6495:(Dt,Pe,O)=>{O.d(Pe,{T:()=>q});var D=O(2202),k=O(576);function q(ie){return(0,k.m)(ie?.[D.h])}},8239:(Dt,Pe,O)=>{O.d(Pe,{t:()=>k});var D=O(576);function k(q){return(0,D.m)(q?.then)}},3260:(Dt,Pe,O)=>{O.d(Pe,{L:()=>ie,Q:()=>q});var D=O(655),k=O(576);function q(re){return(0,D.FC)(this,arguments,function*(){const ye=re.getReader();try{for(;;){const{value:_e,done:Te}=yield(0,D.qq)(ye.read());if(Te)return yield(0,D.qq)(void 0);yield yield(0,D.qq)(_e)}}finally{ye.releaseLock()}})}function ie(re){return(0,k.m)(re?.getReader)}},3532:(Dt,Pe,O)=>{O.d(Pe,{K:()=>k});var D=O(576);function k(q){return q&&(0,D.m)(q.schedule)}},4482:(Dt,Pe,O)=>{O.d(Pe,{A:()=>k,e:()=>q});var D=O(576);function k(ie){return(0,D.m)(ie?.lift)}function q(ie){return re=>{if(k(re))return re.lift(function(he){try{return ie(he,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Dt,Pe,O)=>{O.d(Pe,{Z:()=>ie});var D=O(4004);const{isArray:k}=Array;function ie(re){return(0,D.U)(he=>function q(re,he){return k(he)?re(...he):re(he)}(re,he))}},5032:(Dt,Pe,O)=>{function D(){}O.d(Pe,{Z:()=>D})},9635:(Dt,Pe,O)=>{O.d(Pe,{U:()=>q,z:()=>k});var D=O(4671);function k(...ie){return q(ie)}function q(ie){return 0===ie.length?D.y:1===ie.length?ie[0]:function(he){return ie.reduce((ye,_e)=>_e(ye),he)}}},7849:(Dt,Pe,O)=>{O.d(Pe,{h:()=>q});var D=O(2416),k=O(3410);function q(ie){k.z.setTimeout(()=>{const{onUnhandledError:re}=D.v;if(!re)throw ie;re(ie)})}},4532:(Dt,Pe,O)=>{function D(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Pe,{z:()=>D})},655:(Dt,Pe,O)=>{function ie(Le,je){var Ye={};for(var et in Le)Object.prototype.hasOwnProperty.call(Le,et)&&je.indexOf(et)<0&&(Ye[et]=Le[et]);if(null!=Le&&"function"==typeof Object.getOwnPropertySymbols){var yt=0;for(et=Object.getOwnPropertySymbols(Le);yt<et.length;yt++)je.indexOf(et[yt])<0&&Object.prototype.propertyIsEnumerable.call(Le,et[yt])&&(Ye[et[yt]]=Le[et[yt]])}return Ye}function me(Le,je,Ye,et){return new(Ye||(Ye=Promise))(function(ht,Bt){function pt(vn){try{Wt(et.next(vn))}catch(lt){Bt(lt)}}function rn(vn){try{Wt(et.throw(vn))}catch(lt){Bt(lt)}}function Wt(vn){vn.done?ht(vn.value):function yt(ht){return ht instanceof Ye?ht:new Ye(function(Bt){Bt(ht)})}(vn.value).then(pt,rn)}Wt((et=et.apply(Le,je||[])).next())})}function be(Le){return this instanceof be?(this.v=Le,this):new be(Le)}function oe(Le,je,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,et=Ye.apply(Le,je||[]),ht=[];return yt={},Bt("next"),Bt("throw"),Bt("return"),yt[Symbol.asyncIterator]=function(){return this},yt;function Bt(ln){et[ln]&&(yt[ln]=function(pr){return new Promise(function(Wn,Rr){ht.push([ln,pr,Wn,Rr])>1||pt(ln,pr)})})}function pt(ln,pr){try{!function rn(ln){ln.value instanceof be?Promise.resolve(ln.value.v).then(Wt,vn):lt(ht[0][2],ln)}(et[ln](pr))}catch(Wn){lt(ht[0][3],Wn)}}function Wt(ln){pt("next",ln)}function vn(ln){pt("throw",ln)}function lt(ln,pr){ln(pr),ht.shift(),ht.length&&pt(ht[0][0],ht[0][1])}}function ot(Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,je=Le[Symbol.asyncIterator];return je?je.call(Le):(Le=function _t(Le){var je="function"==typeof Symbol&&Symbol.iterator,Ye=je&&Le[je],et=0;if(Ye)return Ye.call(Le);if(Le&&"number"==typeof Le.length)return{next:function(){return Le&&et>=Le.length&&(Le=void 0),{value:Le&&Le[et++],done:!Le}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(Le),Ye={},et("next"),et("throw"),et("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function et(ht){Ye[ht]=Le[ht]&&function(Bt){return new Promise(function(pt,rn){!function yt(ht,Bt,pt,rn){Promise.resolve(rn).then(function(Wt){ht({value:Wt,done:pt})},Bt)}(pt,rn,(Bt=Le[ht](Bt)).done,Bt.value)})}}}O.d(Pe,{FC:()=>oe,KL:()=>ot,_T:()=>ie,mG:()=>me,qq:()=>be})},7340:(Dt,Pe,O)=>{O.d(Pe,{LC:()=>k,SB:()=>Te,X$:()=>ie,ZE:()=>dt,ZN:()=>gt,_j:()=>D,eR:()=>ee,jt:()=>re,k1:()=>bt,l3:()=>q,oB:()=>_e,vP:()=>ye});class D{}class k{}const q="*";function ie(be,oe){return{type:7,name:be,definitions:oe,options:{}}}function re(be,oe=null){return{type:4,styles:oe,timings:be}}function ye(be,oe=null){return{type:2,steps:be,options:oe}}function _e(be){return{type:6,styles:be,offset:null}}function Te(be,oe,ze){return{type:0,name:be,styles:oe,options:ze}}function ee(be,oe,ze=null){return{type:1,expr:be,animation:oe,options:ze}}function Me(be){Promise.resolve().then(be)}class gt{constructor(oe=0,ze=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=oe+ze}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}onStart(oe){this._originalOnStartFns.push(oe),this._onStartFns.push(oe)}onDone(oe){this._originalOnDoneFns.push(oe),this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Me(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(oe=>oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(oe){this._position=this.totalTime?oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(oe){const ze="start"==oe?this._onStartFns:this._onDoneFns;ze.forEach(ot=>ot()),ze.length=0}}class dt{constructor(oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=oe;let ze=0,ot=0,mt=0;const Ne=this.players.length;0==Ne?Me(()=>this._onFinish()):this.players.forEach(Gt=>{Gt.onDone(()=>{++ze==Ne&&this._onFinish()}),Gt.onDestroy(()=>{++ot==Ne&&this._onDestroy()}),Gt.onStart(()=>{++mt==Ne&&this._onStart()})}),this.totalTime=this.players.reduce((Gt,mn)=>Math.max(Gt,mn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}init(){this.players.forEach(oe=>oe.init())}onStart(oe){this._onStartFns.push(oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(oe=>oe()),this._onStartFns=[])}onDone(oe){this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(oe=>oe.play())}pause(){this.players.forEach(oe=>oe.pause())}restart(){this.players.forEach(oe=>oe.restart())}finish(){this._onFinish(),this.players.forEach(oe=>oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(oe=>oe.destroy()),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this.players.forEach(oe=>oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(oe){const ze=oe*this.totalTime;this.players.forEach(ot=>{const mt=ot.totalTime?Math.min(1,ze/ot.totalTime):1;ot.setPosition(mt)})}getPosition(){const oe=this.players.reduce((ze,ot)=>null===ze||ot.totalTime>ze.totalTime?ot:ze,null);return null!=oe?oe.getPosition():0}beforeDestroy(){this.players.forEach(oe=>{oe.beforeDestroy&&oe.beforeDestroy()})}triggerCallback(oe){const ze="start"==oe?this._onStartFns:this._onDoneFns;ze.forEach(ot=>ot()),ze.length=0}}const bt="!"},6895:(Dt,Pe,O)=>{O.d(Pe,{Do:()=>dt,EM:()=>ji,HT:()=>ie,JF:()=>hc,K0:()=>he,Mx:()=>so,NF:()=>uo,O5:()=>ce,S$:()=>_t,V_:()=>Te,Ye:()=>bt,b0:()=>gt,bD:()=>ja,ez:()=>Ko,mk:()=>En,q:()=>q,sg:()=>is,w_:()=>re});var D=O(4650);let k=null;function q(){return k}function ie(A){k||(k=A)}class re{}const he=new D.OlP("DocumentToken");let ye=(()=>{class A{historyGo(M){throw new Error("Not implemented")}}return A.\u0275fac=function(M){return new(M||A)},A.\u0275prov=D.Yz7({token:A,factory:function(){return function _e(){return(0,D.LFG)(te)}()},providedIn:"platform"}),A})();const Te=new D.OlP("Location Initialized");let te=(()=>{class A extends ye{constructor(M){super(),this._doc=M,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(M){const j=q().getGlobalEventTarget(this._doc,"window");return j.addEventListener("popstate",M,!1),()=>j.removeEventListener("popstate",M)}onHashChange(M){const j=q().getGlobalEventTarget(this._doc,"window");return j.addEventListener("hashchange",M,!1),()=>j.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,j,Z){ee()?this._history.pushState(M,j,Z):this._location.hash=Z}replaceState(M,j,Z){ee()?this._history.replaceState(M,j,Z):this._location.hash=Z}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return A.\u0275fac=function(M){return new(M||A)(D.LFG(he))},A.\u0275prov=D.Yz7({token:A,factory:function(){return function me(){return new te((0,D.LFG)(he))}()},providedIn:"platform"}),A})();function ee(){return!!window.history.pushState}function Fe(A,F){if(0==A.length)return F;if(0==F.length)return A;let M=0;return A.endsWith("/")&&M++,F.startsWith("/")&&M++,2==M?A+F.substring(1):1==M?A+F:A+"/"+F}function $e(A){const F=A.match(/#|\?|$/),M=F&&F.index||A.length;return A.slice(0,M-("/"===A[M-1]?1:0))+A.slice(M)}function Ge(A){return A&&"?"!==A[0]?"?"+A:A}let _t=(()=>{class A{historyGo(M){throw new Error("Not implemented")}}return A.\u0275fac=function(M){return new(M||A)},A.\u0275prov=D.Yz7({token:A,factory:function(){return(0,D.f3M)(gt)},providedIn:"root"}),A})();const Me=new D.OlP("appBaseHref");let gt=(()=>{class A extends _t{constructor(M,j){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=j??this._platformLocation.getBaseHrefFromDOM()??(0,D.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return Fe(this._baseHref,M)}path(M=!1){const j=this._platformLocation.pathname+Ge(this._platformLocation.search),Z=this._platformLocation.hash;return Z&&M?`${j}${Z}`:j}pushState(M,j,Z,Oe){const Je=this.prepareExternalUrl(Z+Ge(Oe));this._platformLocation.pushState(M,j,Je)}replaceState(M,j,Z,Oe){const Je=this.prepareExternalUrl(Z+Ge(Oe));this._platformLocation.replaceState(M,j,Je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return A.\u0275fac=function(M){return new(M||A)(D.LFG(ye),D.LFG(Me,8))},A.\u0275prov=D.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),dt=(()=>{class A extends _t{constructor(M,j){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=j&&(this._baseHref=j)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let j=this._platformLocation.hash;return null==j&&(j="#"),j.length>0?j.substring(1):j}prepareExternalUrl(M){const j=Fe(this._baseHref,M);return j.length>0?"#"+j:j}pushState(M,j,Z,Oe){let Je=this.prepareExternalUrl(Z+Ge(Oe));0==Je.length&&(Je=this._platformLocation.pathname),this._platformLocation.pushState(M,j,Je)}replaceState(M,j,Z,Oe){let Je=this.prepareExternalUrl(Z+Ge(Oe));0==Je.length&&(Je=this._platformLocation.pathname),this._platformLocation.replaceState(M,j,Je)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return A.\u0275fac=function(M){return new(M||A)(D.LFG(ye),D.LFG(Me,8))},A.\u0275prov=D.Yz7({token:A,factory:A.\u0275fac}),A})(),bt=(()=>{class A{constructor(M){this._subject=new D.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const j=this._locationStrategy.getBaseHref();this._basePath=function ot(A){if(new RegExp("^(https?:)?//").test(A)){const[,M]=A.split(/\/\/[^\/]+/);return M}return A}($e(ze(j))),this._locationStrategy.onPopState(Z=>{this._subject.emit({url:this.path(!0),pop:!0,state:Z.state,type:Z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,j=""){return this.path()==this.normalize(M+Ge(j))}normalize(M){return A.stripTrailingSlash(function oe(A,F){if(!A||!F.startsWith(A))return F;const M=F.substring(A.length);return""===M||["/",";","?","#"].includes(M[0])?M:F}(this._basePath,ze(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,j="",Z=null){this._locationStrategy.pushState(Z,"",M,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ge(j)),Z)}replaceState(M,j="",Z=null){this._locationStrategy.replaceState(Z,"",M,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+Ge(j)),Z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(j=>{this._notifyUrlChangeListeners(j.url,j.state)})),()=>{const j=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(j,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",j){this._urlChangeListeners.forEach(Z=>Z(M,j))}subscribe(M,j,Z){return this._subject.subscribe({next:M,error:j,complete:Z})}}return A.normalizeQueryParams=Ge,A.joinWithSlash=Fe,A.stripTrailingSlash=$e,A.\u0275fac=function(M){return new(M||A)(D.LFG(_t))},A.\u0275prov=D.Yz7({token:A,factory:function(){return function be(){return new bt((0,D.LFG)(_t))}()},providedIn:"root"}),A})();function ze(A){return A.replace(/\/index.html$/,"")}function so(A,F){F=encodeURIComponent(F);for(const M of A.split(";")){const j=M.indexOf("="),[Z,Oe]=-1==j?[M,""]:[M.slice(0,j),M.slice(j+1)];if(Z.trim()===F)return decodeURIComponent(Oe)}return null}const _r=/\s+/,It=[];let En=(()=>{class A{constructor(M,j,Z,Oe){this._iterableDiffers=M,this._keyValueDiffers=j,this._ngEl=Z,this._renderer=Oe,this.initialClasses=It,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(_r):It}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(_r):M}ngDoCheck(){for(const j of this.initialClasses)this._updateState(j,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const j of M)this._updateState(j,!0);else if(null!=M)for(const j of Object.keys(M))this._updateState(j,Boolean(M[j]));this._applyStateDiff()}_updateState(M,j){const Z=this.stateMap.get(M);void 0!==Z?(Z.enabled!==j&&(Z.changed=!0,Z.enabled=j),Z.touched=!0):this.stateMap.set(M,{enabled:j,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const j=M[0],Z=M[1];Z.changed?(this._toggleClass(j,Z.enabled),Z.changed=!1):Z.touched||(Z.enabled&&this._toggleClass(j,!1),this.stateMap.delete(j)),Z.touched=!1}}_toggleClass(M,j){(M=M.trim()).length>0&&M.split(_r).forEach(Z=>{j?this._renderer.addClass(this._ngEl.nativeElement,Z):this._renderer.removeClass(this._ngEl.nativeElement,Z)})}}return A.\u0275fac=function(M){return new(M||A)(D.Y36(D.ZZ4),D.Y36(D.aQg),D.Y36(D.SBq),D.Y36(D.Qsj))},A.\u0275dir=D.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),A})();class Gr{constructor(F,M,j,Z){this.$implicit=F,this.ngForOf=M,this.index=j,this.count=Z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let is=(()=>{class A{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,j,Z){this._viewContainer=M,this._template=j,this._differs=Z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const j=this._viewContainer;M.forEachOperation((Z,Oe,Je)=>{if(null==Z.previousIndex)j.createEmbeddedView(this._template,new Gr(Z.item,this._ngForOf,-1,-1),null===Je?void 0:Je);else if(null==Je)j.remove(null===Oe?void 0:Oe);else if(null!==Oe){const Pt=j.get(Oe);j.move(Pt,Je),tr(Pt,Z)}});for(let Z=0,Oe=j.length;Z<Oe;Z++){const Pt=j.get(Z).context;Pt.index=Z,Pt.count=Oe,Pt.ngForOf=this._ngForOf}M.forEachIdentityChange(Z=>{tr(j.get(Z.currentIndex),Z)})}static ngTemplateContextGuard(M,j){return!0}}return A.\u0275fac=function(M){return new(M||A)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(D.ZZ4))},A.\u0275dir=D.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function tr(A,F){A.context.$implicit=F.item}let ce=(()=>{class A{constructor(M,j){this._viewContainer=M,this._context=new pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=j}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){Qe("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){Qe("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,j){return!0}}return A.\u0275fac=function(M){return new(M||A)(D.Y36(D.s_b),D.Y36(D.Rgc))},A.\u0275dir=D.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class pe{constructor(){this.$implicit=null,this.ngIf=null}}function Qe(A,F){if(F&&!F.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,D.AaK)(F)}'.`)}let Ko=(()=>{class A{}return A.\u0275fac=function(M){return new(M||A)},A.\u0275mod=D.oAB({type:A}),A.\u0275inj=D.cJS({}),A})();const ja="browser";function uo(A){return A===ja}let ji=(()=>{class A{}return A.\u0275prov=(0,D.Yz7)({token:A,providedIn:"root",factory:()=>new yu((0,D.LFG)(he),window)}),A})();class yu{constructor(F,M){this.document=F,this.window=M,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const M=function qo(A,F){const M=A.getElementById(F)||A.getElementsByName(F)[0];if(M)return M;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const j=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let Z=j.currentNode;for(;Z;){const Oe=Z.shadowRoot;if(Oe){const Je=Oe.getElementById(F)||Oe.querySelector(`[name="${F}"]`);if(Je)return Je}Z=j.nextNode()}}return null}(this.document,F);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=F)}}scrollToElement(F){const M=F.getBoundingClientRect(),j=M.left+this.window.pageXOffset,Z=M.top+this.window.pageYOffset,Oe=this.offset();this.window.scrollTo(j-Oe[0],Z-Oe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=us(this.window.history)||us(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function us(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class hc{}},4650:(Dt,Pe,O)=>{O.d(Pe,{$8M:()=>sl,$WT:()=>yr,$Z:()=>dh,AFp:()=>Y_,AaK:()=>_e,CHM:()=>co,CRH:()=>lw,CZH:()=>dp,CqO:()=>o0,D6c:()=>_v,EJc:()=>Nd,EiD:()=>nE,EpF:()=>Ly,F$t:()=>Vy,F4k:()=>Fy,FYo:()=>mE,FiY:()=>wn,G48:()=>ZC,Gf:()=>aw,GfV:()=>If,Gpc:()=>ee,Hsn:()=>l0,JOm:()=>Ir,JVY:()=>zI,JZr:()=>_t,KtG:()=>Ro,L6k:()=>HI,LAX:()=>Qv,LFG:()=>_n,Lbi:()=>$C,Lck:()=>bl,MAs:()=>eo,MMx:()=>Mt,NdJ:()=>gg,O4$:()=>xo,OlP:()=>Er,Oqu:()=>Ag,P3R:()=>Xm,PXZ:()=>xw,Q6J:()=>Ny,QGY:()=>Nf,QbO:()=>zC,Qsj:()=>oT,R0b:()=>To,RDi:()=>BI,Rgc:()=>ep,SBq:()=>Yl,Sil:()=>Dw,Suo:()=>uw,TTD:()=>Ha,TgZ:()=>yh,Udp:()=>Qy,W1O:()=>hw,WFA:()=>_h,X6Q:()=>kw,XFs:()=>Tt,Xpm:()=>xn,Xts:()=>ud,Y36:()=>Zl,YKP:()=>Hi,YNc:()=>fg,Yjl:()=>Kt,Yz7:()=>lt,Z0I:()=>Rr,ZZ4:()=>yv,_Bn:()=>wC,_UZ:()=>cu,_Vd:()=>Dc,_c5:()=>vp,_uU:()=>Ff,aQg:()=>fm,c2e:()=>HC,cJS:()=>pr,cg1:()=>l_,d8E:()=>wd,dDg:()=>pp,dqk:()=>bn,eBb:()=>GI,eFA:()=>kd,eJc:()=>Is,ekj:()=>Ih,eoX:()=>ov,f3M:()=>dr,g9A:()=>X_,h0i:()=>ft,hGG:()=>xl,hij:()=>Sh,iGM:()=>ow,ifc:()=>We,ip1:()=>Q_,jDz:()=>ct,kL8:()=>rc,lG2:()=>Xt,lqb:()=>cd,lri:()=>$o,mCW:()=>Kp,n5z:()=>pc,n_E:()=>$h,oAB:()=>Ce,oxw:()=>u0,pB0:()=>Gp,q3G:()=>Xr,q4F:()=>uy,qLn:()=>Tf,qOj:()=>qE,qZA:()=>md,qzn:()=>Tc,rWj:()=>sv,sBO:()=>qh,s_b:()=>np,soG:()=>Hh,tBr:()=>wr,tb:()=>Mw,tp0:()=>Ru,uIk:()=>ZE,vHH:()=>Me,vpe:()=>wo,wAp:()=>yn,xp6:()=>ng,z2F:()=>sm,z3N:()=>gl,zSh:()=>_f,zs3:()=>bc});var D=O(7579),k=O(727),q=O(9751),ie=O(6451),re=O(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function ye(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function _e(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(_e).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Te(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const te=he({__forward_ref__:he});function ee(s){return s.__forward_ref__=ee,s.toString=function(){return _e(this())},s}function me(s){return Fe(s)?s():s}function Fe(s){return"function"==typeof s&&s.hasOwnProperty(te)&&s.__forward_ref__===ee}function $e(s){return s&&!!s.\u0275providers}const _t="https://g.co/ng/security#xss";class Me extends Error{constructor(o,a){super(gt(o,a)),this.code=o}}function gt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function dt(s){return"string"==typeof s?s:null==s?"":String(s)}function ot(s,o){throw new Me(-201,!1)}function Bt(s,o){null==s&&function pt(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function lt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function pr(s){return{providers:s.providers||[],imports:s.imports||[]}}function Wn(s){return er(s,ui)||er(s,Pr)}function Rr(s){return null!==Wn(s)}function er(s,o){return s.hasOwnProperty(o)?s[o]:null}function Mr(s){return s&&(s.hasOwnProperty(qr)||s.hasOwnProperty(Sn))?s[qr]:null}const ui=he({\u0275prov:he}),qr=he({\u0275inj:he}),Pr=he({ngInjectableDef:he}),Sn=he({ngInjectorDef:he});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let Qr;function cr(s){const o=Qr;return Qr=s,o}function li(s,o,a){const c=Wn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Tt.Optional?null:void 0!==o?o:void ot(_e(s))}const bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fr={},nr="__NG_DI_FLAG__",Vt="ngTempTokenPath",Ur="ngTokenPath",mr=/\n/gm,or="\u0275",zn="__source";let Hn;function an(s){const o=Hn;return Hn=s,o}function Dr(s,o=Tt.Default){if(void 0===Hn)throw new Me(-203,!1);return null===Hn?li(s,void 0,o):Hn.get(s,o&Tt.Optional?null:void 0,o)}function _n(s,o=Tt.Default){return(function Wi(){return Qr}()||Dr)(me(s),o)}function dr(s,o=Tt.Default){return _n(s,Br(o))}function Br(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Vr(s){const o=[];for(let a=0;a<s.length;a++){const c=me(s[a]);if(Array.isArray(c)){if(0===c.length)throw new Me(900,!1);let d,p=Tt.Default;for(let _=0;_<c.length;_++){const C=c[_],R=Hr(C);"number"==typeof R?-1===R?d=C.token:p|=R:d=C}o.push(_n(d,p))}else o.push(_n(c))}return o}function xr(s,o){return s[nr]=o,s.prototype[nr]=o,s}function Hr(s){return s[nr]}function X(s){return{toString:s}.toString()}var le=(()=>((le=le||{})[le.OnPush=0]="OnPush",le[le.Default=1]="Default",le))(),We=(()=>{return(s=We||(We={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",We;var s})();const Ie={},tt=[],ue=he({\u0275cmp:he}),se=he({\u0275dir:he}),K=he({\u0275pipe:he}),fe=he({\u0275mod:he}),Be=he({\u0275fac:he}),nt=he({__NG_ELEMENT_ID__:he});let Zt=0;function xn(s){return X(()=>{const o=jo(s),a={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===le.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||We.Emulated,id:"c"+Zt++,styles:s.styles||tt,_:null,schemas:s.schemas||null,tView:null};Hu(a);const c=s.dependencies;return a.directiveDefs=so(c,!1),a.pipeDefs=so(c,!0),a})}function Mi(s){return jt(s)||On(s)}function Ue(s){return null!==s}function Ce(s){return X(()=>({type:s.type,bootstrap:s.bootstrap||tt,declarations:s.declarations||tt,imports:s.imports||tt,exports:s.exports||tt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function $t(s,o){if(null==s)return Ie;const a={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,o&&(o[d]=p)}return a}function Xt(s){return X(()=>{const o=jo(s);return Hu(o),o})}function Kt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function jt(s){return s[ue]||null}function On(s){return s[se]||null}function An(s){return s[K]||null}function yr(s){const o=jt(s)||On(s)||An(s);return null!==o&&o.standalone}function ti(s,o){const a=s[fe]||null;if(!a&&!0===o)throw new Error(`Type ${_e(s)} does not have '\u0275mod' property.`);return a}function jo(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||tt,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$t(s.inputs,o),outputs:$t(s.outputs)}}function Hu(s){s.features?.forEach(o=>o(s))}function so(s,o){if(!s)return null;const a=o?An:Mi;return()=>("function"==typeof s?s():s).map(c=>a(c)).filter(Ue)}const _r=0,It=1,En=2,ar=3,Kn=4,Ki=5,Gr=6,is=7,tr=8,we=9,ce=10,pe=11,Qe=12,at=13,tn=14,Pn=15,dn=16,Rn=17,Pi=18,gi=19,Yr=20,Ti=21,hr=22,mu=1,zo=2,oo=7,ao=8,Ds=9,ni=10;function Ci(s){return Array.isArray(s)&&"object"==typeof s[mu]}function Vi(s){return Array.isArray(s)&&!0===s[mu]}function js(s){return 0!=(4&s.flags)}function gs(s){return s.componentOffset>-1}function os(s){return 1==(1&s.flags)}function $i(s){return!!s.template}function zs(s){return 0!=(256&s[En])}function as(s,o){return s.hasOwnProperty(Be)?s[Be]:null}class pa{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ha(){return ji}function ji(s){return s.type.prototype.ngOnChanges&&(s.setInput=us),yu}function yu(){const s=qu(this),o=s?.current;if(o){const a=s.previous;if(a===Ie)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function us(s,o,a,c){const d=this.declaredInputs[a],p=qu(s)||function hc(s,o){return s[qo]=o}(s,{previous:Ie,current:null}),_=p.current||(p.current={}),C=p.previous,R=C[d];_[d]=new pa(R&&R.currentValue,o,C===Ie),s[c]=o}Ha.ngInherit=!0;const qo="__ngSimpleChanges__";function qu(s){return s[qo]||null}const br=function(s,o,a){},ga="svg";function ur(s){for(;Array.isArray(s);)s=s[_r];return s}function ri(s,o){return ur(o[s])}function rr(s,o){return ur(o[s.index])}function Wa(s,o){return s.data[o]}function ci(s,o){const a=o[s];return Ci(a)?a:a[_r]}function Ao(s){return 64==(64&s[En])}function Di(s,o){return null==o?null:s[o]}function Ws(s){s[Pi]=0}function lo(s,o){s[Ki]+=o;let a=s,c=s[ar];for(;null!==c&&(1===o&&1===a[Ki]||-1===o&&0===a[Ki]);)c[Ki]+=o,a=c,c=c[ar]}const fn={lFrame:po(null),bindingsEnabled:!0};function Qu(){return fn.bindingsEnabled}function He(){return fn.lFrame.lView}function $n(){return fn.lFrame.tView}function co(s){return fn.lFrame.contextLView=s,s[tr]}function Ro(s){return fn.lFrame.contextLView=null,s}function lr(){let s=Yu();for(;null!==s&&64===s.type;)s=s.parent;return s}function Yu(){return fn.lFrame.currentTNode}function _s(s,o){const a=fn.lFrame;a.currentTNode=s,a.isParent=o}function _a(){return fn.lFrame.isParent}function Zu(){fn.lFrame.isParent=!1}function mi(){return fn.lFrame.bindingIndex++}function Ll(s,o){const a=fn.lFrame;a.bindingIndex=a.bindingRootIndex=s,zi(o)}function zi(s){fn.lFrame.currentDirectiveIndex=s}function Wr(s){const o=fn.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function fo(){return fn.lFrame.currentQueryIndex}function Ae(s){fn.lFrame.currentQueryIndex=s}function Ks(s){const o=s[It];return 2===o.type?o.declTNode:1===o.type?s[Gr]:null}function Qa(s,o,a){if(a&Tt.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||a&Tt.Host||(d=Ks(p),null===d||(p=p[Pn],10&d.type))););if(null===d)return!1;o=d,s=p}const c=fn.lFrame=Eu();return c.currentTNode=o,c.lView=s,!0}function As(s){const o=Eu(),a=s[It];fn.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Eu(){const s=fn.lFrame,o=null===s?null:s.child;return null===o?po(s):o}function po(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ya(){const s=fn.lFrame;return fn.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const wu=Ya;function Za(){const s=Ya();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Zr(){return fn.lFrame.selectedIndex}function cs(s){fn.lFrame.selectedIndex=s}function vr(){const s=fn.lFrame;return Wa(s.tView,s.selectedIndex)}function xo(){fn.lFrame.currentNamespace=ga}function Xo(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:R,ngAfterViewChecked:L,ngOnDestroy:z}=p;_&&(s.contentHooks??(s.contentHooks=[])).push(-a,_),C&&((s.contentHooks??(s.contentHooks=[])).push(a,C),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(a,C)),R&&(s.viewHooks??(s.viewHooks=[])).push(-a,R),L&&((s.viewHooks??(s.viewHooks=[])).push(a,L),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(a,L)),null!=z&&(s.destroyHooks??(s.destroyHooks=[])).push(a,z)}}function vs(s,o,a){F(s,o,3,a)}function hi(s,o,a,c){(3&s[En])===a&&F(s,o,a,c)}function A(s,o){let a=s[En];(3&a)===o&&(a&=2047,a+=1,s[En]=a)}function F(s,o,a,c){const p=c??-1,_=o.length-1;let C=0;for(let R=void 0!==c?65535&s[Pi]:0;R<_;R++)if("number"==typeof o[R+1]){if(C=o[R],null!=c&&C>=c)break}else o[R]<0&&(s[Pi]+=65536),(C<p||-1==p)&&(M(s,a,o,R),s[Pi]=(4294901760&s[Pi])+R+2),R++}function M(s,o,a,c){const d=a[c]<0,p=a[c+1],C=s[d?-a[c]:a[c]];if(d){if(s[En]>>11<s[Pi]>>16&&(3&s[En])===o){s[En]+=2048,br(4,C,p);try{p.call(C)}finally{br(5,C,p)}}}else{br(4,C,p);try{p.call(C)}finally{br(5,C,p)}}}const j=-1;class Z{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function qn(s,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],_=a[c++],C=a[c++];s.setAttribute(o,_,C,p)}else{const p=d,_=a[++c];Rs(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),c++}}return c}function oi(s){return 3===s||4===s||6===s}function Rs(s){return 64===s.charCodeAt(0)}function Zn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Qi(s,a,d,null,-1===a||2===a?o[++c]:null)}}return s}function Qi(s,o,a,c,d){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const C=s[p++];if("number"==typeof C){if(C===o){_=-1;break}if(C>o){_=p-1;break}}}for(;p<s.length;){const C=s[p];if("number"==typeof C)break;if(C===a){if(null===c)return void(null!==d&&(s[p+1]=d));if(c===s[p+1])return void(s[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==d&&s.splice(p++,0,d)}function ir(s){return s!==j}function ds(s){return 32767&s}function Ms(s,o){let a=function mo(s){return s>>16}(s),c=o;for(;a>0;)c=c[Pn],a--;return c}let Fl=!0;function Ju(s){const o=Fl;return Fl=s,o}const Xa=255,Ja=5;let Ul=0;const Ps={};function Cu(s,o){const a=Bl(s,o);if(-1!==a)return a;const c=o[It];c.firstCreatePass&&(s.injectorIndex=o.length,wa(c.data,s),wa(o,null),wa(c.blueprint,null));const d=jr(s,o),p=s.injectorIndex;if(ir(d)){const _=ds(d),C=Ms(d,o),R=C[It].data;for(let L=0;L<8;L++)o[p+L]=C[_+L]|R[_+L]}return o[p+8]=d,p}function wa(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Bl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function jr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=ko(d),null===c)return j;if(a++,d=d[Pn],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return j}function Si(s,o,a){!function tl(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(nt)&&(c=a[nt]),null==c&&(c=a[nt]=Ul++);const d=c&Xa;o.data[s+(d>>Ja)]|=1<<d}(s,o,a)}function Ia(s,o,a){if(a&Tt.Optional||void 0!==s)return s;ot()}function eu(s,o,a,c){if(a&Tt.Optional&&void 0===c&&(c=null),!(a&(Tt.Self|Tt.Host))){const d=s[we],p=cr(void 0);try{return d?d.get(o,c,a&Tt.Optional):li(o,c,a&Tt.Optional)}finally{cr(p)}}return Ia(c,0,a)}function Vl(s,o,a,c=Tt.Default,d){if(null!==s){if(1024&o[En]){const _=function Oo(s,o,a,c,d){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[En]&&!(256&_[En]);){const C=Du(p,_,a,c|Tt.Self,Ps);if(C!==Ps)return C;let R=p.parent;if(!R){const L=_[Ti];if(L){const z=L.get(a,Ps,c);if(z!==Ps)return z}R=ko(_),_=_[Pn]}p=R}return d}(s,o,a,c,Ps);if(_!==Ps)return _}const p=Du(s,o,a,c,Ps);if(p!==Ps)return p}return eu(o,a,c,d)}function Du(s,o,a,c,d){const p=function il(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(nt)?s[nt]:void 0;return"number"==typeof o?o>=0?o&Xa:yo:o}(a);if("function"==typeof p){if(!Qa(o,s,c))return c&Tt.Host?Ia(d,0,c):eu(o,a,c,d);try{const _=p(c);if(null!=_||c&Tt.Optional)return _;ot()}finally{wu()}}else if("number"==typeof p){let _=null,C=Bl(s,o),R=j,L=c&Tt.Host?o[dn][Gr]:null;for((-1===C||c&Tt.SkipSelf)&&(R=-1===C?jr(s,o):o[C+8],R!==j&&fi(c,!1)?(_=o[It],C=ds(R),o=Ms(R,o)):C=-1);-1!==C;){const z=o[It];if(Ca(p,C,z.data)){const Y=rl(C,o,a,_,c,L);if(Y!==Ps)return Y}R=o[C+8],R!==j&&fi(c,o[It].data[C+8]===L)&&Ca(p,C,o)?(_=z,C=ds(R),o=Ms(R,o)):C=-1}}return d}function rl(s,o,a,c,d,p){const _=o[It],C=_.data[s+8],z=Ta(C,_,a,null==c?gs(C)&&Fl:c!=_&&0!=(3&C.type),d&Tt.Host&&p===C);return null!==z?xs(o,_,z,C):Ps}function Ta(s,o,a,c,d){const p=s.providerIndexes,_=o.data,C=1048575&p,R=s.directiveStart,z=p>>20,de=d?C+z:s.directiveEnd;for(let Re=c?C:C+z;Re<de;Re++){const Xe=_[Re];if(Re<R&&a===Xe||Re>=R&&Xe.type===a)return Re}if(d){const Re=_[R];if(Re&&$i(Re)&&Re.type===a)return R}return null}function xs(s,o,a,c){let d=s[a];const p=o.data;if(function Oe(s){return s instanceof Z}(d)){const _=d;_.resolving&&function be(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Me(-200,`Circular dependency in DI detected for ${s}${a}`)}(function bt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():dt(s)}(p[a]));const C=Ju(_.canSeeViewProviders);_.resolving=!0;const R=_.injectImpl?cr(_.injectImpl):null;Qa(s,c,Tt.Default);try{d=s[a]=_.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function Ea(s,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(c){const _=ji(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,_)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-s,d),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==R&&cr(R),Ju(C),_.resolving=!1,wu()}}return d}function Ca(s,o,a){return!!(a[o+(s>>Ja)]&1<<s)}function fi(s,o){return!(s&Tt.Self||s&Tt.Host&&o)}class tu{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Vl(this._tNode,this._lView,o,Br(c),a)}}function yo(){return new tu(lr(),He())}function pc(s){return X(()=>{const o=s.prototype.constructor,a=o[Be]||No(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const p=d[Be]||No(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function No(s){return Fe(s)?()=>{const o=No(me(s));return o&&o()}:as(s)}function ko(s){const o=s[It],a=o.type;return 2===a?o.declTNode:1===a?s[Gr]:null}function sl(s){return function nl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(oi(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(lr(),s)}const Su="__parameters__";function Lo(s,o,a){return X(()=>{const c=function ea(s){return function(...a){if(s){const c=s(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...p){if(this instanceof d)return c.apply(this,p),this;const _=new d(...p);return C.annotation=_,C;function C(R,L,z){const Y=R.hasOwnProperty(Su)?R[Su]:Object.defineProperty(R,Su,{value:[]})[Su];for(;Y.length<=z;)Y.push(null);return(Y[z]=Y[z]||[]).push(_),R}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Er{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=lt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function nu(s,o){s.forEach(a=>Array.isArray(a)?nu(a,o):o(a))}function Au(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function zl(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function v(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function $(s,o,a){let c=Ee(s,o);return c>=0?s[1|c]=a:(c=~c,function b(s,o,a,c){let d=s.length;if(d==o)s.push(a,c);else if(1===d)s.push(c,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function G(s,o){const a=Ee(s,o);if(a>=0)return s[1|a]}function Ee(s,o){return function rt(s,o,a){let c=0,d=s.length>>a;for(;d!==c;){const p=c+(d-c>>1),_=s[p<<a];if(o===_)return p<<a;_>o?d=p:c=p+1}return~(d<<a)}(s,o,1)}const wr=xr(Lo("Inject",s=>({token:s})),-1),wn=xr(Lo("Optional"),8),Ru=xr(Lo("SkipSelf"),4);var Ir=(()=>((Ir=Ir||{})[Ir.Important=1]="Important",Ir[Ir.DashCase=2]="DashCase",Ir))();const pn=new Map;let Wd=0;const Gl="__ngContext__";function Oi(s,o){Ci(o)?(s[Gl]=o[Yr],function Um(s){pn.set(s[Yr],s)}(o)):s[Gl]=o}let Op;function Wl(s,o){return Op(s,o)}function nd(s){const o=s[ar];return Vi(o)?o[ar]:o}function Pu(s){return rd(s[at])}function xu(s){return rd(s[Kn])}function rd(s){for(;null!==s&&!Vi(s);)s=s[Kn];return s}function cl(s,o,a,c,d){if(null!=c){let p,_=!1;Vi(c)?p=c:Ci(c)&&(_=!0,c=c[_r]);const C=ur(c);0===s&&null!==a?null==d?Xs(o,a,C):Ln(o,a,C,d||null,!0):1===s&&null!==a?Ln(o,a,C,d||null,!0):2===s?function Vp(s,o,a){const c=Nu(s,o);c&&function dl(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}(o,C,_):3===s&&o.destroyNode(C),null!=p&&function $p(s,o,a,c,d){const p=a[oo];p!==ur(a)&&cl(o,s,c,p,d);for(let C=ni;C<a.length;C++){const R=a[C];od(R[It],R,s,o,c,p)}}(o,s,p,a,d)}}function hf(s,o,a){return s.createElement(o,a)}function T(s,o){const a=s[Ds],c=a.indexOf(o),d=o[ar];512&o[En]&&(o[En]&=-513,lo(d,-1)),a.splice(c,1)}function B(s,o){if(s.length<=ni)return;const a=ni+o,c=s[a];if(c){const d=c[Rn];null!==d&&d!==s&&T(d,c),o>0&&(s[a-1][Kn]=c[Kn]);const p=zl(s,ni+o);!function Up(s,o){od(s,o,o[pe],2,null,null),o[_r]=null,o[Gr]=null}(c[It],c);const _=p[gi];null!==_&&_.detachView(p[It]),c[ar]=null,c[Kn]=null,c[En]&=-65}return c}function H(s,o){if(!(128&o[En])){const a=o[pe];a.destroyNode&&od(s,o,a,3,null,null),function w(s){let o=s[at];if(!o)return ve(s[It],s);for(;o;){let a=null;if(Ci(o))a=o[at];else{const c=o[ni];c&&(a=c)}if(!a){for(;o&&!o[Kn]&&o!==s;)Ci(o)&&ve(o[It],o),o=o[ar];null===o&&(o=s),Ci(o)&&ve(o[It],o),a=o&&o[Kn]}o=a}}(o)}}function ve(s,o){if(!(128&o[En])){o[En]&=-65,o[En]|=128,function wt(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof Z)){const p=a[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const C=d[p[_]],R=p[_+1];br(4,C,R);try{R.call(C)}finally{br(5,C,R)}}else{br(4,d,p);try{p.call(d)}finally{br(5,d,p)}}}}}(s,o),function ke(s,o){const a=s.cleanup,c=o[is];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+3];_>=0?c[d=_]():c[d=-_].unsubscribe(),p+=2}else{const _=c[d=a[p+1]];a[p].call(_)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();o[is]=null}}(s,o),1===o[It].type&&o[pe].destroy();const a=o[Rn];if(null!==a&&Vi(o[ar])){a!==o[ar]&&T(a,o);const c=o[gi];null!==c&&c.detachView(s)}!function ed(s){pn.delete(s[Yr])}(o)}}function Nt(s,o,a){return function Yt(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[_r];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=s.data[c.directiveStart+d];if(p===We.None||p===We.Emulated)return null}return rr(c,a)}}(s,o.parent,a)}function Ln(s,o,a,c,d){s.insertBefore(o,a,c,d)}function Xs(s,o,a){s.appendChild(o,a)}function ia(s,o,a,c,d){null!==c?Ln(s,o,a,c,d):Xs(s,o,a)}function Nu(s,o){return s.parentNode(o)}function id(s,o,a){return zr(s,o,a)}let vo,jp,Km,zp,zr=function Zd(s,o,a){return 40&s.type?rr(s,a):null};function Kl(s,o,a,c){const d=Nt(s,c,o),p=o[pe],C=id(c.parent||o[Gr],c,o);if(null!=d)if(Array.isArray(a))for(let R=0;R<a.length;R++)ia(p,d,a[R],C,!1);else ia(p,d,a,C,!1);void 0!==vo&&vo(p,c,o,a,d)}function sd(s,o){if(null!==o){const a=o.type;if(3&a)return rr(o,s);if(4&a)return Ou(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return sd(s,c);{const d=s[o.index];return Vi(d)?Ou(-1,d):ur(d)}}if(32&a)return Wl(o,s)()||ur(s[o.index]);{const c=Ic(s,o);return null!==c?Array.isArray(c)?c[0]:sd(nd(s[dn]),c):sd(s,o.next)}}return null}function Ic(s,o){return null!==o?s[dn][Gr].projection[o.projection]:null}function Ou(s,o){const a=ni+s+1;if(a<o.length){const c=o[a],d=c[It].firstChild;if(null!==d)return sd(c,d)}return o[oo]}function pl(s,o,a,c,d,p,_){for(;null!=a;){const C=c[a.index],R=a.type;if(_&&0===o&&(C&&Oi(ur(C),c),a.flags|=2),32!=(32&a.flags))if(8&R)pl(s,o,a.child,c,d,p,!1),cl(o,s,d,C,p);else if(32&R){const L=Wl(a,c);let z;for(;z=L();)cl(o,s,d,z,p);cl(o,s,d,C,p)}else 16&R?Gm(s,o,c,a,d,p):cl(o,s,d,C,p);a=_?a.projectionNext:a.next}}function od(s,o,a,c,d,p){pl(a,c,s.firstChild,o,d,p,!1)}function Gm(s,o,a,c,d,p){const _=a[dn],R=_[Gr].projection[c.projection];if(Array.isArray(R))for(let L=0;L<R.length;L++)cl(o,s,d,R[L],p);else pl(s,o,R,_[ar],d,p,!0)}function jv(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function zv(s,o,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&qn(s,o,c),null!==d&&jv(s,o,d),null!==p&&function FI(s,o,a){s.setAttribute(o,"style",a)}(s,o,p)}function Jd(s){return function Wm(){if(void 0===jp&&(jp=null,bn.trustedTypes))try{jp=bn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return jp}()?.createHTML(s)||s}function BI(s){Km=s}function ff(s){return function eh(){if(void 0===zp&&(zp=null,bn.trustedTypes))try{zp=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return zp}()?.createScriptURL(s)||s}class ad{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class Qm extends ad{getTypeName(){return"HTML"}}class Kv extends ad{getTypeName(){return"Style"}}class qv extends ad{getTypeName(){return"Script"}}class VI extends ad{getTypeName(){return"URL"}}class $I extends ad{getTypeName(){return"ResourceURL"}}function gl(s){return s instanceof ad?s.changingThisBreaksApplicationSecurity:s}function Tc(s,o){const a=function jI(s){return s instanceof ad&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${_t})`)}return a===o}function zI(s){return new Qm(s)}function HI(s){return new Kv(s)}function GI(s){return new qv(s)}function Qv(s){return new VI(s)}function Gp(s){return new $I(s)}class Yv{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Jd(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class WI{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=Jd(o),a}}const Ym=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kp(s){return(s=String(s)).match(Ym)?s:"unsafe:"+s}function ql(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function pf(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const Xv=ql("area,br,col,hr,img,wbr"),Jv=ql("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eE=ql("rp,rt"),qp=pf(Xv,pf(Jv,ql("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pf(eE,ql("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pf(eE,Jv)),Qp=ql("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gf=pf(Qp,ql("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ql("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tE=ql("script,style,template");class QI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!qp.hasOwnProperty(a))return this.sanitizedSomething=!0,!tE.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let d=0;d<c.length;d++){const p=c.item(d),_=p.name,C=_.toLowerCase();if(!gf.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let R=p.value;Qp[C]&&(R=Kp(R)),this.buf.push(" ",_,'="',Yp(R),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();qp.hasOwnProperty(a)&&!Xv.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Yp(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const YI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZI=/([^\#-~ |!])/g;function Yp(s){return s.replace(/&/g,"&amp;").replace(YI,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ZI,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mf;function nE(s,o){let a=null;try{mf=mf||function Wp(s){const o=new WI(s);return function Zv(){try{return!!(new window.DOMParser).parseFromString(Jd(""),"text/html")}catch{return!1}}()?new Yv(o):o}(s);let c=o?String(o):"";a=mf.getInertBodyElement(c);let d=5,p=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=p,p=a.innerHTML,a=mf.getInertBodyElement(c)}while(c!==p);return Jd((new QI).sanitizeChildren(Zm(a)||a))}finally{if(a){const c=Zm(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Zm(s){return"content"in s&&function rE(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Xr=(()=>((Xr=Xr||{})[Xr.NONE=0]="NONE",Xr[Xr.HTML=1]="HTML",Xr[Xr.STYLE=2]="STYLE",Xr[Xr.SCRIPT=3]="SCRIPT",Xr[Xr.URL=4]="URL",Xr[Xr.RESOURCE_URL=5]="RESOURCE_URL",Xr))();function Ql(s){const o=au();return o?o.sanitize(Xr.URL,s)||"":Tc(s,"URL")?gl(s):Kp(dt(s))}function yf(s){const o=au();if(o)return ff(o.sanitize(Xr.RESOURCE_URL,s)||"");if(Tc(s,"ResourceURL"))return ff(gl(s));throw new Me(904,!1)}function Xm(s,o,a){return function eT(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?yf:Ql}(o,a)(s)}function au(){const s=He();return s&&s[Qe]}const ud=new Er("ENVIRONMENT_INITIALIZER"),aE=new Er("INJECTOR",-1),uE=new Er("INJECTOR_DEF_TYPES");class lE{get(o,a=Fr){if(a===Fr){const c=new Error(`NullInjectorError: No provider for ${_e(o)}!`);throw c.name="NullInjectorError",c}return a}}function cE(...s){return{\u0275providers:dE(0,s),\u0275fromNgModule:!0}}function dE(s,...o){const a=[],c=new Set;let d;return nu(o,p=>{const _=p;th(_,a,[],c)&&(d||(d=[]),d.push(_))}),void 0!==d&&Xp(d,a),a}function Xp(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];Cc(d,p=>{o.push(p)})}}function th(s,o,a,c){if(!(s=me(s)))return!1;let d=null,p=Mr(s);const _=!p&&jt(s);if(p||_){if(_&&!_.standalone)return!1;d=s}else{const R=s.ngModule;if(p=Mr(R),!p)return!1;d=R}const C=c.has(d);if(_){if(C)return!1;if(c.add(d),_.dependencies){const R="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const L of R)th(L,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let L;c.add(d);try{nu(p.imports,z=>{th(z,o,a,c)&&(L||(L=[]),L.push(z))})}finally{}void 0!==L&&Xp(L,o)}if(!C){const L=as(d)||(()=>new d);o.push({provide:d,useFactory:L,deps:tt},{provide:uE,useValue:d,multi:!0},{provide:ud,useValue:()=>_n(d),multi:!0})}const R=p.providers;null==R||C||Cc(R,z=>{o.push(z)})}}return d!==s&&void 0!==s.providers}function Cc(s,o){for(let a of s)$e(a)&&(a=a.\u0275providers),Array.isArray(a)?Cc(a,o):o(a)}const hE=he({provide:String,useValue:he});function Jp(s){return null!==s&&"object"==typeof s&&hE in s}function ml(s){return"function"==typeof s}const _f=new Er("Set Injector scope."),rh={},tT={};let ld;function eg(){return void 0===ld&&(ld=new lE),ld}class cd{}class fE extends cd{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ef(o,_=>this.processProvider(_)),this.records.set(aE,ih(void 0,this)),d.has("environment")&&this.records.set(cd,ih(void 0,this));const p=this.records.get(_f);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(uE.multi,tt,Tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=an(this),c=cr(void 0);try{return o()}finally{an(a),cr(c)}}get(o,a=Fr,c=Tt.Default){this.assertNotDestroyed(),c=Br(c);const d=an(this),p=cr(void 0);try{if(!(c&Tt.SkipSelf)){let C=this.records.get(o);if(void 0===C){const R=function iy(s){return"function"==typeof s||"object"==typeof s&&s instanceof Er}(o)&&Wn(o);C=R&&this.injectableDefInScope(R)?ih(vf(o),rh):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(c&Tt.Self?eg():this.parent).get(o,a=c&Tt.Optional&&a===Fr?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Vt]=_[Vt]||[]).unshift(_e(o)),d)throw _;return function $r(s,o,a,c){const d=s[Vt];throw o[zn]&&d.unshift(o[zn]),s.message=function ne(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==or?s.slice(2):s;let d=_e(o);if(Array.isArray(o))d=o.map(_e).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let C=o[_];p.push(_+":"+("string"==typeof C?JSON.stringify(C):_e(C)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${s.replace(mr,"\n  ")}`}("\n"+s.message,d,a,c),s[Ur]=d,s[Vt]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{cr(p),an(d)}}resolveInjectorInitializers(){const o=an(this),a=cr(void 0);try{const c=this.get(ud.multi,tt,Tt.Self);for(const d of c)d()}finally{an(o),cr(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(_e(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(o){let a=ml(o=me(o))?o:me(o&&o.provide);const c=function nT(s){return Jp(s)?ih(void 0,s.useValue):ih(ry(s),rh)}(o);if(ml(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=ih(void 0,rh,!0),d.factory=()=>Vr(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===rh&&(a.value=tT,a.value=a.factory()),"object"==typeof a.value&&a.value&&function pE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=me(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function vf(s){const o=Wn(s),a=null!==o?o.factory:as(s);if(null!==a)return a;if(s instanceof Er)throw new Me(204,!1);if(s instanceof Function)return function ny(s){const o=s.length;if(o>0)throw v(o,"?"),new Me(204,!1);const a=function sr(s){return s&&(s[ui]||s[Pr])||null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Me(204,!1)}function ry(s,o,a){let c;if(ml(s)){const d=me(s);return as(d)||vf(d)}if(Jp(s))c=()=>me(s.useValue);else if(function nh(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Vr(s.deps||[]));else if(function ey(s){return!(!s||!s.useExisting)}(s))c=()=>_n(me(s.useExisting));else{const d=me(s&&(s.useClass||s.provide));if(!function rT(s){return!!s.deps}(s))return as(d)||vf(d);c=()=>new d(...Vr(s.deps))}return c}function ih(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Ef(s,o){for(const a of s)Array.isArray(a)?Ef(a,o):a&&$e(a)?Ef(a.\u0275providers,o):o(a)}class sy{}class wf{}class sT{resolveComponentFactory(o){throw function dd(s){const o=Error(`No component factory found for ${_e(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Dc=(()=>{class s{}return s.NULL=new sT,s})();function gE(){return sh(lr(),He())}function sh(s,o){return new Yl(rr(s,o))}let Yl=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=gE,s})();function oy(s){return s instanceof Yl?s.nativeElement:s}class mE{}let oT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function aT(){const s=He(),a=ci(lr().index,s);return(Ci(a)?a:s)[pe]}(),s})(),ay=(()=>{class s{}return s.\u0275prov=lt({token:s,providedIn:"root",factory:()=>null}),s})();class If{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const uy=new If("15.2.8"),ly={},hd="ngOriginalError";function fd(s){return s[hd]}class Tf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&fd(o);for(;a&&fd(a);)a=fd(a);return a||null}}function uu(s){return s instanceof Function?s():s}function EE(s,o,a){let c=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===c||s.charCodeAt(d+p)<=32)return d}a=d+1}}const wE="ng-template";function IE(s,o,a){let c=0,d=!0;for(;c<s.length;){let p=s[c++];if("string"==typeof p&&d){const _=s[c++];if(a&&"class"===p&&-1!==EE(_.toLowerCase(),o,0))return!0}else{if(1===p){for(;c<s.length&&"string"==typeof(p=s[c++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function ah(s){return 4===s.type&&s.value!==wE}function TE(s,o,a){return o===(4!==s.type||a?s.value:wE)}function CE(s,o,a){let c=4;const d=s.attrs||[],p=function py(s){for(let o=0;o<s.length;o++)if(oi(s[o]))return o;return s.length}(d);let _=!1;for(let C=0;C<o.length;C++){const R=o[C];if("number"!=typeof R){if(!_)if(4&c){if(c=2|1&c,""!==R&&!TE(s,R,a)||""===R&&1===o.length){if(ku(c))return!1;_=!0}}else{const L=8&c?R:o[++C];if(8&c&&null!==s.attrs){if(!IE(s.attrs,L,a)){if(ku(c))return!1;_=!0}continue}const Y=fy(8&c?"class":R,d,ah(s),a);if(-1===Y){if(ku(c))return!1;_=!0;continue}if(""!==L){let de;de=Y>p?"":d[Y+1].toLowerCase();const Re=8&c?de:null;if(Re&&-1!==EE(Re,L,0)||2&c&&L!==de){if(ku(c))return!1;_=!0}}}}else{if(!_&&!ku(c)&&!ku(R))return!1;if(_&&ku(R))continue;_=!1,c=R|1&c}}return ku(c)||_}function ku(s){return 0==(1&s)}function fy(s,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let p=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let C=o[++d];for(;"string"==typeof C;)C=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function dT(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function Df(s,o,a=!1){for(let c=0;c<o.length;c++)if(CE(s,o[c],a))return!0;return!1}function hT(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let d=0;d<s.length;d++)if(s[d]!==c[d])continue e;return!0}}return!1}function DE(s,o){return s?":not("+o.trim()+")":o}function SE(s){let o=s[0],a=1,c=2,d="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&c){const C=s[++a];d+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!ku(_)&&(o+=DE(p,d),d=""),c=_,p=p||!ku(c);a++}return""!==d&&(o+=DE(p,d)),o}const Bn={};function ng(s){gy($n(),He(),Zr()+s,!1)}function gy(s,o,a,c){if(!c)if(3==(3&o[En])){const p=s.preOrderCheckHooks;null!==p&&vs(o,p,a)}else{const p=s.preOrderHooks;null!==p&&hi(o,p,0,a)}cs(a)}function yy(s,o=null,a=null,c){const d=_y(s,o,a,c);return d.resolveInjectorInitializers(),d}function _y(s,o=null,a=null,c,d=new Set){const p=[a||tt,cE(s)];return c=c||("object"==typeof s?void 0:_e(s)),new fE(p,o||eg(),c||null,d)}let bc=(()=>{class s{static create(a,c){if(Array.isArray(a))return yy({name:""},c,a,"");{const d=a.name??"";return yy({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=Fr,s.NULL=new lE,s.\u0275prov=lt({token:s,providedIn:"any",factory:()=>_n(aE)}),s.__NG_ELEMENT_ID__=-1,s})();function Zl(s,o=Tt.Default){const a=He();return null===a?_n(s,o):Vl(lr(),a,me(s),o)}function dh(){throw new Error("invalid")}function TT(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const _=s.data[p];Ae(a[c]),_.contentQueries(2,o[p],p)}}}function Ey(s,o,a,c,d,p,_,C,R,L,z){const Y=o.blueprint.slice();return Y[_r]=d,Y[En]=76|c,(null!==z||s&&1024&s[En])&&(Y[En]|=1024),Ws(Y),Y[ar]=Y[Pn]=s,Y[tr]=a,Y[ce]=_||s&&s[ce],Y[pe]=C||s&&s[pe],Y[Qe]=R||s&&s[Qe]||null,Y[we]=L||s&&s[we]||null,Y[Gr]=p,Y[Yr]=function Jc(){return Wd++}(),Y[Ti]=z,Y[dn]=2==o.type?s[dn]:Y,Y}function Mf(s,o,a,c,d){let p=s.data[o];if(null===p)p=function kE(s,o,a,c,d){const p=Yu(),_=_a(),R=s.data[o]=function AT(s,o,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,c,d);return null===s.firstChild&&(s.firstChild=R),null!==p&&(_?null==p.child&&null!==R.parent&&(p.child=R):null===p.next&&(p.next=R,R.prev=p)),R}(s,o,a,c,d),function Po(){return fn.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const _=function ho(){const s=fn.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return _s(p,!0),p}function hh(s,o,a,c){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function LE(s,o,a){As(o);try{const c=s.viewQuery;null!==c&&Ay(1,c,a);const d=s.template;null!==d&&CT(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&TT(s,o),s.staticViewQueries&&Ay(2,s.viewQuery,a);const p=s.components;null!==p&&function Db(s,o){for(let a=0;a<o.length;a++)$T(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[En]&=-5,Za()}}function sg(s,o,a,c){const d=o[En];if(128!=(128&d)){As(o);try{Ws(o),function Mo(s){return fn.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&CT(s,o,a,2,c);const _=3==(3&d);if(_){const L=s.preOrderCheckHooks;null!==L&&vs(o,L,null)}else{const L=s.preOrderHooks;null!==L&&hi(o,L,0,null),A(o,0)}if(function VT(s){for(let o=Pu(s);null!==o;o=xu(o)){if(!o[zo])continue;const a=o[Ds];for(let c=0;c<a.length;c++){const d=a[c];512&d[En]||lo(d[ar],1),d[En]|=512}}}(o),function BT(s){for(let o=Pu(s);null!==o;o=xu(o))for(let a=ni;a<o.length;a++){const c=o[a],d=c[It];Ao(c)&&sg(d,c,d.template,c[tr])}}(o),null!==s.contentQueries&&TT(s,o),_){const L=s.contentCheckHooks;null!==L&&vs(o,L)}else{const L=s.contentHooks;null!==L&&hi(o,L,1),A(o,1)}!function IT(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)cs(~d);else{const p=d,_=a[++c],C=a[++c];Ll(_,p),C(2,o[p])}}}finally{cs(-1)}}(s,o);const C=s.components;null!==C&&function Cb(s,o){for(let a=0;a<o.length;a++)Ob(s,o[a])}(o,C);const R=s.viewQuery;if(null!==R&&Ay(2,R,c),_){const L=s.viewCheckHooks;null!==L&&vs(o,L)}else{const L=s.viewHooks;null!==L&&hi(o,L,2),A(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[En]&=-41,512&o[En]&&(o[En]&=-513,lo(o[ar],-1))}finally{Za()}}}function CT(s,o,a,c,d){const p=Zr(),_=2&c;try{cs(-1),_&&o.length>hr&&gy(s,o,hr,!1),br(_?2:0,d),a(c,d)}finally{cs(p),br(_?3:1,d)}}function og(s,o,a){if(js(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function FE(s,o,a){Qu()&&(function VE(s,o,a,c){const d=a.directiveStart,p=a.directiveEnd;gs(a)&&function Pb(s,o,a){const c=rr(o,s),d=DT(a),p=s[ce],_=Sy(s,Ey(s,d,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));s[o.index]=_}(o,a,s.data[d+a.componentOffset]),s.firstCreatePass||Cu(a,o),Oi(c,o);const _=a.initialInputs;for(let C=d;C<p;C++){const R=s.data[C],L=xs(o,s,C,a);Oi(L,o),null!==_&&xb(0,C-d,L,R,0,_),$i(R)&&(ci(a.index,o)[tr]=xs(o,s,C,a))}}(s,o,a,rr(a,o)),64==(64&a.flags)&&$E(s,o,a))}function wy(s,o,a=rr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],C=-1===_?a(o,s):s[_];s[d++]=C}}}function DT(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Iy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Iy(s,o,a,c,d,p,_,C,R,L){const z=hr+c,Y=z+d,de=function Sb(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Bn);return a}(z,Y),Re="function"==typeof L?L():L;return de[It]={type:s,blueprint:de,template:a,queries:null,viewQuery:C,declTNode:o,data:de.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:R,consts:Re,incompleteFirstPass:!1}}function bT(s,o,a,c){const d=ag(o);null===a?d.push(c):(d.push(a),s.firstCreatePass&&HE(s).push(c,d.length-1))}function RT(s,o,a,c){for(let d in s)if(s.hasOwnProperty(d)){a=null===a?{}:a;const p=s[d];null===c?UE(a,o,d,p):c.hasOwnProperty(d)&&UE(a,o,c[d],p)}return a}function UE(s,o,a,c){s.hasOwnProperty(a)?s[a].push(o,c):s[a]=[o,c]}function lu(s,o,a,c,d,p,_,C){const R=rr(o,a);let z,L=o.inputs;!C&&null!=L&&(z=L[c])?(Ry(s,a,z,c,d),gs(o)&&function PT(s,o){const a=ci(o,s);16&a[En]||(a[En]|=32)}(a,o.index)):3&o.type&&(c=function MT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=_?_(d,o.value||"",c):d,p.setProperty(R,c,d))}function BE(s,o,a,c){if(Qu()){const d=null===c?null:{"":-1},p=function kT(s,o){const a=s.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const _=a[p];if(Df(o,_.selectors,!1))if(c||(c=[]),$i(_))if(null!==_.findHostDirectiveDefs){const C=[];d=d||new Map,_.findHostDirectiveDefs(_,C,d),c.unshift(...C,_),Cy(s,o,C.length)}else c.unshift(_),Cy(s,o,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,c,d),c.push(_)}return null===c?null:[c,d]}(s,a);let _,C;null===p?_=C=null:[_,C]=p,null!==_&&xT(s,o,a,_,d,C),d&&function LT(s,o,a){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new Me(-301,!1);c.push(o[d],p)}}}(a,c,d)}a.mergedAttrs=Zn(a.mergedAttrs,a.attrs)}function xT(s,o,a,c,d,p){for(let L=0;L<c.length;L++)Si(Cu(a,o),s,c[L].type);!function jE(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,c.length);for(let L=0;L<c.length;L++){const z=c[L];z.providersResolver&&z.providersResolver(z)}let _=!1,C=!1,R=hh(s,o,c.length,null);for(let L=0;L<c.length;L++){const z=c[L];a.mergedAttrs=Zn(a.mergedAttrs,z.hostAttrs),Mb(s,a,o,R,z),FT(R,z,d),null!==z.contentQueries&&(a.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(a.flags|=64);const Y=z.type.prototype;!_&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(a.index),_=!0),!C&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(a.index),C=!0),R++}!function bb(s,o,a){const d=o.directiveEnd,p=s.data,_=o.attrs,C=[];let R=null,L=null;for(let z=o.directiveStart;z<d;z++){const Y=p[z],de=a?a.get(Y):null,Xe=de?de.outputs:null;R=RT(Y.inputs,z,R,de?de.inputs:null),L=RT(Y.outputs,z,L,Xe);const vt=null===R||null===_||ah(o)?null:Nb(R,z,_);C.push(vt)}null!==R&&(R.hasOwnProperty("class")&&(o.flags|=8),R.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=C,o.inputs=R,o.outputs=L}(s,a,p)}function $E(s,o,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,_=function Xu(){return fn.lFrame.currentDirectiveIndex}();try{cs(p);for(let C=c;C<d;C++){const R=s.data[C],L=o[C];zi(C),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&OT(R,L)}}finally{cs(-1),zi(_)}}function OT(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Cy(s,o,a){o.componentOffset=a,(s.components??(s.components=[])).push(o.index)}function FT(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;$i(o)&&(a[""]=s)}}function Mb(s,o,a,c,d){s.data[c]=d;const p=d.factory||(d.factory=as(d.type)),_=new Z(p,$i(d),Zl);s.blueprint[c]=_,a[c]=_,function NT(s,o,a,c,d){const p=d.hostBindings;if(p){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const C=~o.index;(function Ty(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=C&&_.push(C),_.push(a,c,p)}}(s,o,c,hh(s,a,d.hostVars,Bn),d)}function vl(s,o,a,c,d,p){const _=rr(s,o);!function Dy(s,o,a,c,d,p,_){if(null==p)s.removeAttribute(o,d,a);else{const C=null==_?dt(p):_(p,c||"",d);s.setAttribute(o,d,C,a)}}(o[pe],_,p,s.value,a,c,d)}function xb(s,o,a,c,d,p){const _=p[o];if(null!==_){const C=c.setInput;for(let R=0;R<_.length;){const L=_[R++],z=_[R++],Y=_[R++];null!==C?c.setInput(a,Y,L,z):a[z]=Y}}}function Nb(s,o,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===c&&(c=[]);const _=s[p];for(let C=0;C<_.length;C+=2)if(_[C]===o){c.push(p,_[C+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function UT(s,o,a,c){return[s,!0,!1,o,null,0,c,a,null,null]}function Ob(s,o){const a=ci(o,s);if(Ao(a)){const c=a[It];48&a[En]?sg(c,a,c.template,a[tr]):a[Ki]>0&&zE(a)}}function zE(s){for(let c=Pu(s);null!==c;c=xu(c))for(let d=ni;d<c.length;d++){const p=c[d];if(Ao(p))if(512&p[En]){const _=p[It];sg(_,p,_.template,p[tr])}else p[Ki]>0&&zE(p)}const a=s[It].components;if(null!==a)for(let c=0;c<a.length;c++){const d=ci(a[c],s);Ao(d)&&d[Ki]>0&&zE(d)}}function $T(s,o){const a=ci(o,s),c=a[It];(function kb(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),LE(c,a,a[tr])}function Sy(s,o){return s[at]?s[tn][Kn]=o:s[at]=o,s[tn]=o,o}function by(s){for(;s;){s[En]|=32;const o=nd(s);if(zs(s)&&!o)return s;s=o}return null}function fh(s,o,a,c=!0){const d=o[ce];d.begin&&d.begin();try{sg(s,o,s.template,a)}catch(_){throw c&&WE(o,_),_}finally{d.end&&d.end()}}function Ay(s,o,a){Ae(0),o(s,a)}function ag(s){return s[is]||(s[is]=[])}function HE(s){return s.cleanup||(s.cleanup=[])}function GE(s,o,a){return(null===s||$i(s))&&(a=function Ss(s){for(;Array.isArray(s);){if("object"==typeof s[mu])return s;s=s[_r]}return null}(a[o.index])),a[pe]}function WE(s,o){const a=s[we],c=a?a.get(Tf,null):null;c&&c.handleError(o)}function Ry(s,o,a,c,d){for(let p=0;p<a.length;){const _=a[p++],C=a[p++],R=o[_],L=s.data[_];null!==L.setInput?L.setInput(R,d,c,C):R[C]=d}}function ug(s,o,a){let c=a?s.styles:null,d=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const C=o[_];"number"==typeof C?p=C:1==p?d=Te(d,C):2==p&&(c=Te(c,C+": "+o[++_]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=d:s.classesWithoutHost=d}function My(s,o,a,c,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(ur(p)),Vi(p))for(let C=ni;C<p.length;C++){const R=p[C],L=R[It].firstChild;null!==L&&My(R[It],R,L,c)}const _=a.type;if(8&_)My(s,o,a.child,c);else if(32&_){const C=Wl(a,o);let R;for(;R=C();)c.push(R)}else if(16&_){const C=Ic(o,a);if(Array.isArray(C))c.push(...C);else{const R=nd(o[dn]);My(R[It],R,C,c,!0)}}a=d?a.projectionNext:a.next}return c}class lg{get rootNodes(){const o=this._lView,a=o[It];return My(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tr]}set context(o){this._lView[tr]=o}get destroyed(){return 128==(128&this._lView[En])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[ar];if(Vi(o)){const a=o[ao],c=a?a.indexOf(this):-1;c>-1&&(B(o,c),zl(a,c))}this._attachedToViewContainer=!1}H(this._lView[It],this._lView)}onDestroy(o){bT(this._lView[It],this._lView,null,o)}markForCheck(){by(this._cdRefInjectingView||this._lView)}detach(){this._lView[En]&=-65}reattach(){this._lView[En]|=64}detectChanges(){fh(this._lView[It],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ra(s,o){od(s,o,o[pe],2,null,null)}(this._lView[It],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=o}}class Lb extends lg{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;fh(o[It],o,o[tr],!1)}checkNoChanges(){}get context(){return null}}class zT extends Dc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=jt(o);return new cg(a,this.ngModule)}}function HT(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Ub{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=Br(c);const d=this.injector.get(o,ly,c);return d!==ly||a===ly?d:this.parentInjector.get(o,a,c)}}class cg extends wf{get inputs(){return HT(this.componentDef.inputs)}get outputs(){return HT(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function fT(s){return s.map(SE).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let p=(d=d||this.ngModule)instanceof cd?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new Ub(o,p):o,C=_.get(mE,null);if(null===C)throw new Me(407,!1);const R=_.get(ay,null),L=C.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",Y=c?function ST(s,o,a){return s.selectRootElement(o,a===We.ShadowDom)}(L,c,this.componentDef.encapsulation):hf(L,z,function Fb(s){const o=s.toLowerCase();return"svg"===o?ga:"math"===o?"math":null}(z)),de=this.componentDef.onPush?288:272,Re=Iy(0,null,null,1,0,null,null,null,null,null),Xe=Ey(null,Re,null,de,null,null,C,L,R,_,null);let vt,St;As(Xe);try{const Ht=this.componentDef;let hn,st=null;Ht.findHostDirectiveDefs?(hn=[],st=new Map,Ht.findHostDirectiveDefs(Ht,hn,st),hn.push(Ht)):hn=[Ht];const Mn=function Vb(s,o){const a=s[It],c=hr;return s[c]=o,Mf(a,c,2,"#host",null)}(Xe,Y),wi=function $b(s,o,a,c,d,p,_,C){const R=d[It];!function jb(s,o,a,c){for(const d of s)o.mergedAttrs=Zn(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(ug(o,o.mergedAttrs,!0),null!==a&&zv(c,a,o))}(c,s,o,_);const L=p.createRenderer(o,a),z=Ey(d,DT(a),null,a.onPush?32:16,d[s.index],s,p,L,C||null,null,null);return R.firstCreatePass&&Cy(R,s,c.length-1),Sy(d,z),d[s.index]=z}(Mn,Y,Ht,hn,Xe,C,L);St=Wa(Re,hr),Y&&function Hb(s,o,a,c){if(c)qn(s,a,["ng-version",uy.full]);else{const{attrs:d,classes:p}=function pT(s){const o=[],a=[];let c=1,d=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++c]):8===d&&a.push(p);else{if(!ku(d))break;d=p}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&qn(s,a,d),p&&p.length>0&&jv(s,a,p.join(" "))}}(L,Ht,Y,c),void 0!==a&&function Gb(s,o,a){const c=s.projection=[];for(let d=0;d<o.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(St,this.ngContentSelectors,a),vt=function zb(s,o,a,c,d,p){const _=lr(),C=d[It],R=rr(_,d);xT(C,d,_,a,null,c);for(let z=0;z<a.length;z++)Oi(xs(d,C,_.directiveStart+z,_),d);$E(C,d,_),R&&Oi(R,d);const L=xs(d,C,_.directiveStart+_.componentOffset,_);if(s[tr]=d[tr]=L,null!==p)for(const z of p)z(L,o);return og(C,_,s),L}(wi,Ht,hn,st,Xe,[Wb]),LE(Re,Xe,null)}finally{Za()}return new Bb(this.componentType,vt,sh(St,Xe),Xe,St)}}class Bb extends sy{constructor(o,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Lb(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const p=this._rootLView;Ry(p[It],p,d,o,a),by(ci(this._tNode.index,p))}}get injector(){return new tu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Wb(){const s=lr();Xo(He()[It],s)}function qE(s){let o=function KE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let d;if($i(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Me(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const _=s;_.inputs=QE(s.inputs),_.declaredInputs=QE(s.declaredInputs),_.outputs=QE(s.outputs);const C=d.hostBindings;C&&Yb(s,C);const R=d.viewQuery,L=d.contentQueries;if(R&&qb(s,R),L&&Qb(s,L),ye(s.inputs,d.inputs),ye(s.declaredInputs,d.declaredInputs),ye(s.outputs,d.outputs),$i(d)&&d.data.animation){const z=s.data;z.animation=(z.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const C=p[_];C&&C.ngInherit&&C(s),C===qE&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Kb(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Zn(d.hostAttrs,a=Zn(a,d.hostAttrs))}}(c)}function QE(s){return s===Ie?{}:s===tt?[]:s}function qb(s,o){const a=s.viewQuery;s.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function Qb(s,o){const a=s.contentQueries;s.contentQueries=a?(c,d,p)=>{o(c,d,p),a(c,d,p)}:o}function Yb(s,o){const a=s.hostBindings;s.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}function Py(s){return!!YE(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function YE(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Bo(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function ZE(s,o,a,c){const d=He();return Bo(d,mi(),o)&&($n(),vl(vr(),d,s,o,a,c)),ZE}function fg(s,o,a,c,d,p,_,C){const R=He(),L=$n(),z=s+hr,Y=L.firstCreatePass?function n0(s,o,a,c,d,p,_,C,R){const L=o.consts,z=Mf(o,s,4,_||null,Di(L,C));BE(o,a,z,Di(L,R)),Xo(o,z);const Y=z.tView=Iy(2,z,c,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,L);return null!==o.queries&&(o.queries.template(o,z),Y.queries=o.queries.embeddedTView(z)),z}(z,L,R,o,a,c,d,p,_):L.data[z];_s(Y,!1);const de=R[pe].createComment("");Kl(L,R,de,Y),Oi(de,R),Sy(R,R[z]=UT(de,R,de,Y)),os(Y)&&FE(L,R,Y),null!=_&&wy(R,Y,C)}function eo(s){return function Gs(s,o){return s[o]}(function Ka(){return fn.lFrame.contextLView}(),hr+s)}function Ny(s,o,a){const c=He();return Bo(c,mi(),o)&&lu($n(),vr(),c,s,o,c[pe],a,!1),Ny}function mh(s,o,a,c,d){const _=d?"class":"style";Ry(s,a,o.inputs[_],_,c)}function yh(s,o,a,c){const d=He(),p=$n(),_=hr+s,C=d[pe],R=p.firstCreatePass?function s0(s,o,a,c,d,p){const _=o.consts,R=Mf(o,s,2,c,Di(_,d));return BE(o,a,R,Di(_,p)),null!==R.attrs&&ug(R,R.attrs,!1),null!==R.mergedAttrs&&ug(R,R.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,R),R}(_,p,d,o,a,c):p.data[_],L=d[_]=hf(C,o,function di(){return fn.lFrame.currentNamespace}()),z=os(R);return _s(R,!0),zv(C,L,R),32!=(32&R.flags)&&Kl(p,d,L,R),0===function Zo(){return fn.lFrame.elementDepthCount}()&&Oi(L,d),function _u(){fn.lFrame.elementDepthCount++}(),z&&(FE(p,d,R),og(p,R,d)),null!==c&&wy(d,R),yh}function md(){let s=lr();_a()?Zu():(s=s.parent,_s(s,!1));const o=s;!function ya(){fn.lFrame.elementDepthCount--}();const a=$n();return a.firstCreatePass&&(Xo(a,s),js(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Fn(s){return 0!=(8&s.flags)}(o)&&mh(a,o,He(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function sn(s){return 0!=(16&s.flags)}(o)&&mh(a,o,He(),o.stylesWithoutHost,!1),md}function cu(s,o,a,c){return yh(s,o,a,c),md(),cu}function Ly(){return He()}function Nf(s){return!!s&&"function"==typeof s.then}function Fy(s){return!!s&&"function"==typeof s.subscribe}const o0=Fy;function gg(s,o,a,c){const d=He(),p=$n(),_=lr();return mg(p,d,d[pe],_,s,o,c),gg}function _h(s,o){const a=lr(),c=He(),d=$n();return mg(d,c,GE(Wr(d.data),a,c),a,s,o),_h}function mg(s,o,a,c,d,p,_){const C=os(c),L=s.firstCreatePass&&HE(s),z=o[tr],Y=ag(o);let de=!0;if(3&c.type||_){const vt=rr(c,o),St=_?_(vt):vt,Ht=Y.length,hn=_?Mn=>_(ur(Mn[c.index])):c.index;let st=null;if(!_&&C&&(st=function Uy(s,o,a,c){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===c){const C=o[is],R=d[p+2];return C.length>R?C[R]:null}"string"==typeof _&&(p+=2)}return null}(s,o,d,c.index)),null!==st)(st.__ngLastListenerFn__||st).__ngNextListenerFn__=p,st.__ngLastListenerFn__=p,de=!1;else{p=a0(c,o,z,p,!1);const Mn=a.listen(St,d,p);Y.push(p,Mn),L&&L.push(d,hn,Ht,Ht+1)}}else p=a0(c,o,z,p,!1);const Re=c.outputs;let Xe;if(de&&null!==Re&&(Xe=Re[d])){const vt=Xe.length;if(vt)for(let St=0;St<vt;St+=2){const wi=o[Xe[St]][Xe[St+1]].subscribe(p),Ui=Y.length;Y.push(p,wi),L&&L.push(d,c.index,Ui,-(Ui+1))}}}function yg(s,o,a,c){try{return br(6,o,a),!1!==a(c)}catch(d){return WE(s,d),!1}finally{br(7,o,a)}}function a0(s,o,a,c,d){return function p(_){if(_===Function)return c;by(s.componentOffset>-1?ci(s.index,o):o);let R=yg(o,a,c,_),L=p.__ngNextListenerFn__;for(;L;)R=yg(o,a,L,_)&&R,L=L.__ngNextListenerFn__;return d&&!1===R&&(_.preventDefault(),_.returnValue=!1),R}}function u0(s=1){return function qs(s){return(fn.lFrame.contextLView=function Iu(s,o){for(;s>0;)o=o[Pn],s--;return o}(s,fn.lFrame.contextLView))[tr]}(s)}function By(s,o){let a=null;const c=function cT(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===c?Df(s,p,!0):hT(c,p))return d}else a=d}return a}function Vy(s){const o=He()[dn][Gr];if(!o.projection){const c=o.projection=v(s?s.length:1,null),d=c.slice();let p=o.child;for(;null!==p;){const _=s?By(p,s):0;null!==_&&(d[_]?d[_].projectionNext=p:c[_]=p,d[_]=p),p=p.next}}}function l0(s,o=0,a){const c=He(),d=$n(),p=Mf(d,hr+s,16,null,a||null);null===p.projection&&(p.projection=o),Zu(),32!=(32&p.flags)&&function Xd(s,o,a){Gm(o[pe],0,o,a,Nt(s,a,o),id(a.parent||o[Gr],a,o))}(d,c,p)}function _d(s,o){return s<<17|o<<2}function wl(s){return s>>17&32767}function kf(s){return 2|s}function Pc(s){return(131068&s)>>2}function vg(s,o){return-131069&s|o<<2}function Eg(s){return 1|s}function wg(s,o,a,c,d){const p=s[a+1],_=null===o;let C=c?wl(p):Pc(p),R=!1;for(;0!==C&&(!1===R||_);){const z=s[C+1];Ky(s[C],o)&&(R=!0,s[C+1]=c?Eg(z):kf(z)),C=c?wl(z):Pc(z)}R&&(s[a+1]=c?kf(p):Eg(p))}function Ky(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ee(s,o)>=0}function Qy(s,o,a){return Vo(s,o,a,!1),Qy}function Ih(s,o){return Vo(s,o,null,!0),Ih}function Vo(s,o,a,c){const d=He(),p=$n(),_=function ls(s){const o=fn.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);p.firstUpdatePass&&function Xy(s,o,a,c){const d=s.data;if(null===d[a+1]){const p=d[Zr()],_=function Zy(s,o){return o>=s.expandoStartIndex}(s,a);(function Dh(s,o){return 0!=(s.flags&(o?8:16))})(p,c)&&null===o&&!_&&(o=!1),o=function Sg(s,o,a,c){const d=Wr(s);let p=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=Lf(a=Jy(null,s,o,a,c),o.attrs,c),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(a=Jy(d,s,o,a,c),null===p){let R=function nC(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Pc(c))return s[wl(c)]}(s,o,c);void 0!==R&&Array.isArray(R)&&(R=Jy(null,s,o,R[1],c),R=Lf(R,o.attrs,c),function rC(s,o,a,c){s[wl(a?o.classBindings:o.styleBindings)]=c}(s,o,c,R))}else p=function Th(s,o,a){let c;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)c=Lf(c,s[p].hostAttrs,a);return Lf(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,c),function f0(s,o,a,c,d,p){let _=p?o.classBindings:o.styleBindings,C=wl(_),R=Pc(_);s[c]=a;let z,L=!1;if(Array.isArray(a)?(z=a[1],(null===z||Ee(a,z)>0)&&(L=!0)):z=a,d)if(0!==R){const de=wl(s[C+1]);s[c+1]=_d(de,C),0!==de&&(s[de+1]=vg(s[de+1],c)),s[C+1]=function Wy(s,o){return 131071&s|o<<17}(s[C+1],c)}else s[c+1]=_d(C,0),0!==C&&(s[C+1]=vg(s[C+1],c)),C=c;else s[c+1]=_d(R,0),0===C?C=c:s[R+1]=vg(s[R+1],c),R=c;L&&(s[c+1]=kf(s[c+1])),wg(s,z,c,!0),wg(s,z,c,!1),function ZT(s,o,a,c,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ee(p,o)>=0&&(a[c+1]=Eg(a[c+1]))}(o,z,s,c,p),_=_d(C,R),p?o.classBindings=_:o.styleBindings=_}(d,p,o,a,_,c)}}(p,s,_,c),o!==Bn&&Bo(d,_,o)&&function Ch(s,o,a,c,d,p,_,C){if(!(3&o.type))return;const R=s.data,L=R[C+1],z=function QT(s){return 1==(1&s)}(L)?t_(R,o,a,d,Pc(L),_):void 0;Us(z)||(Us(p)||function Gy(s){return 2==(2&s)}(L)&&(p=t_(R,null,a,d,C,_)),function LI(s,o,a,c,d){if(o)d?s.addClass(a,c):s.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:Ir.DashCase;null==d?s.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Ir.Important),s.setStyle(a,c,d,p))}}(c,_,ri(Zr(),a),d,p))}(p,p.data[Zr()],d,d[pe],s,d[_+1]=function _0(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=_e(gl(s)))),s}(o,a),c,_)}function Jy(s,o,a,c,d){let p=null;const _=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<_&&(p=o[C],c=Lf(c,p.hostAttrs,d),p!==s);)C++;return null!==s&&(a.directiveStylingLast=C),c}function Lf(s,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?d=_:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),$(s,_,!!a||o[++p]))}return void 0===s?null:s}function t_(s,o,a,c,d,p){const _=null===o;let C;for(;d>0;){const R=s[d],L=Array.isArray(R),z=L?R[1]:R,Y=null===z;let de=a[d+1];de===Bn&&(de=Y?tt:void 0);let Re=Y?G(de,c):z===c?de:void 0;if(L&&!Us(Re)&&(Re=G(R,c)),Us(Re)&&(C=Re,_))return C;const Xe=s[d+1];d=_?wl(Xe):Pc(Xe)}if(null!==o){let R=p?o.residualClasses:o.residualStyles;null!=R&&(C=G(R,c))}return C}function Us(s){return void 0!==s}function Ff(s,o=""){const a=He(),c=$n(),d=s+hr,p=c.firstCreatePass?Mf(c,d,1,o,null):c.data[d],_=a[d]=function df(s,o){return s.createText(o)}(a[pe],o);Kl(c,a,_,p),_s(p,!1)}function Ag(s){return Sh("",s,""),Ag}function Sh(s,o,a){const c=He(),d=function gh(s,o,a,c){return Bo(s,mi(),a)?o+dt(a)+c:Bn}(c,s,o,a);return d!==Bn&&function Xl(s,o,a){const c=ri(o,s);!function Lp(s,o,a){s.setValue(o,a)}(s[pe],c,a)}(c,Zr(),d),Sh}function wd(s,o,a){const c=He();if(Bo(c,mi(),o)){const p=$n(),_=vr();lu(p,_,c,s,o,GE(Wr(p.data),_,c),a,!0)}return wd}const Id=void 0;var uC=["en",[["a","p"],["AM","PM"],Id],[["AM","PM"],Id,Id],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Id,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Id,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Id,"{1} 'at' {0}",Id],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function S0(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Mh={};function l_(s){const o=function Ph(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=c_(o);if(a)return a;const c=o.split("-")[0];if(a=c_(c),a)return a;if("en"===c)return uC;throw new Me(701,!1)}function rc(s){return l_(s)[yn.PluralCase]}function c_(s){return s in Mh||(Mh[s]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[s]),Mh[s]}var yn=(()=>((yn=yn||{})[yn.LocaleId=0]="LocaleId",yn[yn.DayPeriodsFormat=1]="DayPeriodsFormat",yn[yn.DayPeriodsStandalone=2]="DayPeriodsStandalone",yn[yn.DaysFormat=3]="DaysFormat",yn[yn.DaysStandalone=4]="DaysStandalone",yn[yn.MonthsFormat=5]="MonthsFormat",yn[yn.MonthsStandalone=6]="MonthsStandalone",yn[yn.Eras=7]="Eras",yn[yn.FirstDayOfWeek=8]="FirstDayOfWeek",yn[yn.WeekendRange=9]="WeekendRange",yn[yn.DateFormat=10]="DateFormat",yn[yn.TimeFormat=11]="TimeFormat",yn[yn.DateTimeFormat=12]="DateTimeFormat",yn[yn.NumberSymbols=13]="NumberSymbols",yn[yn.NumberFormats=14]="NumberFormats",yn[yn.CurrencyCode=15]="CurrencyCode",yn[yn.CurrencySymbol=16]="CurrencySymbol",yn[yn.CurrencyName=17]="CurrencyName",yn[yn.Currencies=18]="Currencies",yn[yn.Directionality=19]="Directionality",yn[yn.PluralCase=20]="PluralCase",yn[yn.ExtraData=21]="ExtraData",yn))();const Td="en-US";let d_=Td;function q0(s,o,a,c,d){if(s=me(s),Array.isArray(s))for(let p=0;p<s.length;p++)q0(s[p],o,a,c,d);else{const p=$n(),_=He();let C=ml(s)?s:me(s.provide),R=ry(s);const L=lr(),z=1048575&L.providerIndexes,Y=L.directiveStart,de=L.providerIndexes>>20;if(ml(s)||!s.multi){const Re=new Z(R,d,Zl),Xe=zg(C,o,d?z:z+de,Y);-1===Xe?(Si(Cu(L,_),p,C),Q0(p,s,o.length),o.push(C),L.directiveStart++,L.directiveEnd++,d&&(L.providerIndexes+=1048576),a.push(Re),_.push(Re)):(a[Xe]=Re,_[Xe]=Re)}else{const Re=zg(C,o,z+de,Y),Xe=zg(C,o,z,z+de),St=Xe>=0&&a[Xe];if(d&&!St||!d&&!(Re>=0&&a[Re])){Si(Cu(L,_),p,C);const Ht=function b_(s,o,a,c,d){const p=new Z(s,a,Zl);return p.multi=[],p.index=o,p.componentProviders=0,Y0(p,d,c&&!a),p}(d?Xf:Bs,a.length,d,c,R);!d&&St&&(a[Xe].providerFactory=Ht),Q0(p,s,o.length,0),o.push(C),L.directiveStart++,L.directiveEnd++,d&&(L.providerIndexes+=1048576),a.push(Ht),_.push(Ht)}else Q0(p,s,Re>-1?Re:Xe,Y0(a[d?Xe:Re],R,!d&&c));!d&&c&&St&&a[Xe].componentProviders++}}}function Q0(s,o,a,c){const d=ml(o),p=function ty(s){return!!s.useClass}(o);if(d||p){const R=(p?me(o.useClass):o).prototype.ngOnDestroy;if(R){const L=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const z=L.indexOf(a);-1===z?L.push(a,[c,R]):L[z+1].push(c,R)}else L.push(a,R)}}}function Y0(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function zg(s,o,a,c){for(let d=a;d<c;d++)if(o[d]===s)return d;return-1}function Bs(s,o,a,c){return Sl(this.multi,[])}function Xf(s,o,a,c){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=xs(a,a[It],this.providerFactory.index,c);p=C.slice(0,_),Sl(d,p);for(let R=_;R<C.length;R++)p.push(C[R])}else p=[],Sl(d,p);return p}function Sl(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function wC(s,o=[]){return a=>{a.providersResolver=(c,d)=>function dA(s,o,a){const c=$n();if(c.firstCreatePass){const d=$i(s);q0(a,c.data,c.blueprint,d,!0),q0(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class ft{}class Hi{}function bl(s,o){return new qt(s,o??null)}class qt extends ft{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zT(this);const c=ti(o);this._bootstrapComponents=uu(c.bootstrap),this._r3Injector=_y(o,a,[{provide:ft,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver}],_e(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class nn extends Hi{constructor(o){super(),this.moduleType=o}create(o){return new qt(this.moduleType,o)}}class hA extends ft{constructor(o,a,c){super(),this.componentFactoryResolver=new zT(this),this.instance=null;const d=new fE([...o,{provide:ft,useValue:this},{provide:Dc,useValue:this.componentFactoryResolver}],a||eg(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Mt(s,o,a=null){return new hA(s,o,a).injector}let Ve=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=dE(0,a.type),d=c.length>0?Mt([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=lt({token:s,providedIn:"environment",factory:()=>new s(_n(cd))}),s})();function ct(s){s.getStandaloneInjector=o=>o.get(Ve).getOrCreateStandaloneInjector(s)}function O_(s){return o=>{setTimeout(s,void 0,o)}}const wo=class kc extends D.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,p=a||(()=>null),_=c;if(o&&"object"==typeof o){const R=o;d=R.next?.bind(R),p=R.error?.bind(R),_=R.complete?.bind(R)}this.__isAsync&&(p=O_(p),d&&(d=O_(d)),_&&(_=O_(_)));const C=super.subscribe({next:d,error:p,complete:_});return o instanceof k.w0&&o.add(C),C}};function rw(){return this._results[Symbol.iterator]()}class $h{get changes(){return this._changes||(this._changes=new wo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=$h.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=rw)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function Yi(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Zc(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],p=o[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ep=(()=>{class s{}return s.__NG_ELEMENT_ID__=tp,s})();const MC=ep,Na=class extends MC{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tView,d=Ey(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);d[Rn]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[gi];return null!==_&&(d[gi]=_.createEmbeddedView(c)),LE(c,d,o),new lg(d)}};function tp(){return Lc(lr(),He())}function Lc(s,o){return 4&s.type?new Na(o,s,sh(s,o)):null}let np=(()=>{class s{}return s.__NG_ELEMENT_ID__=Io,s})();function Io(){return rp(lr(),He())}const PC=np,k_=class extends PC{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return sh(this._hostTNode,this._hostLView)}get injector(){return new tu(this._hostTNode,this._hostLView)}get parentInjector(){const o=jr(this._hostTNode,this._hostLView);if(ir(o)){const a=Ms(o,this._hostLView),c=ds(o);return new tu(a[It].data[c+8],a)}return new tu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Vu(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-ni}createEmbeddedView(o,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const _=o.createEmbeddedView(a||{},p);return this.insert(_,d),_}createComponent(o,a,c,d,p){const _=o&&!function ol(s){return"function"==typeof s}(o);let C;if(_)C=a;else{const Y=a||{};C=Y.index,c=Y.injector,d=Y.projectableNodes,p=Y.environmentInjector||Y.ngModuleRef}const R=_?o:new cg(jt(o)),L=c||this.parentInjector;if(!p&&null==R.ngModule){const de=(_?L:this.parentInjector).get(cd,null);de&&(p=de)}const z=R.create(L,d,void 0,p);return this.insert(z.hostView,C),z}insert(o,a){const c=o._lView,d=c[It];if(function ms(s){return Vi(s[ar])}(c)){const z=this.indexOf(o);if(-1!==z)this.detach(z);else{const Y=c[ar],de=new k_(Y,Y[Gr],Y[ar]);de.detach(de.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function f(s,o,a,c){const d=ni+c,p=a.length;c>0&&(a[d-1][Kn]=o),c<p-ni?(o[Kn]=a[d],Au(a,ni+c,o)):(a.push(o),o[Kn]=null),o[ar]=a;const _=o[Rn];null!==_&&a!==_&&function g(s,o){const a=s[Ds];o[dn]!==o[ar][ar][dn]&&(s[zo]=!0),null===a?s[Ds]=[o]:a.push(o)}(_,o);const C=o[gi];null!==C&&C.insertView(s),o[En]|=64}(d,c,_,p);const C=Ou(p,_),R=c[pe],L=Nu(R,_[oo]);return null!==L&&function Hm(s,o,a,c,d,p){c[_r]=d,c[Gr]=o,od(s,c,a,1,d,p)}(d,_[Gr],R,c,L,C),o.attachToViewContainerRef(),Au(Qg(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Vu(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=B(this._lContainer,a);c&&(zl(Qg(this._lContainer),a),H(c[It],c))}detach(o){const a=this._adjustIndex(o,-1),c=B(this._lContainer,a);return c&&null!=zl(Qg(this._lContainer),a)?new lg(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function Vu(s){return s[ao]}function Qg(s){return s[ao]||(s[ao]=[])}function rp(s,o){let a;const c=o[s.index];if(Vi(c))a=c;else{let d;if(8&s.type)d=ur(c);else{const p=o[pe];d=p.createComment("");const _=rr(s,o);Ln(p,Nu(p,_),d,function hl(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=a=UT(c,o,d,s),Sy(o,a)}return new k_(a,s,o)}class Yg{constructor(o){this.queryList=o,this.matches=null}clone(){return new Yg(this.queryList)}setDirty(){this.queryList.setDirty()}}class L_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new L_(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==$_(o,a).matches&&this.queries[a].setDirty()}}class iw{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class F_{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new F_(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class U_{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new U_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(o,a,xC(a,p)),this.matchTNodeWithReadOption(o,a,Ta(a,o,p,!1,!1))}else c===ep?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ta(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Yl||d===np||d===ep&&4&a.type)this.addMatch(a.index,-2);else{const p=Ta(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function xC(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function OC(s,o,a,c){return-1===a?function NC(s,o){return 11&s.type?sh(s,o):4&s.type?Lc(s,o):null}(o,s):-2===a?function kC(s,o,a){return a===Yl?sh(o,s):a===ep?Lc(o,s):a===np?rp(o,s):void 0}(s,o,c):xs(s,s[It],a,o)}function sw(s,o,a,c){const d=o[gi].queries[c];if(null===d.matches){const p=s.data,_=a.matches,C=[];for(let R=0;R<_.length;R+=2){const L=_[R];C.push(L<0?null:OC(o,p[L],_[R+1],a.metadata.read))}d.matches=C}return d.matches}function B_(s,o,a,c){const d=s.queries.getByIndex(a),p=d.matches;if(null!==p){const _=sw(s,o,d,a);for(let C=0;C<p.length;C+=2){const R=p[C];if(R>0)c.push(_[C/2]);else{const L=p[C+1],z=o[-R];for(let Y=ni;Y<z.length;Y++){const de=z[Y];de[Rn]===de[ar]&&B_(de[It],de,L,c)}if(null!==z[Ds]){const Y=z[Ds];for(let de=0;de<Y.length;de++){const Re=Y[de];B_(Re[It],Re,L,c)}}}}}return c}function ow(s){const o=He(),a=$n(),c=fo();Ae(c+1);const d=$_(a,c);if(s.dirty&&function bo(s){return 4==(4&s[En])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?B_(a,o,c,[]):sw(a,o,d,c);s.reset(p,oy),s.notifyOnChanges()}return!0}return!1}function aw(s,o,a){const c=$n();c.firstCreatePass&&(cw(c,new iw(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),V_(c,He(),o)}function uw(s,o,a,c){const d=$n();if(d.firstCreatePass){const p=lr();cw(d,new iw(o,a,c),p.index),function dw(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}V_(d,He(),a)}function lw(){return function LC(s,o){return s[gi].queries[o].queryList}(He(),fo())}function V_(s,o,a){const c=new $h(4==(4&a));bT(s,o,c,c.destroy),null===o[gi]&&(o[gi]=new L_),o[gi].queries.push(new Yg(c))}function cw(s,o,a){null===s.queries&&(s.queries=new F_),s.queries.track(new U_(o,a))}function $_(s,o){return s.queries.getByIndex(o)}function hw(s,o){return Lc(s,o)}function Is(s){return!!ti(s)}function cp(...s){}const Q_=new Er("Application Initializer");let dp=(()=>{class s{constructor(a){this.appInits=a,this.resolve=cp,this.reject=cp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Nf(p))a.push(p);else if(o0(p)){const _=new Promise((C,R)=>{p.subscribe({complete:C,error:R})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(_n(Q_,8))},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Y_=new Er("AppId",{providedIn:"root",factory:function Tw(){return`${Z_()}${Z_()}${Z_()}`}});function Z_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const X_=new Er("Platform Initializer"),$C=new Er("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zC=new Er("AnimationModuleType");let HC=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Hh=new Er("LocaleId",{providedIn:"root",factory:()=>dr(Hh,Tt.Optional|Tt.SkipSelf)||function GC(){return typeof $localize<"u"&&$localize.locale||Td}()}),Nd=new Er("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Cw{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Dw=(()=>{class s{compileModuleSync(a){return new nn(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=uu(ti(a).declarations).reduce((_,C)=>{const R=jt(C);return R&&_.push(new cg(R)),_},[]);return new Cw(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Od=(()=>Promise.resolve(0))();function io(s){typeof Zone>"u"?Od.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class To{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wo(!1),this.onMicrotaskEmpty=new wo(!1),this.onStable=new wo(!1),this.onError=new wo(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function rv(){let s=bn.requestAnimationFrame,o=bn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function bw(s){const o=()=>{!function fp(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(bn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,nm(s),s.isCheckStableRunning=!0,hp(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),nm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,_,C)=>{try{return Aw(s),a.invokeTask(d,p,_,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Ml(s)}},onInvoke:(a,c,d,p,_,C,R)=>{try{return Aw(s),a.invoke(d,p,_,C,R)}finally{s.shouldCoalesceRunChangeDetection&&o(),Ml(s)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,nm(s),hp(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!To.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(To.isInAngularZone())throw new Me(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,o,Sw,cp,cp);try{return p.runTask(_,a,c)}finally{p.cancelTask(_)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const Sw={};function hp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function nm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Aw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Ml(s){s._nesting--,hp(s)}class KC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wo,this.onMicrotaskEmpty=new wo,this.onStable=new wo,this.onError=new wo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const $o=new Er(""),sv=new Er("");let rm,pp=(()=>{class s{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rm||(function Pl(s){rm=s}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{To.assertNotInAngularZone(),io(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())io(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(_n(To),_n(ov),_n(sv))},s.\u0275prov=lt({token:s,factory:s.\u0275fac}),s})(),ov=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return rm?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const ka=!1;let $c=null;const Rw=new Er("AllowMultipleToken"),Vn=new Er("PlatformDestroyListeners"),Mw=new Er("appBootstrapListener");class xw{constructor(o,a){this.name=o,this.token=a}}function kd(s,o,a=[]){const c=`Platform: ${o}`,d=new Er(c);return(p=[])=>{let _=im();if(!_||_.injector.get(Rw,!1)){const C=[...a,...p,{provide:d,useValue:!0}];s?s(C):function _A(s){if($c&&!$c.get(Rw,!1))throw new Me(400,!1);$c=s;const o=s.get(Fd);(function Nw(s){const o=s.get(X_,null);o&&o.forEach(a=>a())})(s)}(function uv(s=[],o){return bc.create({name:o,providers:[{provide:_f,useValue:"platform"},{provide:Vn,useValue:new Set([()=>$c=null])},...s]})}(C,c))}return function Ld(s){const o=im();if(!o)throw new Me(401,!1);return o}()}}function im(){return $c?.get(Fd)??null}let Fd=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function cv(s,o){let a;return a="noop"===s?new KC:("zone.js"===s?void 0:s)||new To(o),a}(c?.ngZone,function lv(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:To,useValue:d}];return d.run(()=>{const _=bc.create({providers:p,parent:this.injector,name:a.moduleType.name}),C=a.create(_),R=C.injector.get(Tf,null);if(!R)throw new Me(402,!1);return d.runOutsideAngular(()=>{const L=d.onError.subscribe({next:z=>{R.handleError(z)}});C.onDestroy(()=>{ai(this._modules,C),L.unsubscribe()})}),function Kh(s,o,a){try{const c=a();return Nf(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(R,d,()=>{const L=C.injector.get(dp);return L.runInitializers(),L.donePromise.then(()=>(function h_(s){Bt(s,"Expected localeId to be defined"),"string"==typeof s&&(d_=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Hh,Td)||Td),this._moduleDoBootstrap(C),C))})})}bootstrapModule(a,c=[]){const d=Ow({},c);return function av(s,o,a){const c=new nn(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(sm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Me(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Vn,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(_n(bc))},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Ow(s,o){return Array.isArray(o)?o.reduce(Ow,s):{...s,...o}}let sm=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new q.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),_=new q.y(C=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{To.assertNotInAngularZone(),io(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{To.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{R.unsubscribe(),L.unsubscribe()}});this.isStable=(0,ie.T)(p,_.pipe((0,re.B)()))}bootstrap(a,c){const d=a instanceof wf;if(!this._injector.get(dp).done){!d&&yr(a);throw new Me(405,ka)}let _;_=d?a:this._injector.get(Dc).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const C=function Pw(s){return s.isBoundToModule}(_)?void 0:this._injector.get(ft),L=_.create(bc.NULL,[],c||_.selector,C),z=L.location.nativeElement,Y=L.injector.get($o,null);return Y?.registerApplication(z),L.onDestroy(()=>{this.detachView(L.hostView),ai(this.components,L),Y?.unregisterApplication(z)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;ai(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Mw,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>ai(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Me(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(_n(To),_n(cd),_n(Tf))},s.\u0275prov=lt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ai(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function kw(){return!1}function ZC(){}let qh=(()=>{class s{}return s.__NG_ELEMENT_ID__=uc,s})();function uc(s){return function Lw(s,o,a){if(gs(s)&&!a){const c=ci(s.index,o);return new lg(c,c)}return 47&s.type?new lg(o[dn],o):null}(lr(),He(),16==(16&s))}class Yh{constructor(){}supports(o){return Py(o)}create(o){return new Vw(o)}}const hm=(s,o)=>o;class Vw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||hm}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const _=!c||a&&a.currentIndex<gv(c,d,p)?a:c,C=gv(_,d,p),R=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const L=C-d,z=R-d;if(L!=z){for(let de=0;de<L;de++){const Re=de<p.length?p[de]:p[de]=0,Xe=Re+de;z<=Xe&&Xe<L&&(p[de]=Re+1)}p[_.previousIndex]=z-L}}C!==R&&o(_,C,R)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Py(o))throw new Me(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,_,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)p=o[C],_=this._trackByFn(C,p),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,p,_,C)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,C),c=!0),a=a._next}else d=0,function rA(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,C=>{_=this._trackByFn(d,C),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,C,_,d)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,_,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new $w(a,c),p,d),o}_verifyReinsertion(o,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new zw),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class $w{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jw{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class zw{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new jw,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gv(s,o,a){const c=s.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class mv{constructor(){}supports(o){return o instanceof Map||YE(o)}create(){return new rD}}class rD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||YE(o)))throw new Me(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const c=new iD(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class iD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hw(){return new yv([new Yh])}let yv=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||Hw()),deps:[[s,new Ru,new wn]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Me(901,!1)}}return s.\u0275prov=lt({token:s,providedIn:"root",factory:Hw}),s})();function Ud(){return new fm([new mv])}let fm=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||Ud()),deps:[[s,new Ru,new wn]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new Me(901,!1)}}return s.\u0275prov=lt({token:s,providedIn:"root",factory:Ud}),s})();const vp=kd(null,"core",[]);let xl=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(_n(sm))},s.\u0275mod=Ce({type:s}),s.\u0275inj=pr({}),s})();function _v(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},1481:(Dt,Pe,O)=>{O.d(Pe,{Dx:()=>cn,H7:()=>le,b2:()=>Wi,q6:()=>Pr,se:()=>Et});var D=O(6895),k=O(4650);class q extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends q{static makeCurrent(){(0,D.HT)(new ie)}onAndCancel(se,K,fe){return se.addEventListener(K,fe,!1),()=>{se.removeEventListener(K,fe,!1)}}dispatchEvent(se,K){se.dispatchEvent(K)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,K){return(K=K||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,K){return"window"===K?window:"document"===K?se:"body"===K?se.body:null}getBaseHref(se){const K=function he(){return re=re||document.querySelector("base"),re?re.getAttribute("href"):null}();return null==K?null:function _e(ue){ye=ye||document.createElement("a"),ye.setAttribute("href",ue);const se=ye.pathname;return"/"===se.charAt(0)?se:`/${se}`}(K)}resetBaseElement(){re=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,D.Mx)(document.cookie,se)}}let ye,re=null;const Te=new k.OlP("TRANSITION_ID"),ee=[{provide:k.ip1,useFactory:function te(ue,se,K){return()=>{K.get(k.CZH).donePromise.then(()=>{const fe=(0,D.q)(),Be=se.querySelectorAll(`style[ng-transition="${ue}"]`);for(let nt=0;nt<Be.length;nt++)fe.remove(Be[nt])})}},deps:[Te,D.K0,k.zs3],multi:!0}];let Fe=(()=>{class ue{build(){return new XMLHttpRequest}}return ue.\u0275fac=function(K){return new(K||ue)},ue.\u0275prov=k.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const $e=new k.OlP("EventManagerPlugins");let Ge=(()=>{class ue{constructor(K,fe){this._zone=fe,this._eventNameToPlugin=new Map,K.forEach(Be=>{Be.manager=this}),this._plugins=K.slice().reverse()}addEventListener(K,fe,Be){return this._findPluginFor(fe).addEventListener(K,fe,Be)}addGlobalEventListener(K,fe,Be){return this._findPluginFor(fe).addGlobalEventListener(K,fe,Be)}getZone(){return this._zone}_findPluginFor(K){const fe=this._eventNameToPlugin.get(K);if(fe)return fe;const Be=this._plugins;for(let nt=0;nt<Be.length;nt++){const Zt=Be[nt];if(Zt.supports(K))return this._eventNameToPlugin.set(K,Zt),Zt}throw new Error(`No event manager plugin found for event ${K}`)}}return ue.\u0275fac=function(K){return new(K||ue)(k.LFG($e),k.LFG(k.R0b))},ue.\u0275prov=k.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class _t{constructor(se){this._doc=se}addGlobalEventListener(se,K,fe){const Be=(0,D.q)().getGlobalEventTarget(this._doc,se);if(!Be)throw new Error(`Unsupported event target ${Be} for event ${K}`);return this.addEventListener(Be,K,fe)}}let Me=(()=>{class ue{constructor(){this.usageCount=new Map}addStyles(K){for(const fe of K)1===this.changeUsageCount(fe,1)&&this.onStyleAdded(fe)}removeStyles(K){for(const fe of K)0===this.changeUsageCount(fe,-1)&&this.onStyleRemoved(fe)}onStyleRemoved(K){}onStyleAdded(K){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(K,fe){const Be=this.usageCount;let nt=Be.get(K)??0;return nt+=fe,nt>0?Be.set(K,nt):Be.delete(K),nt}ngOnDestroy(){for(const K of this.getAllStyles())this.onStyleRemoved(K);this.usageCount.clear()}}return ue.\u0275fac=function(K){return new(K||ue)},ue.\u0275prov=k.Yz7({token:ue,factory:ue.\u0275fac}),ue})(),gt=(()=>{class ue extends Me{constructor(K){super(),this.doc=K,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(K){for(const fe of this.hostNodes)this.addStyleToHost(fe,K)}onStyleRemoved(K){const fe=this.styleRef;fe.get(K)?.forEach(nt=>nt.remove()),fe.delete(K)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(K){this.hostNodes.add(K);for(const fe of this.getAllStyles())this.addStyleToHost(K,fe)}removeHost(K){this.hostNodes.delete(K)}addStyleToHost(K,fe){const Be=this.doc.createElement("style");Be.textContent=fe,K.appendChild(Be);const nt=this.styleRef.get(fe);nt?nt.push(Be):this.styleRef.set(fe,[Be])}resetHostNodes(){const K=this.hostNodes;K.clear(),K.add(this.doc.head)}}return ue.\u0275fac=function(K){return new(K||ue)(k.LFG(D.K0))},ue.\u0275prov=k.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bt=/%COMP%/g,Ne=new k.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function At(ue,se){return se.flat(100).map(K=>K.replace(bt,ue))}function gn(ue){return se=>{if("__ngUnwrap__"===se)return ue;!1===ue(se)&&(se.preventDefault(),se.returnValue=!1)}}let Et=(()=>{class ue{constructor(K,fe,Be,nt){this.eventManager=K,this.sharedStylesHost=fe,this.appId=Be,this.removeStylesOnCompDestory=nt,this.rendererByCompId=new Map,this.defaultRenderer=new Le(K)}createRenderer(K,fe){if(!K||!fe)return this.defaultRenderer;const Be=this.getOrCreateRenderer(K,fe);return Be instanceof Bt?Be.applyToHost(K):Be instanceof ht&&Be.applyStyles(),Be}getOrCreateRenderer(K,fe){const Be=this.rendererByCompId;let nt=Be.get(fe.id);if(!nt){const Zt=this.eventManager,xn=this.sharedStylesHost,Qn=this.removeStylesOnCompDestory;switch(fe.encapsulation){case k.ifc.Emulated:nt=new Bt(Zt,xn,fe,this.appId,Qn);break;case k.ifc.ShadowDom:return new yt(Zt,xn,K,fe);default:nt=new ht(Zt,xn,fe,Qn)}nt.onDestroy=()=>Be.delete(fe.id),Be.set(fe.id,nt)}return nt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ue.\u0275fac=function(K){return new(K||ue)(k.LFG(Ge),k.LFG(gt),k.LFG(k.AFp),k.LFG(Ne))},ue.\u0275prov=k.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class Le{constructor(se){this.eventManager=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,K){return K?document.createElementNS(dt[K]||K,se):document.createElement(se)}createComment(se){return document.createComment(se)}createText(se){return document.createTextNode(se)}appendChild(se,K){(et(se)?se.content:se).appendChild(K)}insertBefore(se,K,fe){se&&(et(se)?se.content:se).insertBefore(K,fe)}removeChild(se,K){se&&se.removeChild(K)}selectRootElement(se,K){let fe="string"==typeof se?document.querySelector(se):se;if(!fe)throw new Error(`The selector "${se}" did not match any elements`);return K||(fe.textContent=""),fe}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,K,fe,Be){if(Be){K=Be+":"+K;const nt=dt[Be];nt?se.setAttributeNS(nt,K,fe):se.setAttribute(K,fe)}else se.setAttribute(K,fe)}removeAttribute(se,K,fe){if(fe){const Be=dt[fe];Be?se.removeAttributeNS(Be,K):se.removeAttribute(`${fe}:${K}`)}else se.removeAttribute(K)}addClass(se,K){se.classList.add(K)}removeClass(se,K){se.classList.remove(K)}setStyle(se,K,fe,Be){Be&(k.JOm.DashCase|k.JOm.Important)?se.style.setProperty(K,fe,Be&k.JOm.Important?"important":""):se.style[K]=fe}removeStyle(se,K,fe){fe&k.JOm.DashCase?se.style.removeProperty(K):se.style[K]=""}setProperty(se,K,fe){se[K]=fe}setValue(se,K){se.nodeValue=K}listen(se,K,fe){return"string"==typeof se?this.eventManager.addGlobalEventListener(se,K,gn(fe)):this.eventManager.addEventListener(se,K,gn(fe))}}function et(ue){return"TEMPLATE"===ue.tagName&&void 0!==ue.content}class yt extends Le{constructor(se,K,fe,Be){super(se),this.sharedStylesHost=K,this.hostEl=fe,this.shadowRoot=fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nt=At(Be.id,Be.styles);for(const Zt of nt){const xn=document.createElement("style");xn.textContent=Zt,this.shadowRoot.appendChild(xn)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}appendChild(se,K){return super.appendChild(this.nodeOrShadowRoot(se),K)}insertBefore(se,K,fe){return super.insertBefore(this.nodeOrShadowRoot(se),K,fe)}removeChild(se,K){return super.removeChild(this.nodeOrShadowRoot(se),K)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ht extends Le{constructor(se,K,fe,Be,nt=fe.id){super(se),this.sharedStylesHost=K,this.removeStylesOnCompDestory=Be,this.rendererUsageCount=0,this.styles=At(nt,fe.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Bt extends ht{constructor(se,K,fe,Be,nt){const Zt=Be+"-"+fe.id;super(se,K,fe,nt,Zt),this.contentAttr=function Gt(ue){return"_ngcontent-%COMP%".replace(bt,ue)}(Zt),this.hostAttr=function mn(ue){return"_nghost-%COMP%".replace(bt,ue)}(Zt)}applyToHost(se){this.applyStyles(),this.setAttribute(se,this.hostAttr,"")}createElement(se,K){const fe=super.createElement(se,K);return super.setAttribute(fe,this.contentAttr,""),fe}}let pt=(()=>{class ue extends _t{constructor(K){super(K)}supports(K){return!0}addEventListener(K,fe,Be){return K.addEventListener(fe,Be,!1),()=>this.removeEventListener(K,fe,Be)}removeEventListener(K,fe,Be){return K.removeEventListener(fe,Be)}}return ue.\u0275fac=function(K){return new(K||ue)(k.LFG(D.K0))},ue.\u0275prov=k.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const rn=["alt","control","meta","shift"],Wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vn={alt:ue=>ue.altKey,control:ue=>ue.ctrlKey,meta:ue=>ue.metaKey,shift:ue=>ue.shiftKey};let lt=(()=>{class ue extends _t{constructor(K){super(K)}supports(K){return null!=ue.parseEventName(K)}addEventListener(K,fe,Be){const nt=ue.parseEventName(fe),Zt=ue.eventCallback(nt.fullKey,Be,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(K,nt.domEventName,Zt))}static parseEventName(K){const fe=K.toLowerCase().split("."),Be=fe.shift();if(0===fe.length||"keydown"!==Be&&"keyup"!==Be)return null;const nt=ue._normalizeKey(fe.pop());let Zt="",xn=fe.indexOf("code");if(xn>-1&&(fe.splice(xn,1),Zt="code."),rn.forEach(Mi=>{const Ue=fe.indexOf(Mi);Ue>-1&&(fe.splice(Ue,1),Zt+=Mi+".")}),Zt+=nt,0!=fe.length||0===nt.length)return null;const Qn={};return Qn.domEventName=Be,Qn.fullKey=Zt,Qn}static matchEventFullKeyCode(K,fe){let Be=Wt[K.key]||K.key,nt="";return fe.indexOf("code.")>-1&&(Be=K.code,nt="code."),!(null==Be||!Be)&&(Be=Be.toLowerCase()," "===Be?Be="space":"."===Be&&(Be="dot"),rn.forEach(Zt=>{Zt!==Be&&(0,vn[Zt])(K)&&(nt+=Zt+".")}),nt+=Be,nt===fe)}static eventCallback(K,fe,Be){return nt=>{ue.matchEventFullKeyCode(nt,K)&&Be.runGuarded(()=>fe(nt))}}static _normalizeKey(K){return"esc"===K?"escape":K}}return ue.\u0275fac=function(K){return new(K||ue)(k.LFG(D.K0))},ue.\u0275prov=k.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const Pr=(0,k.eFA)(k._c5,"browser",[{provide:k.Lbi,useValue:D.bD},{provide:k.g9A,useValue:function sr(){ie.makeCurrent()},multi:!0},{provide:D.K0,useFactory:function ui(){return(0,k.RDi)(document),document},deps:[]}]),Sn=new k.OlP(""),Tt=[{provide:k.rWj,useClass:class me{addToWindow(se){k.dqk.getAngularTestability=(fe,Be=!0)=>{const nt=se.findTestabilityInTree(fe,Be);if(null==nt)throw new Error("Could not find testability for element.");return nt},k.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),k.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),k.dqk.frameworkStabilizers||(k.dqk.frameworkStabilizers=[]),k.dqk.frameworkStabilizers.push(fe=>{const Be=k.dqk.getAllAngularTestabilities();let nt=Be.length,Zt=!1;const xn=function(Qn){Zt=Zt||Qn,nt--,0==nt&&fe(Zt)};Be.forEach(function(Qn){Qn.whenStable(xn)})})}findTestabilityInTree(se,K,fe){return null==K?null:se.getTestability(K)??(fe?(0,D.q)().isShadowRoot(K)?this.findTestabilityInTree(se,K.host,!0):this.findTestabilityInTree(se,K.parentElement,!0):null)}},deps:[]},{provide:k.lri,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]},{provide:k.dDg,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]}],Qr=[{provide:k.zSh,useValue:"root"},{provide:k.qLn,useFactory:function Mr(){return new k.qLn},deps:[]},{provide:$e,useClass:pt,multi:!0,deps:[D.K0,k.R0b,k.Lbi]},{provide:$e,useClass:lt,multi:!0,deps:[D.K0]},{provide:Et,useClass:Et,deps:[Ge,gt,k.AFp,Ne]},{provide:k.FYo,useExisting:Et},{provide:Me,useExisting:gt},{provide:gt,useClass:gt,deps:[D.K0]},{provide:Ge,useClass:Ge,deps:[$e,k.R0b]},{provide:D.JF,useClass:Fe,deps:[]},[]];let Wi=(()=>{class ue{constructor(K){}static withServerTransition(K){return{ngModule:ue,providers:[{provide:k.AFp,useValue:K.appId},{provide:Te,useExisting:k.AFp},ee]}}}return ue.\u0275fac=function(K){return new(K||ue)(k.LFG(Sn,12))},ue.\u0275mod=k.oAB({type:ue}),ue.\u0275inj=k.cJS({providers:[...Qr,...Tt],imports:[D.ez,k.hGG]}),ue})(),cn=(()=>{class ue{constructor(K){this._doc=K}getTitle(){return this._doc.title}setTitle(K){this._doc.title=K||""}}return ue.\u0275fac=function(K){return new(K||ue)(k.LFG(D.K0))},ue.\u0275prov=k.Yz7({token:ue,factory:function(K){let fe=null;return fe=K?new K:function bn(){return new cn((0,k.LFG)(D.K0))}(),fe},providedIn:"root"}),ue})();typeof window<"u"&&window;let le=(()=>{class ue{}return ue.\u0275fac=function(K){return new(K||ue)},ue.\u0275prov=k.Yz7({token:ue,factory:function(K){let fe=null;return fe=K?new(K||ue):k.LFG(Ie),fe},providedIn:"root"}),ue})(),Ie=(()=>{class ue extends le{constructor(K){super(),this._doc=K}sanitize(K,fe){if(null==fe)return null;switch(K){case k.q3G.NONE:return fe;case k.q3G.HTML:return(0,k.qzn)(fe,"HTML")?(0,k.z3N)(fe):(0,k.EiD)(this._doc,String(fe)).toString();case k.q3G.STYLE:return(0,k.qzn)(fe,"Style")?(0,k.z3N)(fe):fe;case k.q3G.SCRIPT:if((0,k.qzn)(fe,"Script"))return(0,k.z3N)(fe);throw new Error("unsafe value used in a script context");case k.q3G.URL:return(0,k.qzn)(fe,"URL")?(0,k.z3N)(fe):(0,k.mCW)(String(fe));case k.q3G.RESOURCE_URL:if((0,k.qzn)(fe,"ResourceURL"))return(0,k.z3N)(fe);throw new Error(`unsafe value used in a resource URL context (see ${k.JZr})`);default:throw new Error(`Unexpected SecurityContext ${K} (see ${k.JZr})`)}}bypassSecurityTrustHtml(K){return(0,k.JVY)(K)}bypassSecurityTrustStyle(K){return(0,k.L6k)(K)}bypassSecurityTrustScript(K){return(0,k.eBb)(K)}bypassSecurityTrustUrl(K){return(0,k.LAX)(K)}bypassSecurityTrustResourceUrl(K){return(0,k.pB0)(K)}}return ue.\u0275fac=function(K){return new(K||ue)(k.LFG(D.K0))},ue.\u0275prov=k.Yz7({token:ue,factory:function(K){let fe=null;return fe=K?new K:function We(ue){return new Ie(ue.get(D.K0))}(k.LFG(k.zs3)),fe},providedIn:"root"}),ue})()},6148:(Dt,Pe,O)=>{O.d(Pe,{F0:()=>Si,rH:()=>Ia,Bz:()=>Yc,lC:()=>Ha});var D=O(4650),k=O(8996),q=O(9646),ie=O(1135);const he=(0,O(3888).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var ye=O(9841),_e=O(7272),Te=O(9770),te=O(9635),ee=O(2843),me=O(9751),Fe=O(515),$e=O(4033),Ge=O(7579),_t=O(6895),Me=O(4004),gt=O(3900),dt=O(5698),bt=O(8675),be=O(9300),oe=O(5577),ze=O(4482),ot=O(5403);function mt(v){return(0,ze.e)((I,y)=>{let b=!1;I.subscribe((0,ot.x)(y,N=>{b=!0,y.next(N)},()=>{b||y.next(v),y.complete()}))})}function Ne(v=Gt){return(0,ze.e)((I,y)=>{let b=!1;I.subscribe((0,ot.x)(y,N=>{b=!0,y.next(N)},()=>b?y.complete():y.error(v())))})}function Gt(){return new he}var mn=O(4671);function At(v,I){const y=arguments.length>=2;return b=>b.pipe(v?(0,be.h)((N,$)=>v(N,$,b)):mn.y,(0,dt.q)(1),y?mt(I):Ne(()=>new he))}var gn=O(4351),Et=O(8505),Le=O(262);function Ye(v,I){return(0,ze.e)(function je(v,I,y,b,N){return($,G)=>{let Ee=y,Ke=I,rt=0;$.subscribe((0,ot.x)(G,it=>{const Rt=rt++;Ke=Ee?v(Ke,it,Rt):(Ee=!0,it),b&&G.next(Ke)},N&&(()=>{Ee&&G.next(Ke),G.complete()})))}}(v,I,arguments.length>=2,!0))}function et(v){return v<=0?()=>Fe.E:(0,ze.e)((I,y)=>{let b=[];I.subscribe((0,ot.x)(y,N=>{b.push(N),v<b.length&&b.shift()},()=>{for(const N of b)y.next(N);y.complete()},void 0,()=>{b=null}))})}function yt(v,I){const y=arguments.length>=2;return b=>b.pipe(v?(0,be.h)((N,$)=>v(N,$,b)):mn.y,et(1),y?mt(I):Ne(()=>new he))}var Bt=O(9718),pt=O(8746),rn=O(8343),Wt=O(8189),vn=O(1481);const lt="primary",ln=Symbol("RouteTitle");class pr{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const y=this.params[I];return Array.isArray(y)?y[0]:y}return null}getAll(I){if(this.has(I)){const y=this.params[I];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Wn(v){return new pr(v)}function Rr(v,I,y){const b=y.path.split("/");if(b.length>v.length||"full"===y.pathMatch&&(I.hasChildren()||b.length<v.length))return null;const N={};for(let $=0;$<b.length;$++){const G=b[$],Ee=v[$];if(G.startsWith(":"))N[G.substring(1)]=Ee;else if(G!==Ee.path)return null}return{consumed:v.slice(0,b.length),posParams:N}}function sr(v,I){const y=v?Object.keys(v):void 0,b=I?Object.keys(I):void 0;if(!y||!b||y.length!=b.length)return!1;let N;for(let $=0;$<y.length;$++)if(N=y[$],!Mr(v[N],I[N]))return!1;return!0}function Mr(v,I){if(Array.isArray(v)&&Array.isArray(I)){if(v.length!==I.length)return!1;const y=[...v].sort(),b=[...I].sort();return y.every((N,$)=>b[$]===N)}return v===I}function ui(v){return Array.prototype.concat.apply([],v)}function qr(v){return v.length>0?v[v.length-1]:null}function Sn(v,I){for(const y in v)v.hasOwnProperty(y)&&I(v[y],y)}function Tt(v){return(0,D.CqO)(v)?v:(0,D.QGY)(v)?(0,k.D)(Promise.resolve(v)):(0,q.of)(v)}const Qr=!1,Wi={exact:function bn(v,I,y){if(!or(v.segments,I.segments)||!Fr(v.segments,I.segments,y)||v.numberOfChildren!==I.numberOfChildren)return!1;for(const b in I.children)if(!v.children[b]||!bn(v.children[b],I.children[b],y))return!1;return!0},subset:Ft},cr={exact:function Ii(v,I){return sr(v,I)},subset:function cn(v,I){return Object.keys(I).length<=Object.keys(v).length&&Object.keys(I).every(y=>Mr(v[y],I[y]))},ignored:()=>!0};function li(v,I,y){return Wi[y.paths](v.root,I.root,y.matrixParams)&&cr[y.queryParams](v.queryParams,I.queryParams)&&!("exact"===y.fragment&&v.fragment!==I.fragment)}function Ft(v,I,y){return en(v,I,I.segments,y)}function en(v,I,y,b){if(v.segments.length>y.length){const N=v.segments.slice(0,y.length);return!(!or(N,y)||I.hasChildren()||!Fr(N,y,b))}if(v.segments.length===y.length){if(!or(v.segments,y)||!Fr(v.segments,y,b))return!1;for(const N in I.children)if(!v.children[N]||!Ft(v.children[N],I.children[N],b))return!1;return!0}{const N=y.slice(0,v.segments.length),$=y.slice(v.segments.length);return!!(or(v.segments,N)&&Fr(v.segments,N,b)&&v.children[lt])&&en(v.children[lt],I,$,b)}}function Fr(v,I,y){return I.every((b,N)=>cr[y](v[N].parameters,b.parameters))}class nr{constructor(I=new Vt([],{}),y={},b=null){this.root=I,this.queryParams=y,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wn(this.queryParams)),this._queryParamMap}toString(){return Dr.serialize(this)}}class Vt{constructor(I,y){this.segments=I,this.children=y,this.parent=null,Sn(y,(b,N)=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _n(this)}}class Ur{constructor(I,y){this.path=I,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Wn(this.parameters)),this._parameterMap}toString(){return ne(this)}}function or(v,I){return v.length===I.length&&v.every((y,b)=>y.path===I[b].path)}let Hn=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=D.Yz7({token:v,factory:function(){return new an},providedIn:"root"}),v})();class an{parse(I){const y=new fe(I);return new nr(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(I){const y=`/${Sr(I.root,!0)}`,b=function le(v){const I=Object.keys(v).map(y=>{const b=v[y];return Array.isArray(b)?b.map(N=>`${Br(y)}=${Br(N)}`).join("&"):`${Br(y)}=${Br(b)}`}).filter(y=>!!y);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${y}${b}${"string"==typeof I.fragment?`#${function Vr(v){return encodeURI(v)}(I.fragment)}`:""}`}}const Dr=new an;function _n(v){return v.segments.map(I=>ne(I)).join("/")}function Sr(v,I){if(!v.hasChildren())return _n(v);if(I){const y=v.children[lt]?Sr(v.children[lt],!1):"",b=[];return Sn(v.children,(N,$)=>{$!==lt&&b.push(`${$}:${Sr(N,!1)}`)}),b.length>0?`${y}(${b.join("//")})`:y}{const y=function zn(v,I){let y=[];return Sn(v.children,(b,N)=>{N===lt&&(y=y.concat(I(b,N)))}),Sn(v.children,(b,N)=>{N!==lt&&(y=y.concat(I(b,N)))}),y}(v,(b,N)=>N===lt?[Sr(v.children[lt],!1)]:[`${N}:${Sr(b,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[lt]?`${_n(v)}/${y[0]}`:`${_n(v)}/(${y.join("//")})`}}function dr(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Br(v){return dr(v).replace(/%3B/gi,";")}function xr(v){return dr(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hr(v){return decodeURIComponent(v)}function $r(v){return Hr(v.replace(/\+/g,"%20"))}function ne(v){return`${xr(v.path)}${function X(v){return Object.keys(v).map(I=>`;${xr(I)}=${xr(v[I])}`).join("")}(v.parameters)}`}const We=/^[^\/()?;=#]+/;function Ie(v){const I=v.match(We);return I?I[0]:""}const tt=/^[^=?&#]+/,se=/^[^&#]+/;class fe{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(I.length>0||Object.keys(y).length>0)&&(b[lt]=new Vt(I,y)),b}parseSegment(){const I=Ie(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new D.vHH(4009,Qr);return this.capture(I),new Ur(Hr(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const y=Ie(this.remaining);if(!y)return;this.capture(y);let b="";if(this.consumeOptional("=")){const N=Ie(this.remaining);N&&(b=N,this.capture(b))}I[Hr(y)]=Hr(b)}parseQueryParam(I){const y=function ue(v){const I=v.match(tt);return I?I[0]:""}(this.remaining);if(!y)return;this.capture(y);let b="";if(this.consumeOptional("=")){const G=function K(v){const I=v.match(se);return I?I[0]:""}(this.remaining);G&&(b=G,this.capture(b))}const N=$r(y),$=$r(b);if(I.hasOwnProperty(N)){let G=I[N];Array.isArray(G)||(G=[G],I[N]=G),G.push($)}else I[N]=$}parseParens(I){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Ie(this.remaining),N=this.remaining[b.length];if("/"!==N&&")"!==N&&";"!==N)throw new D.vHH(4010,Qr);let $;b.indexOf(":")>-1?($=b.slice(0,b.indexOf(":")),this.capture($),this.capture(":")):I&&($=lt);const G=this.parseChildren();y[$]=1===Object.keys(G).length?G[lt]:new Vt([],G),this.consumeOptional("//")}return y}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new D.vHH(4011,Qr)}}function Be(v){return v.segments.length>0?new Vt([],{[lt]:v}):v}function nt(v){const I={};for(const b of Object.keys(v.children)){const $=nt(v.children[b]);($.segments.length>0||$.hasChildren())&&(I[b]=$)}return function Zt(v){if(1===v.numberOfChildren&&v.children[lt]){const I=v.children[lt];return new Vt(v.segments.concat(I.segments),I.children)}return v}(new Vt(v.segments,I))}function xn(v){return v instanceof nr}const Qn=!1;function ut(v,I,y,b,N){if(0===y.length)return Kt(I.root,I.root,I.root,b,N);const $=function An(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new On(!0,0,v);let I=0,y=!1;const b=v.reduce((N,$,G)=>{if("object"==typeof $&&null!=$){if($.outlets){const Ee={};return Sn($.outlets,(Ke,rt)=>{Ee[rt]="string"==typeof Ke?Ke.split("/"):Ke}),[...N,{outlets:Ee}]}if($.segmentPath)return[...N,$.segmentPath]}return"string"!=typeof $?[...N,$]:0===G?($.split("/").forEach((Ee,Ke)=>{0==Ke&&"."===Ee||(0==Ke&&""===Ee?y=!0:".."===Ee?I++:""!=Ee&&N.push(Ee))}),N):[...N,$]},[]);return new On(y,I,b)}(y);return $.toRoot()?Kt(I.root,I.root,new Vt([],{}),b,N):function G(Ke){const rt=function jo(v,I,y,b){if(v.isAbsolute)return new yr(I.root,!0,0);if(-1===b)return new yr(y,y===I.root,0);return function Hu(v,I,y){let b=v,N=I,$=y;for(;$>N;){if($-=N,b=b.parent,!b)throw new D.vHH(4005,Qn&&"Invalid number of '../'");N=b.segments.length}return new yr(b,!1,N-$)}(y,b+($t(v.commands[0])?0:1),v.numberOfDoubleDots)}($,I,v.snapshot?._urlSegment,Ke),it=rt.processChildren?It(rt.segmentGroup,rt.index,$.commands):_r(rt.segmentGroup,rt.index,$.commands);return Kt(I.root,rt.segmentGroup,it,b,N)}(v.snapshot?._lastPathIndex)}function $t(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Xt(v){return"object"==typeof v&&null!=v&&v.outlets}function Kt(v,I,y,b,N){let G,$={};b&&Sn(b,(Ke,rt)=>{$[rt]=Array.isArray(Ke)?Ke.map(it=>`${it}`):`${Ke}`}),G=v===I?y:jt(v,I,y);const Ee=Be(nt(G));return new nr(Ee,$,N)}function jt(v,I,y){const b={};return Sn(v.children,(N,$)=>{b[$]=N===I?y:jt(N,I,y)}),new Vt(v.segments,b)}class On{constructor(I,y,b){if(this.isAbsolute=I,this.numberOfDoubleDots=y,this.commands=b,I&&b.length>0&&$t(b[0]))throw new D.vHH(4003,Qn&&"Root segment cannot have matrix parameters");const N=b.find(Xt);if(N&&N!==qr(b))throw new D.vHH(4004,Qn&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yr{constructor(I,y,b){this.segmentGroup=I,this.processChildren=y,this.index=b}}function _r(v,I,y){if(v||(v=new Vt([],{})),0===v.segments.length&&v.hasChildren())return It(v,I,y);const b=function En(v,I,y){let b=0,N=I;const $={match:!1,pathIndex:0,commandIndex:0};for(;N<v.segments.length;){if(b>=y.length)return $;const G=v.segments[N],Ee=y[b];if(Xt(Ee))break;const Ke=`${Ee}`,rt=b<y.length-1?y[b+1]:null;if(N>0&&void 0===Ke)break;if(Ke&&rt&&"object"==typeof rt&&void 0===rt.outlets){if(!Gr(Ke,rt,G))return $;b+=2}else{if(!Gr(Ke,{},G))return $;b++}N++}return{match:!0,pathIndex:N,commandIndex:b}}(v,I,y),N=y.slice(b.commandIndex);if(b.match&&b.pathIndex<v.segments.length){const $=new Vt(v.segments.slice(0,b.pathIndex),{});return $.children[lt]=new Vt(v.segments.slice(b.pathIndex),v.children),It($,0,N)}return b.match&&0===N.length?new Vt(v.segments,{}):b.match&&!v.hasChildren()?ar(v,I,y):b.match?It(v,0,N):ar(v,I,y)}function It(v,I,y){if(0===y.length)return new Vt(v.segments,{});{const b=function so(v){return Xt(v[0])?v[0].outlets:{[lt]:v}}(y),N={};if(!b[lt]&&v.children[lt]&&1===v.numberOfChildren&&0===v.children[lt].segments.length){const $=It(v.children[lt],I,y);return new Vt(v.segments,$.children)}return Sn(b,($,G)=>{"string"==typeof $&&($=[$]),null!==$&&(N[G]=_r(v.children[G],I,$))}),Sn(v.children,($,G)=>{void 0===b[G]&&(N[G]=$)}),new Vt(v.segments,N)}}function ar(v,I,y){const b=v.segments.slice(0,I);let N=0;for(;N<y.length;){const $=y[N];if(Xt($)){const Ke=Kn($.outlets);return new Vt(b,Ke)}if(0===N&&$t(y[0])){b.push(new Ur(v.segments[I].path,Ki(y[0]))),N++;continue}const G=Xt($)?$.outlets[lt]:`${$}`,Ee=N<y.length-1?y[N+1]:null;G&&Ee&&$t(Ee)?(b.push(new Ur(G,Ki(Ee))),N+=2):(b.push(new Ur(G,{})),N++)}return new Vt(b,{})}function Kn(v){const I={};return Sn(v,(y,b)=>{"string"==typeof y&&(y=[y]),null!==y&&(I[b]=ar(new Vt([],{}),0,y))}),I}function Ki(v){const I={};return Sn(v,(y,b)=>I[b]=`${y}`),I}function Gr(v,I,y){return v==y.path&&sr(I,y.parameters)}const is="imperative";class tr{constructor(I,y){this.id=I,this.url=y}}class we extends tr{constructor(I,y,b="imperative",N=null){super(I,y),this.type=0,this.navigationTrigger=b,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ce extends tr{constructor(I,y,b){super(I,y),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pe extends tr{constructor(I,y,b,N){super(I,y),this.reason=b,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qe extends tr{constructor(I,y,b,N){super(I,y),this.reason=b,this.code=N,this.type=16}}class at extends tr{constructor(I,y,b,N){super(I,y),this.error=b,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tn extends tr{constructor(I,y,b,N){super(I,y),this.urlAfterRedirects=b,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pn extends tr{constructor(I,y,b,N){super(I,y),this.urlAfterRedirects=b,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends tr{constructor(I,y,b,N,$){super(I,y),this.urlAfterRedirects=b,this.state=N,this.shouldActivate=$,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rn extends tr{constructor(I,y,b,N){super(I,y),this.urlAfterRedirects=b,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends tr{constructor(I,y,b,N){super(I,y),this.urlAfterRedirects=b,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gi{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yr{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ti{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ss{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mu{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(I,y,b){this.routerEvent=I,this.position=y,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ds=(()=>{class v{createUrlTree(y,b,N,$,G,Ee){return ut(y||b.root,N,$,G,Ee)}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=D.Yz7({token:v,factory:v.\u0275fac}),v})(),ha=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=D.Yz7({token:v,factory:function(I){return Ds.\u0275fac(I)},providedIn:"root"}),v})();class Ci{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const y=this.pathFromRoot(I);return y.length>1?y[y.length-2]:null}children(I){const y=Vi(I,this._root);return y?y.children.map(b=>b.value):[]}firstChild(I){const y=Vi(I,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(I){const y=js(I,this._root);return y.length<2?[]:y[y.length-2].children.map(N=>N.value).filter(N=>N!==I)}pathFromRoot(I){return js(I,this._root).map(y=>y.value)}}function Vi(v,I){if(v===I.value)return I;for(const y of I.children){const b=Vi(v,y);if(b)return b}return null}function js(v,I){if(v===I.value)return[I];for(const y of I.children){const b=js(v,y);if(b.length)return b.unshift(I),b}return[]}class gs{constructor(I,y){this.value=I,this.children=y}toString(){return`TreeNode(${this.value})`}}function os(v){const I={};return v&&v.children.forEach(y=>I[y.value.outlet]=y),I}class $i extends Ci{constructor(I,y){super(I),this.snapshot=y,Ba(this,I)}toString(){return this.snapshot.toString()}}function zs(v,I){const y=function fa(v,I){const G=new Ua([],{},{},"",{},lt,I,null,v.root,-1,{});return new Gu("",new gs(G,[]))}(v,I),b=new ie.X([new Ur("",{})]),N=new ie.X({}),$=new ie.X({}),G=new ie.X({}),Ee=new ie.X(""),Ke=new Ho(b,N,G,Ee,$,lt,I,y.root);return Ke.snapshot=y.root,new $i(new gs(Ke,[]),y)}class Ho{constructor(I,y,b,N,$,G,Ee,Ke){this.url=I,this.params=y,this.queryParams=b,this.fragment=N,this.data=$,this.outlet=G,this.component=Ee,this.title=this.data?.pipe((0,Me.U)(rt=>rt[ln]))??(0,q.of)(void 0),this._futureSnapshot=Ke}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Me.U)(I=>Wn(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Me.U)(I=>Wn(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hs(v,I="emptyOnly"){const y=v.pathFromRoot;let b=0;if("always"!==I)for(b=y.length-1;b>=1;){const N=y[b],$=y[b-1];if(N.routeConfig&&""===N.routeConfig.path)b--;else{if($.component)break;b--}}return function Ol(v){return v.reduce((I,y)=>({params:{...I.params,...y.params},data:{...I.data,...y.data},resolve:{...y.data,...I.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(b))}class Ua{get title(){return this.data?.[ln]}constructor(I,y,b,N,$,G,Ee,Ke,rt,it,Rt){this.url=I,this.params=y,this.queryParams=b,this.fragment=N,this.data=$,this.outlet=G,this.component=Ee,this.routeConfig=Ke,this._urlSegment=rt,this._lastPathIndex=it,this._resolve=Rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gu extends Ci{constructor(I,y){super(y),this.url=I,Ba(this,y)}toString(){return kl(this._root)}}function Ba(v,I){I.value._routerState=v,I.children.forEach(y=>Ba(v,y))}function kl(v){const I=v.children.length>0?` { ${v.children.map(kl).join(", ")} } `:"";return`${v.value}${I}`}function Va(v){if(v.snapshot){const I=v.snapshot,y=v._futureSnapshot;v.snapshot=y,sr(I.queryParams,y.queryParams)||v.queryParams.next(y.queryParams),I.fragment!==y.fragment&&v.fragment.next(y.fragment),sr(I.params,y.params)||v.params.next(y.params),function er(v,I){if(v.length!==I.length)return!1;for(let y=0;y<v.length;++y)if(!sr(v[y],I[y]))return!1;return!0}(I.url,y.url)||v.url.next(y.url),sr(I.data,y.data)||v.data.next(y.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function $a(v,I){const y=sr(v.params,I.params)&&function mr(v,I){return or(v,I)&&v.every((y,b)=>sr(y.parameters,I[b].parameters))}(v.url,I.url);return y&&!(!v.parent!=!I.parent)&&(!v.parent||$a(v.parent,I.parent))}function Go(v,I,y){if(y&&v.shouldReuseRoute(I.value,y.value.snapshot)){const b=y.value;b._futureSnapshot=I.value;const N=function Wo(v,I,y){return I.children.map(b=>{for(const N of y.children)if(v.shouldReuseRoute(b.value,N.value.snapshot))return Go(v,b,N);return Go(v,b)})}(v,I,y);return new gs(b,N)}{if(v.shouldAttach(I.value)){const $=v.retrieve(I.value);if(null!==$){const G=$.route;return G.value._futureSnapshot=I.value,G.children=I.children.map(Ee=>Go(v,Ee)),G}}const b=function Ko(v){return new Ho(new ie.X(v.url),new ie.X(v.params),new ie.X(v.queryParams),new ie.X(v.fragment),new ie.X(v.data),v.outlet,v.component,v)}(I.value),N=I.children.map($=>Go(v,$));return new gs(b,N)}}const ja="ngNavigationCancelingError";function So(v,I){const{redirectTo:y,navigationBehaviorOptions:b}=xn(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,N=za(!1,0,I);return N.url=y,N.navigationBehaviorOptions=b,N}function za(v,I,y){const b=new Error("NavigationCancelingError: "+(v||""));return b[ja]=!0,b.cancellationCode=I,y&&(b.url=y),b}function Ku(v){return uo(v)&&xn(v.url)}function uo(v){return v&&v[ja]}class dc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new as,this.attachRef=null}}let as=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(y,b){const N=this.getOrCreateContext(y);N.outlet=b,this.contexts.set(y,N)}onChildOutletDestroyed(y){const b=this.getContext(y);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let b=this.getContext(y);return b||(b=new dc,this.contexts.set(y,b)),b}getContext(y){return this.contexts.get(y)||null}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=D.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const pa=!1;let Ha=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=lt,this.activateEvents=new D.vpe,this.deactivateEvents=new D.vpe,this.attachEvents=new D.vpe,this.detachEvents=new D.vpe,this.parentContexts=(0,D.f3M)(as),this.location=(0,D.f3M)(D.s_b),this.changeDetector=(0,D.f3M)(D.sBO),this.environmentInjector=(0,D.f3M)(D.lqb)}ngOnChanges(y){if(y.name){const{firstChange:b,previousValue:N}=y.name;if(b)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D.vHH(4012,pa);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D.vHH(4012,pa);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D.vHH(4012,pa);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,b){this.activated=y,this._activatedRoute=b,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,b){if(this.isActivated)throw new D.vHH(4013,pa);this._activatedRoute=y;const N=this.location,G=y.snapshot.component,Ee=this.parentContexts.getOrCreateContext(this.name).children,Ke=new ji(y,Ee,N.injector);if(b&&function yu(v){return!!v.resolveComponentFactory}(b)){const rt=b.resolveComponentFactory(G);this.activated=N.createComponent(rt,N.length,Ke)}else this.activated=N.createComponent(G,{index:N.length,injector:Ke,environmentInjector:b??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275dir=D.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[D.TTD]}),v})();class ji{constructor(I,y,b){this.route=I,this.childContexts=y,this.parent=b}get(I,y){return I===Ho?this.route:I===as?this.childContexts:this.parent.get(I,y)}}let us=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275cmp=D.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[D.jDz],decls:1,vars:0,template:function(y,b){1&y&&D._UZ(0,"router-outlet")},dependencies:[Ha],encapsulation:2}),v})();function qo(v,I){return v.providers&&!v._injector&&(v._injector=(0,D.MMx)(v.providers,I,`Route: ${v.path}`)),v._injector??I}function Ss(v){const I=v.children&&v.children.map(Ss),y=I?{...v,children:I}:{...v};return!y.component&&!y.loadComponent&&(I||y.loadChildren)&&y.outlet&&y.outlet!==lt&&(y.component=us),y}function ri(v){return v.outlet||lt}function rr(v,I){const y=v.filter(b=>ri(b)===I);return y.push(...v.filter(b=>ri(b)!==I)),y}function bs(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let I=v.parent;I;I=I.parent){const y=I.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Gs{constructor(I,y,b,N){this.routeReuseStrategy=I,this.futureState=y,this.currState=b,this.forwardEvent=N}activate(I){const y=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,b,I),Va(this.futureState.root),this.activateChildRoutes(y,b,I)}deactivateChildRoutes(I,y,b){const N=os(y);I.children.forEach($=>{const G=$.value.outlet;this.deactivateRoutes($,N[G],b),delete N[G]}),Sn(N,($,G)=>{this.deactivateRouteAndItsChildren($,b)})}deactivateRoutes(I,y,b){const N=I.value,$=y?y.value:null;if(N===$)if(N.component){const G=b.getContext(N.outlet);G&&this.deactivateChildRoutes(I,y,G.children)}else this.deactivateChildRoutes(I,y,b);else $&&this.deactivateRouteAndItsChildren(y,b)}deactivateRouteAndItsChildren(I,y){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,y):this.deactivateRouteAndOutlet(I,y)}detachAndStoreRouteSubtree(I,y){const b=y.getContext(I.value.outlet),N=b&&I.value.component?b.children:y,$=os(I);for(const G of Object.keys($))this.deactivateRouteAndItsChildren($[G],N);if(b&&b.outlet){const G=b.outlet.detach(),Ee=b.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:G,route:I,contexts:Ee})}}deactivateRouteAndOutlet(I,y){const b=y.getContext(I.value.outlet),N=b&&I.value.component?b.children:y,$=os(I);for(const G of Object.keys($))this.deactivateRouteAndItsChildren($[G],N);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.resolver=null,b.route=null)}activateChildRoutes(I,y,b){const N=os(y);I.children.forEach($=>{this.activateRoutes($,N[$.value.outlet],b),this.forwardEvent(new mu($.value.snapshot))}),I.children.length&&this.forwardEvent(new hr(I.value.snapshot))}activateRoutes(I,y,b){const N=I.value,$=y?y.value:null;if(Va(N),N===$)if(N.component){const G=b.getOrCreateContext(N.outlet);this.activateChildRoutes(I,y,G.children)}else this.activateChildRoutes(I,y,b);else if(N.component){const G=b.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Ee=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),G.children.onOutletReAttached(Ee.contexts),G.attachRef=Ee.componentRef,G.route=Ee.route.value,G.outlet&&G.outlet.attach(Ee.componentRef,Ee.route.value),Va(Ee.route.value),this.activateChildRoutes(I,null,G.children)}else{const Ee=bs(N.snapshot),Ke=Ee?.get(D._Vd)??null;G.attachRef=null,G.route=N,G.resolver=Ke,G.injector=Ee,G.outlet&&G.outlet.activateWith(N,G.injector),this.activateChildRoutes(I,null,G.children)}}else this.activateChildRoutes(I,null,b)}}class ci{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class bo{constructor(I,y){this.component=I,this.route=y}}function Ao(v,I,y){const b=v._root;return Ws(b,I?I._root:null,y,[b.value])}function Di(v,I){const y=Symbol(),b=I.get(v,y);return b===y?"function"!=typeof v||(0,D.Z0I)(v)?I.get(v):v:b}function Ws(v,I,y,b,N={canDeactivateChecks:[],canActivateChecks:[]}){const $=os(I);return v.children.forEach(G=>{(function lo(v,I,y,b,N={canDeactivateChecks:[],canActivateChecks:[]}){const $=v.value,G=I?I.value:null,Ee=y?y.getContext(v.value.outlet):null;if(G&&$.routeConfig===G.routeConfig){const Ke=function fn(v,I,y){if("function"==typeof y)return y(v,I);switch(y){case"pathParamsChange":return!or(v.url,I.url);case"pathParamsOrQueryParamsChange":return!or(v.url,I.url)||!sr(v.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$a(v,I)||!sr(v.queryParams,I.queryParams);default:return!$a(v,I)}}(G,$,$.routeConfig.runGuardsAndResolvers);Ke?N.canActivateChecks.push(new ci(b)):($.data=G.data,$._resolvedData=G._resolvedData),Ws(v,I,$.component?Ee?Ee.children:null:y,b,N),Ke&&Ee&&Ee.outlet&&Ee.outlet.isActivated&&N.canDeactivateChecks.push(new bo(Ee.outlet.component,G))}else G&&ys(I,Ee,N),N.canActivateChecks.push(new ci(b)),Ws(v,null,$.component?Ee?Ee.children:null:y,b,N)})(G,$[G.value.outlet],y,b.concat([G.value]),N),delete $[G.value.outlet]}),Sn($,(G,Ee)=>ys(G,y.getContext(Ee),N)),N}function ys(v,I,y){const b=os(v),N=v.value;Sn(b,($,G)=>{ys($,N.component?I?I.children.getContext(G):null:I,y)}),y.canDeactivateChecks.push(new bo(N.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,N))}function ma(v){return"function"==typeof v}function co(v){return v instanceof he||"EmptyError"===v?.name}const Ro=Symbol("INITIAL_VALUE");function lr(){return(0,gt.w)(v=>(0,ye.a)(v.map(I=>I.pipe((0,dt.q)(1),(0,bt.O)(Ro)))).pipe((0,Me.U)(I=>{for(const y of I)if(!0!==y){if(y===Ro)return Ro;if(!1===y||y instanceof nr)return y}return!0}),(0,be.h)(I=>I!==Ro),(0,dt.q)(1)))}function qi(v){return(0,te.z)((0,Et.b)(I=>{if(xn(I))throw So(0,I)}),(0,Me.U)(I=>!0===I))}const mi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ls(v,I,y,b,N){const $=Po(v,I,y);return $.matched?function Mo(v,I,y,b){const N=I.canMatch;if(!N||0===N.length)return(0,q.of)(!0);const $=N.map(G=>{const Ee=Di(G,v);return Tt(function vu(v){return v&&ma(v.canMatch)}(Ee)?Ee.canMatch(I,y):v.runInContext(()=>Ee(I,y)))});return(0,q.of)($).pipe(lr(),qi())}(b=qo(I,b),I,y).pipe((0,Me.U)(G=>!0===G?$:{...mi})):(0,q.of)($)}function Po(v,I,y){if(""===I.path)return"full"===I.pathMatch&&(v.hasChildren()||y.length>0)?{...mi}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const N=(I.matcher||Rr)(y,v,I);if(!N)return{...mi};const $={};Sn(N.posParams,(Ee,Ke)=>{$[Ke]=Ee.path});const G=N.consumed.length>0?{...$,...N.consumed[N.consumed.length-1].parameters}:$;return{matched:!0,consumedSegments:N.consumed,remainingSegments:y.slice(N.consumed.length),parameters:G,positionalParamSegments:N.posParams??{}}}function Ar(v,I,y,b){if(y.length>0&&function zi(v,I,y){return y.some(b=>fo(v,I,b)&&ri(b)!==lt)}(v,y,b)){const $=new Vt(I,function Xu(v,I,y,b){const N={};N[lt]=b,b._sourceSegment=v,b._segmentIndexShift=I.length;for(const $ of y)if(""===$.path&&ri($)!==lt){const G=new Vt([],{});G._sourceSegment=v,G._segmentIndexShift=I.length,N[ri($)]=G}return N}(v,I,b,new Vt(y,v.children)));return $._sourceSegment=v,$._segmentIndexShift=I.length,{segmentGroup:$,slicedSegments:[]}}if(0===y.length&&function Wr(v,I,y){return y.some(b=>fo(v,I,b))}(v,y,b)){const $=new Vt(v.segments,function Ll(v,I,y,b,N){const $={};for(const G of b)if(fo(v,y,G)&&!N[ri(G)]){const Ee=new Vt([],{});Ee._sourceSegment=v,Ee._segmentIndexShift=I.length,$[ri(G)]=Ee}return{...N,...$}}(v,I,y,b,v.children));return $._sourceSegment=v,$._segmentIndexShift=I.length,{segmentGroup:$,slicedSegments:y}}const N=new Vt(v.segments,v.children);return N._sourceSegment=v,N._segmentIndexShift=I.length,{segmentGroup:N,slicedSegments:y}}function fo(v,I,y){return(!(v.hasChildren()||I.length>0)||"full"!==y.pathMatch)&&""===y.path}function Ae(v,I,y,b){return!!(ri(v)===b||b!==lt&&fo(I,y,v))&&("**"===v.path||Po(I,v,y).matched)}function Ks(v,I,y){return 0===I.length&&!v.children[y]}const Qa=!1;class As{constructor(I){this.segmentGroup=I||null}}class Eu{constructor(I){this.urlTree=I}}function po(v){return(0,ee._)(new As(v))}function Ya(v){return(0,ee._)(new Eu(v))}class Iu{constructor(I,y,b,N,$){this.injector=I,this.configLoader=y,this.urlSerializer=b,this.urlTree=N,this.config=$,this.allowRedirects=!0}apply(){const I=Ar(this.urlTree.root,[],[],this.config).segmentGroup,y=new Vt(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,y,lt).pipe((0,Me.U)($=>this.createUrlTree(nt($),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Le.K)($=>{if($ instanceof Eu)return this.allowRedirects=!1,this.match($.urlTree);throw $ instanceof As?this.noMatchError($):$}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,lt).pipe((0,Me.U)(N=>this.createUrlTree(nt(N),I.queryParams,I.fragment))).pipe((0,Le.K)(N=>{throw N instanceof As?this.noMatchError(N):N}))}noMatchError(I){return new D.vHH(4002,Qa)}createUrlTree(I,y,b){const N=Be(I);return new nr(N,y,b)}expandSegmentGroup(I,y,b,N){return 0===b.segments.length&&b.hasChildren()?this.expandChildren(I,y,b).pipe((0,Me.U)($=>new Vt([],$))):this.expandSegment(I,b,y,b.segments,N,!0)}expandChildren(I,y,b){const N=[];for(const $ of Object.keys(b.children))"primary"===$?N.unshift($):N.push($);return(0,k.D)(N).pipe((0,gn.b)($=>{const G=b.children[$],Ee=rr(y,$);return this.expandSegmentGroup(I,Ee,G,$).pipe((0,Me.U)(Ke=>({segment:Ke,outlet:$})))}),Ye(($,G)=>($[G.outlet]=G.segment,$),{}),yt())}expandSegment(I,y,b,N,$,G){return(0,k.D)(b).pipe((0,gn.b)(Ee=>this.expandSegmentAgainstRoute(I,y,b,Ee,N,$,G).pipe((0,Le.K)(rt=>{if(rt instanceof As)return(0,q.of)(null);throw rt}))),At(Ee=>!!Ee),(0,Le.K)((Ee,Ke)=>{if(co(Ee))return Ks(y,N,$)?(0,q.of)(new Vt([],{})):po(y);throw Ee}))}expandSegmentAgainstRoute(I,y,b,N,$,G,Ee){return Ae(N,y,$,G)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(I,y,N,$,G):Ee&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,y,b,N,$,G):po(y):po(y)}expandSegmentAgainstRouteUsingRedirect(I,y,b,N,$,G){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,b,N,G):this.expandRegularSegmentAgainstRouteUsingRedirect(I,y,b,N,$,G)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,y,b,N){const $=this.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?Ya($):this.lineralizeSegments(b,$).pipe((0,oe.z)(G=>{const Ee=new Vt(G,{});return this.expandSegment(I,Ee,y,G,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,y,b,N,$,G){const{matched:Ee,consumedSegments:Ke,remainingSegments:rt,positionalParamSegments:it}=Po(y,N,$);if(!Ee)return po(y);const Rt=this.applyRedirectCommands(Ke,N.redirectTo,it);return N.redirectTo.startsWith("/")?Ya(Rt):this.lineralizeSegments(N,Rt).pipe((0,oe.z)(Nr=>this.expandSegment(I,y,b,Nr.concat(rt),G,!1)))}matchSegmentAgainstRoute(I,y,b,N,$){return"**"===b.path?(I=qo(b,I),b.loadChildren?(b._loadedRoutes?(0,q.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):this.configLoader.loadChildren(I,b)).pipe((0,Me.U)(Ee=>(b._loadedRoutes=Ee.routes,b._loadedInjector=Ee.injector,new Vt(N,{})))):(0,q.of)(new Vt(N,{}))):ls(y,b,N,I).pipe((0,gt.w)(({matched:G,consumedSegments:Ee,remainingSegments:Ke})=>G?this.getChildConfig(I=b._injector??I,b,N).pipe((0,oe.z)(it=>{const Rt=it.injector??I,Nr=it.routes,{segmentGroup:Gn,slicedSegments:Os}=Ar(y,Ee,Ke,Nr),ba=new Vt(Gn.segments,Gn.children);if(0===Os.length&&ba.hasChildren())return this.expandChildren(Rt,Nr,ba).pipe((0,Me.U)(wn=>new Vt(Ee,wn)));if(0===Nr.length&&0===Os.length)return(0,q.of)(new Vt(Ee,{}));const Ni=ri(b)===$;return this.expandSegment(Rt,ba,Nr,Os,Ni?lt:$,!0).pipe((0,Me.U)(wr=>new Vt(Ee.concat(wr.segments),wr.children)))})):po(y)))}getChildConfig(I,y,b){return y.children?(0,q.of)({routes:y.children,injector:I}):y.loadChildren?void 0!==y._loadedRoutes?(0,q.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function xi(v,I,y,b){const N=I.canLoad;if(void 0===N||0===N.length)return(0,q.of)(!0);const $=N.map(G=>{const Ee=Di(G,v);return Tt(function _u(v){return v&&ma(v.canLoad)}(Ee)?Ee.canLoad(I,y):v.runInContext(()=>Ee(I,y)))});return(0,q.of)($).pipe(lr(),qi())}(I,y,b).pipe((0,oe.z)(N=>N?this.configLoader.loadChildren(I,y).pipe((0,Et.b)($=>{y._loadedRoutes=$.routes,y._loadedInjector=$.injector})):function Za(v){return(0,ee._)(za(Qa,3))}())):(0,q.of)({routes:[],injector:I})}lineralizeSegments(I,y){let b=[],N=y.root;for(;;){if(b=b.concat(N.segments),0===N.numberOfChildren)return(0,q.of)(b);if(N.numberOfChildren>1||!N.children[lt])return I.redirectTo,(0,ee._)(new D.vHH(4e3,Qa));N=N.children[lt]}}applyRedirectCommands(I,y,b){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),I,b)}applyRedirectCreateUrlTree(I,y,b,N){const $=this.createSegmentGroup(I,y.root,b,N);return new nr($,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(I,y){const b={};return Sn(I,(N,$)=>{if("string"==typeof N&&N.startsWith(":")){const Ee=N.substring(1);b[$]=y[Ee]}else b[$]=N}),b}createSegmentGroup(I,y,b,N){const $=this.createSegments(I,y.segments,b,N);let G={};return Sn(y.children,(Ee,Ke)=>{G[Ke]=this.createSegmentGroup(I,Ee,b,N)}),new Vt($,G)}createSegments(I,y,b,N){return y.map($=>$.path.startsWith(":")?this.findPosParam(I,$,N):this.findOrReturn($,b))}findPosParam(I,y,b){const N=b[y.path.substring(1)];if(!N)throw new D.vHH(4001,Qa);return N}findOrReturn(I,y){let b=0;for(const N of y){if(N.path===I.path)return y.splice(b),N;b++}return I}}class vr{}class fc{constructor(I,y,b,N,$,G,Ee){this.injector=I,this.rootComponentType=y,this.config=b,this.urlTree=N,this.url=$,this.paramsInheritanceStrategy=G,this.urlSerializer=Ee}recognize(){const I=Ar(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,lt).pipe((0,Me.U)(y=>{if(null===y)return null;const b=new Ua([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},lt,this.rootComponentType,null,this.urlTree.root,-1,{}),N=new gs(b,y),$=new Gu(this.url,N);return this.inheritParamsAndData($._root),$}))}inheritParamsAndData(I){const y=I.value,b=Hs(y,this.paramsInheritanceStrategy);y.params=Object.freeze(b.params),y.data=Object.freeze(b.data),I.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(I,y,b,N){return 0===b.segments.length&&b.hasChildren()?this.processChildren(I,y,b):this.processSegment(I,y,b,b.segments,N)}processChildren(I,y,b){return(0,k.D)(Object.keys(b.children)).pipe((0,gn.b)(N=>{const $=b.children[N],G=rr(y,N);return this.processSegmentGroup(I,G,$,N)}),Ye((N,$)=>N&&$?(N.push(...$),N):null),function ht(v,I=!1){return(0,ze.e)((y,b)=>{let N=0;y.subscribe((0,ot.x)(b,$=>{const G=v($,N++);(G||I)&&b.next($),!G&&b.complete()}))})}(N=>null!==N),mt(null),yt(),(0,Me.U)(N=>{if(null===N)return null;const $=Xo(N);return function Tu(v){v.sort((I,y)=>I.value.outlet===lt?-1:y.value.outlet===lt?1:I.value.outlet.localeCompare(y.value.outlet))}($),$}))}processSegment(I,y,b,N,$){return(0,k.D)(y).pipe((0,gn.b)(G=>this.processSegmentAgainstRoute(G._injector??I,G,b,N,$)),At(G=>!!G),(0,Le.K)(G=>{if(co(G))return Ks(b,N,$)?(0,q.of)([]):(0,q.of)(null);throw G}))}processSegmentAgainstRoute(I,y,b,N,$){if(y.redirectTo||!Ae(y,b,N,$))return(0,q.of)(null);let G;if("**"===y.path){const Ee=N.length>0?qr(N).parameters:{},Ke=A(b)+N.length,rt=new Ua(N,Ee,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(y),ri(y),y.component??y._loadedComponent??null,y,hi(b),Ke,j(y));G=(0,q.of)({snapshot:rt,consumedSegments:[],remainingSegments:[]})}else G=ls(b,y,N,I).pipe((0,Me.U)(({matched:Ee,consumedSegments:Ke,remainingSegments:rt,parameters:it})=>{if(!Ee)return null;const Rt=A(b)+Ke.length;return{snapshot:new Ua(Ke,it,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,M(y),ri(y),y.component??y._loadedComponent??null,y,hi(b),Rt,j(y)),consumedSegments:Ke,remainingSegments:rt}}));return G.pipe((0,gt.w)(Ee=>{if(null===Ee)return(0,q.of)(null);const{snapshot:Ke,consumedSegments:rt,remainingSegments:it}=Ee;I=y._injector??I;const Rt=y._loadedInjector??I,Nr=function di(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(y),{segmentGroup:Gn,slicedSegments:Os}=Ar(b,rt,it,Nr.filter(Ni=>void 0===Ni.redirectTo));if(0===Os.length&&Gn.hasChildren())return this.processChildren(Rt,Nr,Gn).pipe((0,Me.U)(Ni=>null===Ni?null:[new gs(Ke,Ni)]));if(0===Nr.length&&0===Os.length)return(0,q.of)([new gs(Ke,[])]);const ba=ri(y)===$;return this.processSegment(Rt,Nr,Gn,Os,ba?lt:$).pipe((0,Me.U)(Ni=>null===Ni?null:[new gs(Ke,Ni)]))}))}}function Ea(v){const I=v.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Xo(v){const I=[],y=new Set;for(const b of v){if(!Ea(b)){I.push(b);continue}const N=I.find($=>b.value.routeConfig===$.value.routeConfig);void 0!==N?(N.children.push(...b.children),y.add(N)):I.push(b)}for(const b of y){const N=Xo(b.children);I.push(new gs(b.value,N))}return I.filter(b=>!y.has(b))}function hi(v){let I=v;for(;I._sourceSegment;)I=I._sourceSegment;return I}function A(v){let I=v,y=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,y+=I._segmentIndexShift??0;return y-1}function M(v){return v.data||{}}function j(v){return v.resolve||{}}function sn(v){return"string"==typeof v.title||null===v.title}function Un(v){return(0,gt.w)(I=>{const y=v(I);return y?(0,k.D)(y).pipe((0,Me.U)(()=>I)):(0,q.of)(I)})}const qn=new D.OlP("ROUTES");let oi=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,D.f3M)(D.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,q.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const b=Tt(y.loadComponent()).pipe((0,Me.U)(Zn),(0,Et.b)($=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=$}),(0,pt.x)(()=>{this.componentLoaders.delete(y)})),N=new $e.c(b,()=>new Ge.x).pipe((0,rn.x)());return this.componentLoaders.set(y,N),N}loadChildren(y,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,q.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const $=this.loadModuleFactoryOrRoutes(b.loadChildren).pipe((0,Me.U)(Ee=>{this.onLoadEndListener&&this.onLoadEndListener(b);let Ke,rt,it=!1;Array.isArray(Ee)?rt=Ee:(Ke=Ee.create(y).injector,rt=ui(Ke.get(qn,[],D.XFs.Self|D.XFs.Optional)));return{routes:rt.map(Ss),injector:Ke}}),(0,pt.x)(()=>{this.childrenLoaders.delete(b)})),G=new $e.c($,()=>new Ge.x).pipe((0,rn.x)());return this.childrenLoaders.set(b,G),G}loadModuleFactoryOrRoutes(y){return Tt(y()).pipe((0,Me.U)(Zn),(0,oe.z)(b=>b instanceof D.YKP||Array.isArray(b)?(0,q.of)(b):(0,k.D)(this.compiler.compileModuleAsync(b))))}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=D.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Zn(v){return function Rs(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let ir=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ge.x,this.configLoader=(0,D.f3M)(oi),this.environmentInjector=(0,D.f3M)(D.lqb),this.urlSerializer=(0,D.f3M)(Hn),this.rootContexts=(0,D.f3M)(as),this.navigationId=0,this.afterPreactivation=()=>(0,q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new Yr(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new gi(N))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:b})}setupNavigations(y){return this.transitions=new ie.X({id:0,targetPageId:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:is,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,be.h)(b=>0!==b.id),(0,Me.U)(b=>({...b,extractedUrl:y.urlHandlingStrategy.extract(b.rawUrl)})),(0,gt.w)(b=>{let N=!1,$=!1;return(0,q.of)(b).pipe((0,Et.b)(G=>{this.currentNavigation={id:G.id,initialUrl:G.rawUrl,extractedUrl:G.extractedUrl,trigger:G.source,extras:G.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,gt.w)(G=>{const Ee=y.browserUrlTree.toString(),Ke=!y.navigated||G.extractedUrl.toString()!==Ee||Ee!==y.currentUrlTree.toString();if(!Ke&&"reload"!==(G.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const it="";return this.events.next(new Qe(G.id,y.serializeUrl(b.rawUrl),it,0)),y.rawUrlTree=G.rawUrl,G.resolve(null),Fe.E}if(y.urlHandlingStrategy.shouldProcessUrl(G.rawUrl))return ds(G.source)&&(y.browserUrlTree=G.extractedUrl),(0,q.of)(G).pipe((0,gt.w)(it=>{const Rt=this.transitions?.getValue();return this.events.next(new we(it.id,this.urlSerializer.serialize(it.extractedUrl),it.source,it.restoredState)),Rt!==this.transitions?.getValue()?Fe.E:Promise.resolve(it)}),function Zr(v,I,y,b){return(0,gt.w)(N=>function qs(v,I,y,b,N){return new Iu(v,I,y,b,N).apply()}(v,I,y,N.extractedUrl,b).pipe((0,Me.U)($=>({...N,urlAfterRedirects:$}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,y.config),(0,Et.b)(it=>{this.currentNavigation={...this.currentNavigation,finalUrl:it.urlAfterRedirects},b.urlAfterRedirects=it.urlAfterRedirects}),function Z(v,I,y,b,N){return(0,oe.z)($=>function go(v,I,y,b,N,$,G="emptyOnly"){return new fc(v,I,y,b,N,G,$).recognize().pipe((0,gt.w)(Ee=>null===Ee?function xo(v){return new me.y(I=>I.error(v))}(new vr):(0,q.of)(Ee)))}(v,I,y,$.urlAfterRedirects,b.serialize($.urlAfterRedirects),b,N).pipe((0,Me.U)(G=>({...$,targetSnapshot:G}))))}(this.environmentInjector,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,Et.b)(it=>{if(b.targetSnapshot=it.targetSnapshot,"eager"===y.urlUpdateStrategy){if(!it.extras.skipLocationChange){const Nr=y.urlHandlingStrategy.merge(it.urlAfterRedirects,it.rawUrl);y.setBrowserUrl(Nr,it)}y.browserUrlTree=it.urlAfterRedirects}const Rt=new tn(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot);this.events.next(Rt)}));if(Ke&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:it,extractedUrl:Rt,source:Nr,restoredState:Gn,extras:Os}=G,ba=new we(it,this.urlSerializer.serialize(Rt),Nr,Gn);this.events.next(ba);const Ni=zs(Rt,this.rootComponentType).snapshot;return b={...G,targetSnapshot:Ni,urlAfterRedirects:Rt,extras:{...Os,skipLocationChange:!1,replaceUrl:!1}},(0,q.of)(b)}{const it="";return this.events.next(new Qe(G.id,y.serializeUrl(b.extractedUrl),it,1)),y.rawUrlTree=G.rawUrl,G.resolve(null),Fe.E}}),(0,Et.b)(G=>{const Ee=new Pn(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(Ee)}),(0,Me.U)(G=>b={...G,guards:Ao(G.targetSnapshot,G.currentSnapshot,this.rootContexts)}),function Yu(v,I){return(0,oe.z)(y=>{const{targetSnapshot:b,currentSnapshot:N,guards:{canActivateChecks:$,canDeactivateChecks:G}}=y;return 0===G.length&&0===$.length?(0,q.of)({...y,guardsResult:!0}):function ho(v,I,y,b){return(0,k.D)(v).pipe((0,oe.z)(N=>function va(v,I,y,b,N){const $=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!$||0===$.length)return(0,q.of)(!0);const G=$.map(Ee=>{const Ke=bs(I)??N,rt=Di(Ee,Ke);return Tt(function ii(v){return v&&ma(v.canDeactivate)}(rt)?rt.canDeactivate(v,I,y,b):Ke.runInContext(()=>rt(v,I,y,b))).pipe(At())});return(0,q.of)(G).pipe(lr())}(N.component,N.route,y,I,b)),At(N=>!0!==N,!0))}(G,b,N,v).pipe((0,oe.z)(Ee=>Ee&&function Zo(v){return"boolean"==typeof v}(Ee)?function _s(v,I,y,b){return(0,k.D)(I).pipe((0,gn.b)(N=>(0,_e.z)(function Zu(v,I){return null!==v&&I&&I(new Ti(v)),(0,q.of)(!0)}(N.route.parent,b),function _a(v,I){return null!==v&&I&&I(new ss(v)),(0,q.of)(!0)}(N.route,b),function qa(v,I,y){const b=I[I.length-1],$=I.slice(0,I.length-1).reverse().map(G=>function ms(v){const I=v.routeConfig?v.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:v,guards:I}:null}(G)).filter(G=>null!==G).map(G=>(0,Te.P)(()=>{const Ee=G.guards.map(Ke=>{const rt=bs(G.node)??y,it=Di(Ke,rt);return Tt(function Qu(v){return v&&ma(v.canActivateChild)}(it)?it.canActivateChild(b,v):rt.runInContext(()=>it(b,v))).pipe(At())});return(0,q.of)(Ee).pipe(lr())}));return(0,q.of)($).pipe(lr())}(v,N.path,y),function Ka(v,I,y){const b=I.routeConfig?I.routeConfig.canActivate:null;if(!b||0===b.length)return(0,q.of)(!0);const N=b.map($=>(0,Te.P)(()=>{const G=bs(I)??y,Ee=Di($,G);return Tt(function ya(v){return v&&ma(v.canActivate)}(Ee)?Ee.canActivate(I,v):G.runInContext(()=>Ee(I,v))).pipe(At())}));return(0,q.of)(N).pipe(lr())}(v,N.route,y))),At(N=>!0!==N,!0))}(b,$,v,I):(0,q.of)(Ee)),(0,Me.U)(Ee=>({...y,guardsResult:Ee})))})}(this.environmentInjector,G=>this.events.next(G)),(0,Et.b)(G=>{if(b.guardsResult=G.guardsResult,xn(G.guardsResult))throw So(0,G.guardsResult);const Ee=new dn(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot,!!G.guardsResult);this.events.next(Ee)}),(0,be.h)(G=>!!G.guardsResult||(y.restoreHistory(G),this.cancelNavigationTransition(G,"",3),!1)),Un(G=>{if(G.guards.canActivateChecks.length)return(0,q.of)(G).pipe((0,Et.b)(Ee=>{const Ke=new Rn(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot);this.events.next(Ke)}),(0,gt.w)(Ee=>{let Ke=!1;return(0,q.of)(Ee).pipe(function Oe(v,I){return(0,oe.z)(y=>{const{targetSnapshot:b,guards:{canActivateChecks:N}}=y;if(!N.length)return(0,q.of)(y);let $=0;return(0,k.D)(N).pipe((0,gn.b)(G=>function Je(v,I,y,b){const N=v.routeConfig,$=v._resolve;return void 0!==N?.title&&!sn(N)&&($[ln]=N.title),function Pt(v,I,y,b){const N=function Yn(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===N.length)return(0,q.of)({});const $={};return(0,k.D)(N).pipe((0,oe.z)(G=>function Fn(v,I,y,b){const N=bs(I)??b,$=Di(v,N);return Tt($.resolve?$.resolve(I,y):N.runInContext(()=>$(I,y)))}(v[G],I,y,b).pipe(At(),(0,Et.b)(Ee=>{$[G]=Ee}))),et(1),(0,Bt.h)($),(0,Le.K)(G=>co(G)?Fe.E:(0,ee._)(G)))}($,v,I,b).pipe((0,Me.U)(G=>(v._resolvedData=G,v.data=Hs(v,y).resolve,N&&sn(N)&&(v.data[ln]=N.title),null)))}(G.route,b,v,I)),(0,Et.b)(()=>$++),et(1),(0,oe.z)(G=>$===N.length?(0,q.of)(y):Fe.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,Et.b)({next:()=>Ke=!0,complete:()=>{Ke||(y.restoreHistory(Ee),this.cancelNavigationTransition(Ee,"",2))}}))}),(0,Et.b)(Ee=>{const Ke=new Pi(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot);this.events.next(Ke)}))}),Un(G=>{const Ee=Ke=>{const rt=[];Ke.routeConfig?.loadComponent&&!Ke.routeConfig._loadedComponent&&rt.push(this.configLoader.loadComponent(Ke.routeConfig).pipe((0,Et.b)(it=>{Ke.component=it}),(0,Me.U)(()=>{})));for(const it of Ke.children)rt.push(...Ee(it));return rt};return(0,ye.a)(Ee(G.targetSnapshot.root)).pipe(mt(),(0,dt.q)(1))}),Un(()=>this.afterPreactivation()),(0,Me.U)(G=>{const Ee=function Wu(v,I,y){const b=Go(v,I._root,y?y._root:void 0);return new $i(b,I)}(y.routeReuseStrategy,G.targetSnapshot,G.currentRouterState);return b={...G,targetRouterState:Ee}}),(0,Et.b)(G=>{y.currentUrlTree=G.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl),y.routerState=G.targetRouterState,"deferred"===y.urlUpdateStrategy&&(G.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,G),y.browserUrlTree=G.urlAfterRedirects)}),((v,I,y)=>(0,Me.U)(b=>(new Gs(I,b.targetRouterState,b.currentRouterState,y).activate(v),b)))(this.rootContexts,y.routeReuseStrategy,G=>this.events.next(G)),(0,dt.q)(1),(0,Et.b)({next:G=>{N=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new ce(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),y.titleStrategy?.updateTitle(G.targetRouterState.snapshot),G.resolve(!0)},complete:()=>{N=!0}}),(0,pt.x)(()=>{N||$||this.cancelNavigationTransition(b,"",1),this.currentNavigation?.id===b.id&&(this.currentNavigation=null)}),(0,Le.K)(G=>{if($=!0,uo(G)){Ku(G)||(y.navigated=!0,y.restoreHistory(b,!0));const Ee=new pe(b.id,this.urlSerializer.serialize(b.extractedUrl),G.message,G.cancellationCode);if(this.events.next(Ee),Ku(G)){const Ke=y.urlHandlingStrategy.merge(G.url,y.rawUrlTree),rt={skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||ds(b.source)};y.scheduleNavigation(Ke,is,null,rt,{resolve:b.resolve,reject:b.reject,promise:b.promise})}else b.resolve(!1)}else{y.restoreHistory(b,!0);const Ee=new at(b.id,this.urlSerializer.serialize(b.extractedUrl),G,b.targetSnapshot??void 0);this.events.next(Ee);try{b.resolve(y.errorHandler(G))}catch(Ke){b.reject(Ke)}}return Fe.E}))}))}cancelNavigationTransition(y,b,N){const $=new pe(y.id,this.urlSerializer.serialize(y.extractedUrl),b,N);this.events.next($),y.resolve(!1)}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=D.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function ds(v){return v!==is}let mo=(()=>{class v{buildTitle(y){let b,N=y.root;for(;void 0!==N;)b=this.getResolvedTitleForRoute(N)??b,N=N.children.find($=>$.outlet===lt);return b}getResolvedTitleForRoute(y){return y.data[ln]}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=D.Yz7({token:v,factory:function(){return(0,D.f3M)(Ms)},providedIn:"root"}),v})(),Ms=(()=>{class v extends mo{constructor(y){super(),this.title=y}updateTitle(y){const b=this.buildTitle(y);void 0!==b&&this.title.setTitle(b)}}return v.\u0275fac=function(y){return new(y||v)(D.LFG(vn.Dx))},v.\u0275prov=D.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),Fl=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=D.Yz7({token:v,factory:function(){return(0,D.f3M)(el)},providedIn:"root"}),v})();class Ju{shouldDetach(I){return!1}store(I,y){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,y){return I.routeConfig===y.routeConfig}}let el=(()=>{class v extends Ju{}return v.\u0275fac=function(){let I;return function(b){return(I||(I=D.n5z(v)))(b||v)}}(),v.\u0275prov=D.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Ja=new D.OlP("",{providedIn:"root",factory:()=>({})});let Ul=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=D.Yz7({token:v,factory:function(){return(0,D.f3M)(Ps)},providedIn:"root"}),v})(),Ps=(()=>{class v{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,b){return y}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=D.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Cu(v){throw v}function wa(v,I,y){return I.parse("/")}const Bl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Si=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,D.f3M)(D.c2e),this.isNgZoneEnabled=!1,this.options=(0,D.f3M)(Ja,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Cu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,D.f3M)(Ul),this.routeReuseStrategy=(0,D.f3M)(Fl),this.urlCreationStrategy=(0,D.f3M)(ha),this.titleStrategy=(0,D.f3M)(mo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ui((0,D.f3M)(qn,{optional:!0})??[]),this.navigationTransitions=(0,D.f3M)(ir),this.urlSerializer=(0,D.f3M)(Hn),this.location=(0,D.f3M)(_t.Ye),this.isNgZoneEnabled=(0,D.f3M)(D.R0b)instanceof D.R0b&&D.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zs(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId??0},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),is,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const b="popstate"===y.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,b,y.state)},0)}))}navigateToSyncWithBrowser(y,b,N){const $={replaceUrl:!0},G=N?.navigationId?N:null;if(N){const Ke={...N};delete Ke.navigationId,delete Ke.\u0275routerPageId,0!==Object.keys(Ke).length&&($.state=Ke)}const Ee=this.parseUrl(y);this.scheduleNavigation(Ee,b,G,$)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(y){this.config=y.map(Ss),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,b={}){const{relativeTo:N,queryParams:$,fragment:G,queryParamsHandling:Ee,preserveFragment:Ke}=b,rt=Ke?this.currentUrlTree.fragment:G;let it=null;switch(Ee){case"merge":it={...this.currentUrlTree.queryParams,...$};break;case"preserve":it=this.currentUrlTree.queryParams;break;default:it=$||null}return null!==it&&(it=this.removeEmptyProps(it)),this.urlCreationStrategy.createUrlTree(N,this.routerState,this.currentUrlTree,y,it,rt??null)}navigateByUrl(y,b={skipLocationChange:!1}){const N=xn(y)?y:this.parseUrl(y),$=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation($,is,null,b)}navigate(y,b={skipLocationChange:!1}){return function nl(v){for(let I=0;I<v.length;I++){const y=v[I];if(null==y)throw new D.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,b),b)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let b;try{b=this.urlSerializer.parse(y)}catch(N){b=this.malformedUriErrorHandler(N,this.urlSerializer,y)}return b}isActive(y,b){let N;if(N=!0===b?{...Bl}:!1===b?{...jr}:b,xn(y))return li(this.currentUrlTree,y,N);const $=this.parseUrl(y);return li(this.currentUrlTree,$,N)}removeEmptyProps(y){return Object.keys(y).reduce((b,N)=>{const $=y[N];return null!=$&&(b[N]=$),b},{})}scheduleNavigation(y,b,N,$,G){if(this.disposed)return Promise.resolve(!1);let Ee,Ke,rt,it;return G?(Ee=G.resolve,Ke=G.reject,rt=G.promise):rt=new Promise((Rt,Nr)=>{Ee=Rt,Ke=Nr}),it="computed"===this.canceledNavigationResolution?N&&N.\u0275routerPageId?N.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:it,source:b,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:$,resolve:Ee,reject:Ke,promise:rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rt.catch(Rt=>Promise.reject(Rt))}setBrowserUrl(y,b){const N=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(N)||b.extras.replaceUrl){const G={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState(N,"",G)}else{const $={...b.extras.state,...this.generateNgRouterState(b.id,b.targetPageId)};this.location.go(N,"",$)}}restoreHistory(y,b=!1){if("computed"===this.canceledNavigationResolution){const $=this.currentPageId-(this.browserPageId??this.currentPageId);0!==$?this.location.historyGo($):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===$&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,b){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:b}:{navigationId:y}}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=D.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),Ia=(()=>{class v{constructor(y,b,N,$,G,Ee){this.router=y,this.route=b,this.tabIndexAttribute=N,this.renderer=$,this.el=G,this.locationStrategy=Ee,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ge.x;const Ke=G.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ke||"area"===Ke,this.isAnchorElement?this.subscription=y.events.subscribe(rt=>{rt instanceof ce&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,D.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,D.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,D.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,b,N,$,G){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||b||N||$||G||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,D.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,b){const N=this.renderer,$=this.el.nativeElement;null!==b?N.setAttribute($,y,b):N.removeAttribute($,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(y){return new(y||v)(D.Y36(Si),D.Y36(Ho),D.$8M("tabindex"),D.Y36(D.Qsj),D.Y36(D.SBq),D.Y36(_t.S$))},v.\u0275dir=D.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,b){1&y&&D.NdJ("click",function($){return b.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&y&&D.uIk("target",b.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[D.TTD]}),v})();class Du{}let xs=(()=>{class v{constructor(y,b,N,$,G){this.router=y,this.injector=N,this.preloadingStrategy=$,this.loader=G}setUpPreloading(){this.subscription=this.router.events.pipe((0,be.h)(y=>y instanceof ce),(0,gn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,b){const N=[];for(const $ of b){$.providers&&!$._injector&&($._injector=(0,D.MMx)($.providers,y,`Route: ${$.path}`));const G=$._injector??y,Ee=$._loadedInjector??G;($.loadChildren&&!$._loadedRoutes&&void 0===$.canLoad||$.loadComponent&&!$._loadedComponent)&&N.push(this.preloadConfig(G,$)),($.children||$._loadedRoutes)&&N.push(this.processRoutes(Ee,$.children??$._loadedRoutes))}return(0,k.D)(N).pipe((0,Wt.J)())}preloadConfig(y,b){return this.preloadingStrategy.preload(b,()=>{let N;N=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(y,b):(0,q.of)(null);const $=N.pipe((0,oe.z)(G=>null===G?(0,q.of)(void 0):(b._loadedRoutes=G.routes,b._loadedInjector=G.injector,this.processRoutes(G.injector??y,G.routes))));if(b.loadComponent&&!b._loadedComponent){const G=this.loader.loadComponent(b);return(0,k.D)([$,G]).pipe((0,Wt.J)())}return $})}}return v.\u0275fac=function(y){return new(y||v)(D.LFG(Si),D.LFG(D.Sil),D.LFG(D.lqb),D.LFG(Du),D.LFG(oi))},v.\u0275prov=D.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const il=new D.OlP("");let Ca=(()=>{class v{constructor(y,b,N,$,G={}){this.urlSerializer=y,this.transitions=b,this.viewportScroller=N,this.zone=$,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof we?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof ce&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof zo&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zo(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return v.\u0275fac=function(y){D.$Z()},v.\u0275prov=D.Yz7({token:v,factory:v.\u0275fac}),v})();var fi=(()=>((fi=fi||{})[fi.COMPLETE=0]="COMPLETE",fi[fi.FAILED=1]="FAILED",fi[fi.REDIRECTING=2]="REDIRECTING",fi))();const yo=!1;function Oo(v,I){return{\u0275kind:v,\u0275providers:I}}const ko=new D.OlP("",{providedIn:"root",factory:()=>!1});function Jo(){const v=(0,D.f3M)(D.zs3);return I=>{const y=v.get(D.z2F);if(I!==y.components[0])return;const b=v.get(Si),N=v.get($l);1===v.get(ea)&&b.initialNavigation(),v.get(Er,null,D.XFs.Optional)?.setUpPreloading(),v.get(il,null,D.XFs.Optional)?.init(),b.resetRootComponentType(y.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const $l=new D.OlP(yo?"bootstrap done indicator":"",{factory:()=>new Ge.x}),ea=new D.OlP(yo?"initial navigation":"",{providedIn:"root",factory:()=>1});function gc(){let v=[];return v=yo?[{provide:D.Xts,multi:!0,useFactory:()=>{const I=(0,D.f3M)(Si);return()=>I.events.subscribe(y=>{console.group?.(`Router Event: ${y.constructor.name}`),console.log(function oo(v){if(!("type"in v))return`Unknown Router Event: ${v.constructor.name}`;switch(v.type){case 14:return`ActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state}, shouldActivate: ${v.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 2:return`NavigationCancel(id: ${v.id}, url: '${v.url}')`;case 16:return`NavigationSkipped(id: ${v.id}, url: '${v.url}')`;case 1:return`NavigationEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${v.id}, url: '${v.url}', error: ${v.error})`;case 0:return`NavigationStart(id: ${v.id}, url: '${v.url}')`;case 6:return`ResolveEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 5:return`ResolveStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 10:return`RouteConfigLoadEnd(path: ${v.route.path})`;case 9:return`RouteConfigLoadStart(path: ${v.route.path})`;case 4:return`RoutesRecognized(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 15:return`Scroll(anchor: '${v.anchor}', position: '${v.position?`${v.position[0]}, ${v.position[1]}`:null}')`}}(y)),console.log(y),console.groupEnd?.()})}}]:[],Oo(1,v)}const Er=new D.OlP(yo?"router preloader":"");function Ns(v){return Oo(0,[{provide:Er,useExisting:xs},{provide:Du,useExisting:v}])}const bi=!1,jl=new D.OlP(bi?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ta=[_t.Ye,{provide:Hn,useClass:an},Si,as,{provide:Ho,useFactory:function No(v){return v.routerState.root},deps:[Si]},oi,bi?{provide:ko,useValue:!0}:[]];function Qc(){return new D.PXZ("Router",Si)}let Yc=(()=>{class v{constructor(y){}static forRoot(y,b){return{ngModule:v,providers:[ta,bi&&b?.enableTracing?gc().\u0275providers:[],{provide:qn,multi:!0,useValue:y},{provide:jl,useFactory:Zc,deps:[[Si,new D.FiY,new D.tp0]]},{provide:Ja,useValue:b||{}},b?.useHash?{provide:_t.S$,useClass:_t.Do}:{provide:_t.S$,useClass:_t.b0},{provide:il,useFactory:()=>{const v=(0,D.f3M)(_t.EM),I=(0,D.f3M)(D.R0b),y=(0,D.f3M)(Ja),b=(0,D.f3M)(ir),N=(0,D.f3M)(Hn);return y.scrollOffset&&v.setOffset(y.scrollOffset),new Ca(N,b,v,I,y)}},b?.preloadingStrategy?Ns(b.preloadingStrategy).\u0275providers:[],{provide:D.PXZ,multi:!0,useFactory:Qc},b?.initialNavigation?Yi(b):[],[{provide:nu,useFactory:Jo},{provide:D.tb,multi:!0,useExisting:nu}]]}}static forChild(y){return{ngModule:v,providers:[{provide:qn,multi:!0,useValue:y}]}}}return v.\u0275fac=function(y){return new(y||v)(D.LFG(jl,8))},v.\u0275mod=D.oAB({type:v}),v.\u0275inj=D.cJS({imports:[us]}),v})();function Zc(v){if(bi&&v)throw new D.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Yi(v){return["disabled"===v.initialNavigation?Oo(3,[{provide:D.ip1,multi:!0,useFactory:()=>{const I=(0,D.f3M)(Si);return()=>{I.setUpLocationChangeListener()}}},{provide:ea,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?Oo(2,[{provide:ea,useValue:0},{provide:D.ip1,multi:!0,deps:[D.zs3],useFactory:I=>{const y=I.get(_t.V_,Promise.resolve());return()=>y.then(()=>new Promise(b=>{const N=I.get(Si),$=I.get($l);(function tu(v,I){v.events.pipe((0,be.h)(y=>y instanceof ce||y instanceof pe||y instanceof at||y instanceof Qe),(0,Me.U)(y=>y instanceof ce||y instanceof Qe?fi.COMPLETE:y instanceof pe&&(0===y.code||1===y.code)?fi.REDIRECTING:fi.FAILED),(0,be.h)(y=>y!==fi.REDIRECTING),(0,dt.q)(1)).subscribe(()=>{I()})})(N,()=>{b(!0)}),I.get(ir).afterPreactivation=()=>(b(!0),$.closed?(0,q.of)(void 0):$),N.initialNavigation()}))}}]).\u0275providers:[]]}const nu=new D.OlP(bi?"Router Initializer":"")},2951:(Dt,Pe,O)=>{O.d(Pe,{Jn:()=>Hn,qX:()=>nr,Xd:()=>Fr,Mq:()=>Dr,C6:()=>_n,ZF:()=>an,KN:()=>Br});var D=O(5861),k=O(4859),q=O(1877),ie=O(2090);const re=(Ue,Ce)=>Ce.some(ut=>Ue instanceof ut);let he,ye;const te=new WeakMap,ee=new WeakMap,me=new WeakMap,Fe=new WeakMap,$e=new WeakMap;let Me={get(Ue,Ce,ut){if(Ue instanceof IDBTransaction){if("done"===Ce)return ee.get(Ue);if("objectStoreNames"===Ce)return Ue.objectStoreNames||me.get(Ue);if("store"===Ce)return ut.objectStoreNames[1]?void 0:ut.objectStore(ut.objectStoreNames[0])}return be(Ue[Ce])},set:(Ue,Ce,ut)=>(Ue[Ce]=ut,!0),has:(Ue,Ce)=>Ue instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in Ue};function bt(Ue){return"function"==typeof Ue?function dt(Ue){return Ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ue)?function(...Ce){return Ue.apply(oe(this),Ce),be(te.get(this))}:function(...Ce){return be(Ue.apply(oe(this),Ce))}:function(Ce,...ut){const $t=Ue.call(oe(this),Ce,...ut);return me.set($t,Ce.sort?Ce.sort():[Ce]),be($t)}}(Ue):(Ue instanceof IDBTransaction&&function _t(Ue){if(ee.has(Ue))return;const Ce=new Promise((ut,$t)=>{const Xt=()=>{Ue.removeEventListener("complete",Kt),Ue.removeEventListener("error",jt),Ue.removeEventListener("abort",jt)},Kt=()=>{ut(),Xt()},jt=()=>{$t(Ue.error||new DOMException("AbortError","AbortError")),Xt()};Ue.addEventListener("complete",Kt),Ue.addEventListener("error",jt),Ue.addEventListener("abort",jt)});ee.set(Ue,Ce)}(Ue),re(Ue,function _e(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ue,Me):Ue)}function be(Ue){if(Ue instanceof IDBRequest)return function Ge(Ue){const Ce=new Promise((ut,$t)=>{const Xt=()=>{Ue.removeEventListener("success",Kt),Ue.removeEventListener("error",jt)},Kt=()=>{ut(be(Ue.result)),Xt()},jt=()=>{$t(Ue.error),Xt()};Ue.addEventListener("success",Kt),Ue.addEventListener("error",jt)});return Ce.then(ut=>{ut instanceof IDBCursor&&te.set(ut,Ue)}).catch(()=>{}),$e.set(Ce,Ue),Ce}(Ue);if(Fe.has(Ue))return Fe.get(Ue);const Ce=bt(Ue);return Ce!==Ue&&(Fe.set(Ue,Ce),$e.set(Ce,Ue)),Ce}const oe=Ue=>$e.get(Ue),mt=["get","getKey","getAll","getAllKeys","count"],Ne=["put","add","delete","clear"],Gt=new Map;function mn(Ue,Ce){if(!(Ue instanceof IDBDatabase)||Ce in Ue||"string"!=typeof Ce)return;if(Gt.get(Ce))return Gt.get(Ce);const ut=Ce.replace(/FromIndex$/,""),$t=Ce!==ut,Xt=Ne.includes(ut);if(!(ut in($t?IDBIndex:IDBObjectStore).prototype)||!Xt&&!mt.includes(ut))return;const Kt=function(){var jt=(0,D.Z)(function*(On,...An){const yr=this.transaction(On,Xt?"readwrite":"readonly");let ti=yr.store;return $t&&(ti=ti.index(An.shift())),(yield Promise.all([ti[ut](...An),Xt&&yr.done]))[0]});return function(An){return jt.apply(this,arguments)}}();return Gt.set(Ce,Kt),Kt}!function gt(Ue){Me=Ue(Me)}(Ue=>({...Ue,get:(Ce,ut,$t)=>mn(Ce,ut)||Ue.get(Ce,ut,$t),has:(Ce,ut)=>!!mn(Ce,ut)||Ue.has(Ce,ut)}));class At{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function gn(Ue){return"VERSION"===Ue.getComponent()?.type}(ut)){const $t=ut.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(ut=>ut).join(" ")}}const Et="@firebase/app",je=new q.Yd("@firebase/app"),li="[DEFAULT]",Ii={[Et]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bn=new Map,cn=new Map;function Ft(Ue,Ce){try{Ue.container.addComponent(Ce)}catch(ut){je.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Ue.name}`,ut)}}function Fr(Ue){const Ce=Ue.name;if(cn.has(Ce))return je.debug(`There were multiple attempts to register component ${Ce}.`),!1;cn.set(Ce,Ue);for(const ut of bn.values())Ft(ut,Ue);return!0}function nr(Ue,Ce){const ut=Ue.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),Ue.container.getProvider(Ce)}const or=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zn{constructor(Ce,ut,$t){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const Hn="9.21.0";function an(Ue,Ce={}){let ut=Ue;"object"!=typeof Ce&&(Ce={name:Ce});const $t=Object.assign({name:li,automaticDataCollectionEnabled:!1},Ce),Xt=$t.name;if("string"!=typeof Xt||!Xt)throw or.create("bad-app-name",{appName:String(Xt)});if(ut||(ut=(0,ie.aH)()),!ut)throw or.create("no-options");const Kt=bn.get(Xt);if(Kt){if((0,ie.vZ)(ut,Kt.options)&&(0,ie.vZ)($t,Kt.config))return Kt;throw or.create("duplicate-app",{appName:Xt})}const jt=new k.H0(Xt);for(const An of cn.values())jt.addComponent(An);const On=new zn(ut,$t,jt);return bn.set(Xt,On),On}function Dr(Ue=li){const Ce=bn.get(Ue);if(!Ce&&Ue===li)return an();if(!Ce)throw or.create("no-app",{appName:Ue});return Ce}function _n(){return Array.from(bn.values())}function Br(Ue,Ce,ut){var $t;let Xt=null!==($t=Ii[Ue])&&void 0!==$t?$t:Ue;ut&&(Xt+=`-${ut}`);const Kt=Xt.match(/\s|\//),jt=Ce.match(/\s|\//);if(Kt||jt){const On=[`Unable to register library "${Xt}" with version "${Ce}":`];return Kt&&On.push(`library name "${Xt}" contains illegal characters (whitespace or "/")`),Kt&&jt&&On.push("and"),jt&&On.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void je.warn(On.join(" "))}Fr(new k.wA(`${Xt}-version`,()=>({library:Xt,version:Ce}),"VERSION"))}const Hr="firebase-heartbeat-database",$r=1,ne="firebase-heartbeat-store";let X=null;function le(){return X||(X=function ze(Ue,Ce,{blocked:ut,upgrade:$t,blocking:Xt,terminated:Kt}={}){const jt=indexedDB.open(Ue,Ce),On=be(jt);return $t&&jt.addEventListener("upgradeneeded",An=>{$t(be(jt.result),An.oldVersion,An.newVersion,be(jt.transaction),An)}),ut&&jt.addEventListener("blocked",An=>ut(An.oldVersion,An.newVersion,An)),On.then(An=>{Kt&&An.addEventListener("close",()=>Kt()),Xt&&An.addEventListener("versionchange",yr=>Xt(yr.oldVersion,yr.newVersion,yr))}).catch(()=>{}),On}(Hr,$r,{upgrade:(Ue,Ce)=>{0===Ce&&Ue.createObjectStore(ne)}}).catch(Ue=>{throw or.create("idb-open",{originalErrorMessage:Ue.message})})),X}function Ie(){return(Ie=(0,D.Z)(function*(Ue){try{return(yield le()).transaction(ne).objectStore(ne).get(se(Ue))}catch(Ce){if(Ce instanceof ie.ZR)je.warn(Ce.message);else{const ut=or.create("idb-get",{originalErrorMessage:Ce?.message});je.warn(ut.message)}}})).apply(this,arguments)}function tt(Ue,Ce){return ue.apply(this,arguments)}function ue(){return(ue=(0,D.Z)(function*(Ue,Ce){try{const $t=(yield le()).transaction(ne,"readwrite");return yield $t.objectStore(ne).put(Ce,se(Ue)),$t.done}catch(ut){if(ut instanceof ie.ZR)je.warn(ut.message);else{const $t=or.create("idb-set",{originalErrorMessage:ut?.message});je.warn($t.message)}}})).apply(this,arguments)}function se(Ue){return`${Ue.name}!${Ue.options.appId}`}class Be{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new xn(ut),this._heartbeatsCachePromise=this._storage.read().then($t=>(this._heartbeatsCache=$t,$t))}triggerHeartbeat(){var Ce=this;return(0,D.Z)(function*(){const $t=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Xt=nt();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Xt&&!Ce._heartbeatsCache.heartbeats.some(Kt=>Kt.date===Xt))return Ce._heartbeatsCache.heartbeats.push({date:Xt,agent:$t}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Kt=>{const jt=new Date(Kt.date).valueOf();return Date.now()-jt<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,D.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const ut=nt(),{heartbeatsToSend:$t,unsentEntries:Xt}=function Zt(Ue,Ce=1024){const ut=[];let $t=Ue.slice();for(const Xt of Ue){const Kt=ut.find(jt=>jt.agent===Xt.agent);if(Kt){if(Kt.dates.push(Xt.date),Qn(ut)>Ce){Kt.dates.pop();break}}else if(ut.push({agent:Xt.agent,dates:[Xt.date]}),Qn(ut)>Ce){ut.pop();break}$t=$t.slice(1)}return{heartbeatsToSend:ut,unsentEntries:$t}}(Ce._heartbeatsCache.heartbeats),Kt=(0,ie.L)(JSON.stringify({version:2,heartbeats:$t}));return Ce._heartbeatsCache.lastSentHeartbeatDate=ut,Xt.length>0?(Ce._heartbeatsCache.heartbeats=Xt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Kt})()}}function nt(){return(new Date).toISOString().substring(0,10)}class xn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,D.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,D.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function We(Ue){return Ie.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var ut=this;return(0,D.Z)(function*(){var $t;if(yield ut._canUseIndexedDBPromise){const Kt=yield ut.read();return tt(ut.app,{lastSentHeartbeatDate:null!==($t=Ce.lastSentHeartbeatDate)&&void 0!==$t?$t:Kt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var ut=this;return(0,D.Z)(function*(){var $t;if(yield ut._canUseIndexedDBPromise){const Kt=yield ut.read();return tt(ut.app,{lastSentHeartbeatDate:null!==($t=Ce.lastSentHeartbeatDate)&&void 0!==$t?$t:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Ce.heartbeats]})}})()}}function Qn(Ue){return(0,ie.L)(JSON.stringify({version:2,heartbeats:Ue})).length}!function Mi(Ue){Fr(new k.wA("platform-logger",Ce=>new At(Ce),"PRIVATE")),Fr(new k.wA("heartbeat",Ce=>new Be(Ce),"PRIVATE")),Br(Et,"0.9.9",Ue),Br(Et,"0.9.9","esm2017"),Br("fire-js","")}("")},4859:(Dt,Pe,O)=>{O.d(Pe,{H0:()=>_e,wA:()=>q});var D=O(5861),k=O(2090);class q{constructor(te,ee,me){this.name=te,this.instanceFactory=ee,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const ie="[DEFAULT]";class re{constructor(te,ee){this.name=te,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ee=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ee)){const me=new k.BH;if(this.instancesDeferred.set(ee,me),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:ee});Fe&&me.resolve(Fe)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(te){var ee;const me=this.normalizeInstanceIdentifier(te?.identifier),Fe=null!==(ee=te?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch($e){if(Fe)return null;throw $e}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function ye(Te){return"EAGER"===Te.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[ee,me]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(ee);try{const $e=this.getOrInitializeService({instanceIdentifier:Fe});me.resolve($e)}catch{}}}}clearInstance(te=ie){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,D.Z)(function*(){const ee=Array.from(te.instances.values());yield Promise.all([...ee.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...ee.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=ie){return this.instances.has(te)}getOptions(te=ie){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ee={}}=te,me=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:me,options:ee});for(const[$e,Ge]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier($e)&&Ge.resolve(Fe);return Fe}onInit(te,ee){var me;const Fe=this.normalizeInstanceIdentifier(ee),$e=null!==(me=this.onInitCallbacks.get(Fe))&&void 0!==me?me:new Set;$e.add(te),this.onInitCallbacks.set(Fe,$e);const Ge=this.instances.get(Fe);return Ge&&te(Ge,Fe),()=>{$e.delete(te)}}invokeOnInitCallbacks(te,ee){const me=this.onInitCallbacks.get(ee);if(me)for(const Fe of me)try{Fe(te,ee)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ee={}}){let me=this.instances.get(te);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=te,Te===ie?void 0:Te),options:ee}),this.instances.set(te,me),this.instancesOptions.set(te,ee),this.invokeOnInitCallbacks(me,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,me)}catch{}var Te;return me||null}normalizeInstanceIdentifier(te=ie){return this.component?this.component.multipleInstances?te:ie:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ee=this.getProvider(te.name);if(ee.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ee.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ee=new re(te,this);return this.providers.set(te,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(Dt,Pe,O)=>{O.d(Pe,{Yd:()=>ye,in:()=>k});const D=[];var k=(()=>{return(te=k||(k={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",k;var te})();const q={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},ie=k.INFO,re={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},he=(te,ee,...me)=>{if(ee<te.logLevel)return;const Fe=(new Date).toISOString(),$e=re[ee];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[$e](`[${Fe}]  ${te.name}:`,...me)};class ye{constructor(ee){this.name=ee,this._logLevel=ie,this._logHandler=he,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in k))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?q[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...ee),this._logHandler(this,k.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...ee),this._logHandler(this,k.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,k.INFO,...ee),this._logHandler(this,k.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,k.WARN,...ee),this._logHandler(this,k.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...ee),this._logHandler(this,k.ERROR,...ee)}}},259:(Dt,Pe,O)=>{O.d(Pe,{C6:()=>D.C6,KN:()=>D.KN,Mq:()=>D.Mq,ZF:()=>D.ZF});var D=O(2951);(0,D.KN)("firebase","9.21.0","app")},9165:(Dt,Pe,O)=>{O.d(Pe,{hJ:()=>Ha,Xb:()=>Mo,v0:()=>ra,e5:()=>ls,rh:()=>Ni,w7:()=>Je});var D=O(5861),k=O(2090),q=O(2951),ie=O(655),re=O(1877),he=O(4859);const Ge=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gt=new re.Yd("@firebase/auth");function bt(w,...f){gt.logLevel<=re.in.ERROR&&gt.error(`Auth (${q.Jn}): ${w}`,...f)}function be(w,...f){throw mt(w,...f)}function oe(w,...f){return mt(w,...f)}function ze(w,f,g){const T=Object.assign(Object.assign({},Ge()),{[f]:g});return new k.LL("auth","Firebase",T).create(f,{appName:w.name})}function mt(w,...f){if("string"!=typeof w){const g=f[0],T=[...f.slice(1)];return T[0]&&(T[0].appName=w.name),w._errorFactory.create(g,...T)}return _t.create(w,...f)}function Ne(w,f,...g){if(!w)throw mt(f,...g)}function Gt(w){const f="INTERNAL ASSERTION FAILED: "+w;throw bt(f),new Error(f)}function mn(w,f){w||Gt(f)}function At(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Et(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ye{constructor(f,g){this.shortDelay=f,this.longDelay=g,mn(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Le(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function gn(){return"http:"===Et()||"https:"===Et()}()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function et(w,f){mn(w.emulator,"Emulator should always be set here");const{url:g}=w.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class yt{static initialize(f,g,T){this.fetchImpl=f,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ht={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bt=new Ye(3e4,6e4);function pt(w,f){return w.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:w.tenantId}):f}function rn(w,f,g,T){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,D.Z)(function*(w,f,g,T,B={}){return vn(w,B,(0,D.Z)(function*(){let H={},ve={};T&&("GET"===f?ve=T:H={body:JSON.stringify(T)});const ke=(0,k.xO)(Object.assign({key:w.config.apiKey},ve)).slice(1),wt=yield w._getAdditionalHeaders();return wt["Content-Type"]="application/json",w.languageCode&&(wt["X-Firebase-Locale"]=w.languageCode),yt.fetch()(Wn(w,w.config.apiHost,g,ke),Object.assign({method:f,headers:wt,referrerPolicy:"no-referrer"},H))}))})).apply(this,arguments)}function vn(w,f,g){return lt.apply(this,arguments)}function lt(){return(lt=(0,D.Z)(function*(w,f,g){w._canInitEmulator=!1;const T=Object.assign(Object.assign({},ht),f);try{const B=new Rr(w),H=yield Promise.race([g(),B.promise]);B.clearNetworkTimeout();const ve=yield H.json();if("needConfirmation"in ve)throw er(w,"account-exists-with-different-credential",ve);if(H.ok&&!("errorMessage"in ve))return ve;{const ke=H.ok?ve.errorMessage:ve.error.message,[wt,Nt]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wt)throw er(w,"credential-already-in-use",ve);if("EMAIL_EXISTS"===wt)throw er(w,"email-already-in-use",ve);if("USER_DISABLED"===wt)throw er(w,"user-disabled",ve);const Yt=T[wt]||wt.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw ze(w,Yt,Nt);be(w,Yt)}}catch(B){if(B instanceof k.ZR)throw B;be(w,"network-request-failed",{message:String(B)})}})).apply(this,arguments)}function ln(w,f,g,T){return pr.apply(this,arguments)}function pr(){return(pr=(0,D.Z)(function*(w,f,g,T,B={}){const H=yield rn(w,f,g,T,B);return"mfaPendingCredential"in H&&be(w,"multi-factor-auth-required",{_serverResponse:H}),H})).apply(this,arguments)}function Wn(w,f,g,T){const B=`${f}${g}?${T}`;return w.config.emulator?et(w.config,B):`${w.config.apiScheme}://${B}`}class Rr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(oe(this.auth,"network-request-failed")),Bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function er(w,f,g){const T={appName:w.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const B=oe(w,f,T);return B.customData._tokenResponse=g,B}function Mr(){return(Mr=(0,D.Z)(function*(w,f){return rn(w,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Sn(){return(Sn=(0,D.Z)(function*(w,f){return rn(w,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Tt(w){if(w)try{const f=new Date(Number(w));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function cr(){return(cr=(0,D.Z)(function*(w,f=!1){const g=(0,k.m9)(w),T=yield g.getIdToken(f),B=Ii(T);Ne(B&&B.exp&&B.auth_time&&B.iat,g.auth,"internal-error");const H="object"==typeof B.firebase?B.firebase:void 0,ve=H?.sign_in_provider;return{claims:B,token:T,authTime:Tt(li(B.auth_time)),issuedAtTime:Tt(li(B.iat)),expirationTime:Tt(li(B.exp)),signInProvider:ve||null,signInSecondFactor:H?.sign_in_second_factor||null}})).apply(this,arguments)}function li(w){return 1e3*Number(w)}function Ii(w){const[f,g,T]=w.split(".");if(void 0===f||void 0===g||void 0===T)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,k.tV)(g);return B?JSON.parse(B):(bt("Failed to decode base64 JWT payload"),null)}catch(B){return bt("Caught error parsing JWT payload as JSON",B?.toString()),null}}function cn(w,f){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,D.Z)(function*(w,f,g=!1){if(g)return f;try{return yield f}catch(T){throw T instanceof k.ZR&&function en({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(T)&&w.auth.currentUser===w&&(yield w.auth.signOut()),T}})).apply(this,arguments)}class Fr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const B=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(f);this.timerId=setTimeout((0,D.Z)(function*(){yield g.iteration()}),T)}iteration(){var f=this;return(0,D.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class nr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tt(this.lastLoginAt),this.creationTime=Tt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vt(w){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,D.Z)(function*(w){var f;const g=w.auth,T=yield w.getIdToken(),B=yield cn(w,function Pr(w,f){return Sn.apply(this,arguments)}(g,{idToken:T}));Ne(B?.users.length,g,"internal-error");const H=B.users[0];w._notifyReloadListener(H);const ve=null!==(f=H.providerUserInfo)&&void 0!==f&&f.length?function Hn(w){return w.map(f=>{var{providerId:g}=f,T=(0,ie._T)(f,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(H.providerUserInfo):[],ke=function zn(w,f){return[...w.filter(T=>!f.some(B=>B.providerId===T.providerId)),...f]}(w.providerData,ve),Yt=!!w.isAnonymous&&!(w.email&&H.passwordHash||ke?.length),Ln={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:ke,metadata:new nr(H.createdAt,H.lastLoginAt),isAnonymous:Yt};Object.assign(w,Ln)}),Ur.apply(this,arguments)}function or(){return(or=(0,D.Z)(function*(w){const f=(0,k.m9)(w);yield Vt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Dr(){return(Dr=(0,D.Z)(function*(w,f){const g=yield vn(w,{},(0,D.Z)(function*(){const T=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:B,apiKey:H}=w.config,ve=Wn(w,B,"/v1/token",`key=${H}`),ke=yield w._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",yt.fetch()(ve,{method:"POST",headers:ke,body:T})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class _n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ne(f.idToken,"internal-error"),Ne(typeof f.idToken<"u","internal-error"),Ne(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function bn(w){const f=Ii(w);return Ne(f,"internal-error"),Ne(typeof f.exp<"u","internal-error"),Ne(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var T=this;return(0,D.Z)(function*(){return Ne(!T.accessToken||T.refreshToken,f,"user-token-expired"),g||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(f,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var T=this;return(0,D.Z)(function*(){const{accessToken:B,refreshToken:H,expiresIn:ve}=yield function an(w,f){return Dr.apply(this,arguments)}(f,g);T.updateTokensAndExpiration(B,H,Number(ve))})()}updateTokensAndExpiration(f,g,T){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(f,g){const{refreshToken:T,accessToken:B,expirationTime:H}=g,ve=new _n;return T&&(Ne("string"==typeof T,"internal-error",{appName:f}),ve.refreshToken=T),B&&(Ne("string"==typeof B,"internal-error",{appName:f}),ve.accessToken=B),H&&(Ne("number"==typeof H,"internal-error",{appName:f}),ve.expirationTime=H),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new _n,this.toJSON())}_performRefresh(){return Gt("not implemented")}}function Sr(w,f){Ne("string"==typeof w||typeof w>"u","internal-error",{appName:f})}class dr{constructor(f){var{uid:g,auth:T,stsTokenManager:B}=f,H=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=H.displayName||null,this.email=H.email||null,this.emailVerified=H.emailVerified||!1,this.phoneNumber=H.phoneNumber||null,this.photoURL=H.photoURL||null,this.isAnonymous=H.isAnonymous||!1,this.tenantId=H.tenantId||null,this.providerData=H.providerData?[...H.providerData]:[],this.metadata=new nr(H.createdAt||void 0,H.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,D.Z)(function*(){const T=yield cn(g,g.stsTokenManager.getToken(g.auth,f));return Ne(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(f){return function Wi(w){return cr.apply(this,arguments)}(this,f)}reload(){return function mr(w){return or.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ne(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new dr(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var T=this;return(0,D.Z)(function*(){let B=!1;f.idToken&&f.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(f),B=!0),g&&(yield Vt(T)),yield T.auth._persistUserIfCurrent(T),B&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var f=this;return(0,D.Z)(function*(){const g=yield f.getIdToken();return yield cn(f,function sr(w,f){return Mr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var T,B,H,ve,ke,wt,Nt,Yt;const Ln=null!==(T=g.displayName)&&void 0!==T?T:void 0,Xs=null!==(B=g.email)&&void 0!==B?B:void 0,ia=null!==(H=g.phoneNumber)&&void 0!==H?H:void 0,dl=null!==(ve=g.photoURL)&&void 0!==ve?ve:void 0,Bp=null!==(ke=g.tenantId)&&void 0!==ke?ke:void 0,Nu=null!==(wt=g._redirectEventId)&&void 0!==wt?wt:void 0,hl=null!==(Nt=g.createdAt)&&void 0!==Nt?Nt:void 0,id=null!==(Yt=g.lastLoginAt)&&void 0!==Yt?Yt:void 0,{uid:Zd,emailVerified:zr,isAnonymous:vo,providerData:fl,stsTokenManager:Kl}=g;Ne(Zd&&Kl,f,"internal-error");const sd=_n.fromJSON(this.name,Kl);Ne("string"==typeof Zd,f,"internal-error"),Sr(Ln,f.name),Sr(Xs,f.name),Ne("boolean"==typeof zr,f,"internal-error"),Ne("boolean"==typeof vo,f,"internal-error"),Sr(ia,f.name),Sr(dl,f.name),Sr(Bp,f.name),Sr(Nu,f.name),Sr(hl,f.name),Sr(id,f.name);const Ic=new dr({uid:Zd,auth:f,email:Xs,emailVerified:zr,displayName:Ln,isAnonymous:vo,photoURL:dl,phoneNumber:ia,tenantId:Bp,stsTokenManager:sd,createdAt:hl,lastLoginAt:id});return fl&&Array.isArray(fl)&&(Ic.providerData=fl.map(Ou=>Object.assign({},Ou))),Nu&&(Ic._redirectEventId=Nu),Ic}static _fromIdTokenResponse(f,g,T=!1){return(0,D.Z)(function*(){const B=new _n;B.updateFromServerResponse(g);const H=new dr({uid:g.localId,auth:f,stsTokenManager:B,isAnonymous:T});return yield Vt(H),H})()}}const Br=new Map;function Vr(w){mn(w instanceof Function,"Expected a class definition");let f=Br.get(w);return f?(mn(f instanceof w,"Instance stored in cache mismatched with class"),f):(f=new w,Br.set(w,f),f)}const Hr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.Z)(function*(){return!0})()}_set(g,T){var B=this;return(0,D.Z)(function*(){B.storage[g]=T})()}_get(g){var T=this;return(0,D.Z)(function*(){const B=T.storage[g];return void 0===B?null:B})()}_remove(g){var T=this;return(0,D.Z)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return w.type="NONE",w})();function $r(w,f,g){return`firebase:${w}:${f}:${g}`}class ne{constructor(f,g,T){this.persistence=f,this.auth=g,this.userKey=T;const{config:B,name:H}=this.auth;this.fullUserKey=$r(this.userKey,B.apiKey,H),this.fullPersistenceKey=$r("persistence",B.apiKey,H),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,D.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?dr._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,D.Z)(function*(){if(g.persistence===f)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,T="authUser"){return(0,D.Z)(function*(){if(!g.length)return new ne(Vr(Hr),f,T);const B=(yield Promise.all(g.map(function(){var Nt=(0,D.Z)(function*(Yt){if(yield Yt._isAvailable())return Yt});return function(Yt){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let H=B[0]||Vr(Hr);const ve=$r(T,f.config.apiKey,f.name);let ke=null;for(const Nt of g)try{const Yt=yield Nt._get(ve);if(Yt){const Ln=dr._fromJSON(f,Yt);Nt!==H&&(ke=Ln),H=Nt;break}}catch{}const wt=B.filter(Nt=>Nt._shouldAllowMigration);return H._shouldAllowMigration&&wt.length?(H=wt[0],ke&&(yield H._set(ve,ke.toJSON())),yield Promise.all(g.map(function(){var Nt=(0,D.Z)(function*(Yt){if(Yt!==H)try{yield Yt._remove(ve)}catch{}});return function(Yt){return Nt.apply(this,arguments)}}())),new ne(H,f,T)):new ne(H,f,T)})()}}function X(w){const f=w.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(tt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(le(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(se(f))return"Blackberry";if(K(f))return"Webos";if(We(f))return"Safari";if((f.includes("chrome/")||Ie(f))&&!f.includes("edge/"))return"Chrome";if(ue(f))return"Android";{const T=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function le(w=(0,k.z$)()){return/firefox\//i.test(w)}function We(w=(0,k.z$)()){const f=w.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ie(w=(0,k.z$)()){return/crios\//i.test(w)}function tt(w=(0,k.z$)()){return/iemobile/i.test(w)}function ue(w=(0,k.z$)()){return/android/i.test(w)}function se(w=(0,k.z$)()){return/blackberry/i.test(w)}function K(w=(0,k.z$)()){return/webos/i.test(w)}function fe(w=(0,k.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function xn(w=(0,k.z$)()){return fe(w)||ue(w)||K(w)||se(w)||/windows phone/i.test(w)||tt(w)}function Mi(w,f=[]){let g;switch(w){case"Browser":g=X((0,k.z$)());break;case"Worker":g=`${X((0,k.z$)())}-${w}`;break;default:g=w}const T=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${q.Jn}/${T}`}function ut(w,f){return $t.apply(this,arguments)}function $t(){return($t=(0,D.Z)(function*(w,f){return rn(w,"GET","/v2/recaptchaConfig",pt(w,f))})).apply(this,arguments)}function Kt(w){return void 0!==w&&void 0!==w.enterprise}class jt{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function An(w){return new Promise((f,g)=>{const T=document.createElement("script");T.setAttribute("src",w),T.onload=f,T.onerror=B=>{const H=oe("internal-error");H.customData=B,g(H)},T.type="text/javascript",T.charset="UTF-8",function On(){var w,f;return null!==(f=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==f?f:document}().appendChild(T)})}function yr(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Hu="NO_RECAPTCHA";class so{constructor(f){this.type="recaptcha-enterprise",this.auth=Kn(f)}verify(f="verify",g=!1){var T=this;return(0,D.Z)(function*(){function H(){return H=(0,D.Z)(function*(ke){if(!g){if(null==ke.tenantId&&null!=ke._agentRecaptchaConfig)return ke._agentRecaptchaConfig.siteKey;if(null!=ke.tenantId&&void 0!==ke._tenantRecaptchaConfigs[ke.tenantId])return ke._tenantRecaptchaConfigs[ke.tenantId].siteKey}return new Promise(function(){var wt=(0,D.Z)(function*(Nt,Yt){ut(ke,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ln=>{if(void 0!==Ln.recaptchaKey){const Xs=new jt(Ln);return null==ke.tenantId?ke._agentRecaptchaConfig=Xs:ke._tenantRecaptchaConfigs[ke.tenantId]=Xs,Nt(Xs.siteKey)}Yt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ln=>{Yt(Ln)})});return function(Nt,Yt){return wt.apply(this,arguments)}}())}),H.apply(this,arguments)}function ve(ke,wt,Nt){const Yt=window.grecaptcha;Kt(Yt)?Yt.enterprise.ready(()=>{Yt.enterprise.execute(ke,{action:f}).then(Ln=>{wt(Ln)}).catch(()=>{wt(Hu)})}):Nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ke,wt)=>{(function B(ke){return H.apply(this,arguments)})(T.auth).then(Nt=>{if(!g&&Kt(window.grecaptcha))ve(Nt,ke,wt);else{if(typeof window>"u")return void wt(new Error("RecaptchaVerifier is only supported in browser"));An("https://www.google.com/recaptcha/enterprise.js?render="+Nt).then(()=>{ve(Nt,ke,wt)}).catch(Yt=>{wt(Yt)})}}).catch(Nt=>{wt(Nt)})})})()}}function _r(w,f,g){return It.apply(this,arguments)}function It(){return(It=(0,D.Z)(function*(w,f,g,T=!1){const B=new so(w);let H;try{H=yield B.verify(g)}catch{H=yield B.verify(g,!0)}const ve=Object.assign({},f);return Object.assign(ve,T?{captchaResp:H}:{captchaResponse:H}),Object.assign(ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ve})).apply(this,arguments)}class En{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const T=H=>new Promise((ve,ke)=>{try{ve(f(H))}catch(wt){ke(wt)}});T.onAbort=g,this.queue.push(T);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,D.Z)(function*(){if(g.auth.currentUser===f)return;const T=[];try{for(const B of g.queue)yield B(f),B.onAbort&&T.push(B.onAbort)}catch(B){T.reverse();for(const H of T)try{H()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:B?.message})}})()}}class ar{constructor(f,g,T,B){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=T,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ki(this),this.idTokenSubscription=new Ki(this),this.beforeStateQueue=new En(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(f,g){var T=this;return g&&(this._popupRedirectResolver=Vr(g)),this._initializationPromise=this.queue((0,D.Z)(function*(){var B,H;if(!T._deleted&&(T.persistenceManager=yield ne.create(T,f),!T._deleted)){if(null!==(B=T._popupRedirectResolver)&&void 0!==B&&B._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(H=T.currentUser)||void 0===H?void 0:H.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,D.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,D.Z)(function*(){var T;const B=yield g.assertedPersistence.getCurrentUser();let H=B,ve=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ke=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,wt=H?._redirectEventId,Nt=yield g.tryRedirectSignIn(f);(!ke||ke===wt)&&Nt?.user&&(H=Nt.user,ve=!0)}if(!H)return g.directlySetCurrentUser(null);if(!H._redirectEventId){if(ve)try{yield g.beforeStateQueue.runMiddleware(H)}catch(ke){H=B,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ke))}return H?g.reloadAndSetCurrentUserOrClear(H):g.directlySetCurrentUser(null)}return Ne(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===H._redirectEventId?g.directlySetCurrentUser(H):g.reloadAndSetCurrentUserOrClear(H)})()}tryRedirectSignIn(f){var g=this;return(0,D.Z)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,D.Z)(function*(){try{yield Vt(f)}catch(T){if("auth/network-request-failed"!==T?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var f=this;return(0,D.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,D.Z)(function*(){const T=f?(0,k.m9)(f):null;return T&&Ne(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(f,g=!1){var T=this;return(0,D.Z)(function*(){if(!T._deleted)return f&&Ne(T.tenantId===f.tenantId,T,"tenant-id-mismatch"),g||(yield T.beforeStateQueue.runMiddleware(f)),T.queue((0,D.Z)(function*(){yield T.directlySetCurrentUser(f),T.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,D.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,D.Z)(function*(){yield g.assertedPersistence.setPersistence(Vr(f))}))}initializeRecaptchaConfig(){var f=this;return(0,D.Z)(function*(){const g=yield ut(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new jt(g);null==f.tenantId?f._agentRecaptchaConfig=T:f._tenantRecaptchaConfigs[f.tenantId]=T,T.emailPasswordEnabled&&new so(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,T){return this.registerStateListener(this.authStateSubscription,f,g,T)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,T){return this.registerStateListener(this.idTokenSubscription,f,g,T)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var T=this;return(0,D.Z)(function*(){const B=yield T.getOrInitRedirectPersistenceManager(g);return null===f?B.removeCurrentUser():B.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,D.Z)(function*(){if(!g.redirectPersistenceManager){const T=f&&Vr(f)||g._popupRedirectResolver;Ne(T,g,"argument-error"),g.redirectPersistenceManager=yield ne.create(g,[Vr(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,D.Z)(function*(){var T,B;return g._isInitialized&&(yield g.queue((0,D.Z)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===f?g._currentUser:(null===(B=g.redirectUser)||void 0===B?void 0:B._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,D.Z)(function*(){if(f===g.currentUser)return g.queue((0,D.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,T,B){if(this._deleted)return()=>{};const H="function"==typeof g?g:g.next.bind(g),ve=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(ve,this,"internal-error"),ve.then(()=>H(this.currentUser)),"function"==typeof g?f.addObserver(g,T,B):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,D.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Mi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,D.Z)(function*(){var g;const T={"X-Client-Version":f.clientVersion};f.app.options.appId&&(T["X-Firebase-gmpid"]=f.app.options.appId);const B=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();B&&(T["X-Firebase-Client"]=B);const H=yield f._getAppCheckToken();return H&&(T["X-Firebase-AppCheck"]=H),T})()}_getAppCheckToken(){var f=this;return(0,D.Z)(function*(){var g;const T=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return T?.error&&function dt(w,...f){gt.logLevel<=re.in.WARN&&gt.warn(`Auth (${q.Jn}): ${w}`,...f)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function Kn(w){return(0,k.m9)(w)}class Ki{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function we(w){const f=w.indexOf(":");return f<0?"":w.substr(0,f+1)}function pe(w){if(!w)return null;const f=Number(w);return isNaN(f)?null:f}class at{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Gt("not implemented")}_getIdTokenResponse(f){return Gt("not implemented")}_linkToIdToken(f,g){return Gt("not implemented")}_getReauthenticationResolver(f){return Gt("not implemented")}}function dn(w,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,D.Z)(function*(w,f){return rn(w,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Yr(w,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,D.Z)(function*(w,f){return ln(w,"POST","/v1/accounts:signInWithPassword",pt(w,f))})).apply(this,arguments)}function js(){return(js=(0,D.Z)(function*(w,f){return ln(w,"POST","/v1/accounts:signInWithEmailLink",pt(w,f))})).apply(this,arguments)}function os(){return(os=(0,D.Z)(function*(w,f){return ln(w,"POST","/v1/accounts:signInWithEmailLink",pt(w,f))})).apply(this,arguments)}class $i extends at{constructor(f,g,T,B=null){super("password",T),this._email=f,this._password=g,this._tenantId=B}static _fromEmailAndPassword(f,g){return new $i(f,g,"password")}static _fromEmailAndCode(f,g,T=null){return new $i(f,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,D.Z)(function*(){var T;switch(g.signInMethod){case"password":const B={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=f._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const H=yield _r(f,B,"signInWithPassword");return Yr(f,H)}return Yr(f,B).catch(function(){var H=(0,D.Z)(function*(ve){if("auth/missing-recaptcha-token"===ve.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ke=yield _r(f,B,"signInWithPassword");return Yr(f,ke)}return Promise.reject(ve)});return function(ve){return H.apply(this,arguments)}}());case"emailLink":return function Vi(w,f){return js.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:be(f,"internal-error")}})()}_linkToIdToken(f,g){var T=this;return(0,D.Z)(function*(){switch(T.signInMethod){case"password":return dn(f,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function gs(w,f){return os.apply(this,arguments)}(f,{idToken:g,email:T._email,oobCode:T._password});default:be(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function zs(w,f){return fa.apply(this,arguments)}function fa(){return(fa=(0,D.Z)(function*(w,f){return ln(w,"POST","/v1/accounts:signInWithIdp",pt(w,f))})).apply(this,arguments)}class Hs extends at{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Hs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):be("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:T,signInMethod:B}=g,H=(0,ie._T)(g,["providerId","signInMethod"]);if(!T||!B)return null;const ve=new Hs(T,B);return ve.idToken=H.idToken||void 0,ve.accessToken=H.accessToken||void 0,ve.secret=H.secret,ve.nonce=H.nonce,ve.pendingToken=H.pendingToken||null,ve}_getIdTokenResponse(f){return zs(f,this.buildRequest())}_linkToIdToken(f,g){const T=this.buildRequest();return T.idToken=g,zs(f,T)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,zs(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}class So{constructor(f){var g,T,B,H,ve,ke;const wt=(0,k.zd)((0,k.pd)(f)),Nt=null!==(g=wt.apiKey)&&void 0!==g?g:null,Yt=null!==(T=wt.oobCode)&&void 0!==T?T:null,Ln=function Ko(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=wt.mode)&&void 0!==B?B:null);Ne(Nt&&Yt&&Ln,"argument-error"),this.apiKey=Nt,this.operation=Ln,this.code=Yt,this.continueUrl=null!==(H=wt.continueUrl)&&void 0!==H?H:null,this.languageCode=null!==(ve=wt.languageCode)&&void 0!==ve?ve:null,this.tenantId=null!==(ke=wt.tenantId)&&void 0!==ke?ke:null}static parseLink(f){const g=function ja(w){const f=(0,k.zd)((0,k.pd)(w)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,T=(0,k.zd)((0,k.pd)(w)).deep_link_id;return(T?(0,k.zd)((0,k.pd)(T)).link:null)||T||g||f||w}(f);try{return new So(g)}catch{return null}}}let Ku=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(g,T){return $i._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const B=So.parseLink(T);return Ne(B,"argument-error"),$i._fromEmailAndCode(g,B.code,B.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class uo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class dc extends uo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}let Ha=(()=>{class w extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return Hs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:B}=g;if(!T&&!B)return null;try{return w.credential(T,B)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})();function Qo(w,f){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,D.Z)(function*(w,f){return ln(w,"POST","/v1/accounts:signUp",pt(w,f))})).apply(this,arguments)}class br{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,T,B=!1){return(0,D.Z)(function*(){const H=yield dr._fromIdTokenResponse(f,T,B),ve=ga(T);return new br({user:H,providerId:ve,_tokenResponse:T,operationType:g})})()}static _forOperation(f,g,T){return(0,D.Z)(function*(){yield f._updateTokensIfNecessary(T,!0);const B=ga(T);return new br({user:f,providerId:B,_tokenResponse:T,operationType:g})})()}}function ga(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}class Ss extends k.ZR{constructor(f,g,T,B){var H;super(g.code,g.message),this.operationType=T,this.user=B,Object.setPrototypeOf(this,Ss.prototype),this.customData={appName:f.name,tenantId:null!==(H=f.tenantId)&&void 0!==H?H:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(f,g,T,B){return new Ss(f,g,T,B)}}function ri(w,f,g,T){return("reauthenticate"===f?g._getReauthenticationResolver(w):g._getIdTokenResponse(w)).catch(H=>{throw"auth/multi-factor-auth-required"===H.code?Ss._fromErrorAndOperation(w,H,f,T):H})}function Gs(w,f){return ci.apply(this,arguments)}function ci(){return(ci=(0,D.Z)(function*(w,f,g=!1){const T=yield cn(w,f._linkToIdToken(w.auth,yield w.getIdToken()),g);return br._forOperation(w,"link",T)})).apply(this,arguments)}function ms(w,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,D.Z)(function*(w,f,g=!1){const{auth:T}=w,B="reauthenticate";try{const H=yield cn(w,ri(T,B,f,w),g);Ne(H.idToken,T,"internal-error");const ve=Ii(H.idToken);Ne(ve,T,"internal-error");const{sub:ke}=ve;return Ne(w.uid===ke,T,"user-mismatch"),br._forOperation(w,B,H)}catch(H){throw"auth/user-not-found"===H?.code&&be(T,"user-mismatch"),H}})).apply(this,arguments)}function Ws(w,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,D.Z)(function*(w,f,g=!1){const T="signIn",B=yield ri(w,T,f),H=yield br._fromIdTokenResponse(w,T,B);return g||(yield w._updateCurrentUser(H.user)),H})).apply(this,arguments)}function fn(w,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,D.Z)(function*(w,f){return Ws(Kn(w),f)})).apply(this,arguments)}function Mo(w,f,g){return mi.apply(this,arguments)}function mi(){return mi=(0,D.Z)(function*(w,f,g){var T;const B=Kn(w),H={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let ve;if(null!==(T=B._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Nt=yield _r(B,H,"signUpPassword");ve=Qo(B,Nt)}else ve=Qo(B,H).catch(function(){var Nt=(0,D.Z)(function*(Yt){if("auth/missing-recaptcha-token"===Yt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ln=yield _r(B,H,"signUpPassword");return Qo(B,Ln)}return Promise.reject(Yt)});return function(Yt){return Nt.apply(this,arguments)}}());const ke=yield ve.catch(Nt=>Promise.reject(Nt)),wt=yield br._fromIdTokenResponse(B,"signIn",ke);return yield B._updateCurrentUser(wt.user),wt}),mi.apply(this,arguments)}function ls(w,f,g){return fn((0,k.m9)(w),Ku.credential(f,g))}function Je(w){return(0,k.m9)(w).signOut()}const mo="__sak";class Ms{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(mo,"1"),this.storage.removeItem(mo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ja=(()=>{class w extends Ms{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fl(){const w=(0,k.z$)();return We(w)||fe(w)}()&&function Qn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const B=this.storage.getItem(T),H=this.localCache[T];B!==H&&g(T,H,B)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((ke,wt,Nt)=>{this.notifyListeners(ke,Nt)});const B=g.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(B);if(g.newValue!==ke)null!==g.newValue?this.storage.setItem(B,g.newValue):this.storage.removeItem(B);else if(this.localCache[B]===g.newValue&&!T)return}const H=()=>{const ke=this.storage.getItem(B);!T&&this.localCache[B]===ke||this.notifyListeners(B,ke)},ve=this.storage.getItem(B);!function Zt(){return(0,k.w1)()&&10===document.documentMode}()||ve===g.newValue||g.newValue===g.oldValue?H():setTimeout(H,10)}notifyListeners(g,T){this.localCache[g]=T;const B=this.listeners[g];if(B)for(const H of Array.from(B))H(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var B=()=>super._set,H=this;return(0,D.Z)(function*(){yield B().call(H,g,T),H.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,B=this;return(0,D.Z)(function*(){const H=yield T().call(B,g);return B.localCache[g]=JSON.stringify(H),H})()}_remove(g){var T=()=>super._remove,B=this;return(0,D.Z)(function*(){yield T().call(B,g),delete B.localCache[g]})()}}return w.type="LOCAL",w})(),Ps=(()=>{class w extends Ms{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return w.type="SESSION",w})();let Cu=(()=>{class w{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(H=>H.isListeningto(g));if(T)return T;const B=new w(g);return this.receivers.push(B),B}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,D.Z)(function*(){const B=g,{eventId:H,eventType:ve,data:ke}=B.data,wt=T.handlersMap[ve];if(!wt?.size)return;B.ports[0].postMessage({status:"ack",eventId:H,eventType:ve});const Nt=Array.from(wt).map(function(){var Ln=(0,D.Z)(function*(Xs){return Xs(B.origin,ke)});return function(Xs){return Ln.apply(this,arguments)}}()),Yt=yield function tl(w){return Promise.all(w.map(function(){var f=(0,D.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return f.apply(this,arguments)}}()))}(Nt);B.ports[0].postMessage({status:"done",eventId:H,eventType:ve,response:Yt})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function wa(w="",f=10){let g="";for(let T=0;T<f;T++)g+=Math.floor(10*Math.random());return w+g}class Bl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,T=50){var B=this;return(0,D.Z)(function*(){const H=typeof MessageChannel<"u"?new MessageChannel:null;if(!H)throw new Error("connection_unavailable");let ve,ke;return new Promise((wt,Nt)=>{const Yt=wa("",20);H.port1.start();const Ln=setTimeout(()=>{Nt(new Error("unsupported_event"))},T);ke={messageChannel:H,onMessage(Xs){const ia=Xs;if(ia.data.eventId===Yt)switch(ia.data.status){case"ack":clearTimeout(Ln),ve=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),wt(ia.data.response);break;default:clearTimeout(Ln),clearTimeout(ve),Nt(new Error("invalid_response"))}}},B.handlers.add(ke),H.port1.addEventListener("message",ke.onMessage),B.target.postMessage({eventType:f,eventId:Yt,data:g},[H.port2])}).finally(()=>{ke&&B.removeMessageHandler(ke)})})()}}function jr(){return window}function nl(){return typeof jr().WorkerGlobalScope<"u"&&"function"==typeof jr().importScripts}function eu(){return(eu=(0,D.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rl="firebaseLocalStorageDb",Ta=1,xs="firebaseLocalStorage",il="fbase_key";class Ca{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function fi(w,f){return w.transaction([xs],f?"readwrite":"readonly").objectStore(xs)}function yo(){const w=indexedDB.open(rl,Ta);return new Promise((f,g)=>{w.addEventListener("error",()=>{g(w.error)}),w.addEventListener("upgradeneeded",()=>{const T=w.result;try{T.createObjectStore(xs,{keyPath:il})}catch(B){g(B)}}),w.addEventListener("success",(0,D.Z)(function*(){const T=w.result;T.objectStoreNames.contains(xs)?f(T):(T.close(),yield function tu(){const w=indexedDB.deleteDatabase(rl);return new Ca(w).toPromise()}(),f(yield yo()))}))})}function pc(w,f,g){return No.apply(this,arguments)}function No(){return(No=(0,D.Z)(function*(w,f,g){const T=fi(w,!0).put({[il]:f,value:g});return new Ca(T).toPromise()})).apply(this,arguments)}function ko(){return(ko=(0,D.Z)(function*(w,f){const g=fi(w,!1).get(f),T=yield new Ca(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function sl(w,f){const g=fi(w,!0).delete(f);return new Ca(g).toPromise()}const $l=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,D.Z)(function*(){return g.db||(g.db=yield yo()),g.db})()}_withRetries(g){var T=this;return(0,D.Z)(function*(){let B=0;for(;;)try{const H=yield T._openDb();return yield g(H)}catch(H){if(B++>3)throw H;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,D.Z)(function*(){return nl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,D.Z)(function*(){g.receiver=Cu._getInstance(function Du(){return nl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var T=(0,D.Z)(function*(B,H){return{keyProcessed:(yield g._poll()).includes(H.key)}});return function(B,H){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,D.Z)(function*(B,H){return["keyChanged"]});return function(B,H){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,D.Z)(function*(){var T,B;if(g.activeServiceWorker=yield function Ia(){return eu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Bl(g.activeServiceWorker);const H=yield g.sender._send("ping",{},800);H&&null!==(T=H[0])&&void 0!==T&&T.fulfilled&&null!==(B=H[0])&&void 0!==B&&B.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,D.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Vl(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const g=yield yo();return yield pc(g,mo,"1"),yield sl(g,mo),!0}catch{}return!1})()}_withPendingWrite(g){var T=this;return(0,D.Z)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var B=this;return(0,D.Z)(function*(){return B._withPendingWrite((0,D.Z)(function*(){return yield B._withRetries(H=>pc(H,g,T)),B.localCache[g]=T,B.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,D.Z)(function*(){const B=yield T._withRetries(H=>function Oo(w,f){return ko.apply(this,arguments)}(H,g));return T.localCache[g]=B,B})()}_remove(g){var T=this;return(0,D.Z)(function*(){return T._withPendingWrite((0,D.Z)(function*(){return yield T._withRetries(B=>sl(B,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,D.Z)(function*(){const T=yield g._withRetries(ve=>{const ke=fi(ve,!1).getAll();return new Ca(ke).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const B=[],H=new Set;for(const{fbase_key:ve,value:ke}of T)H.add(ve),JSON.stringify(g.localCache[ve])!==JSON.stringify(ke)&&(g.notifyListeners(ve,ke),B.push(ve));for(const ve of Object.keys(g.localCache))g.localCache[ve]&&!H.has(ve)&&(g.notifyListeners(ve,null),B.push(ve));return B})()}notifyListeners(g,T){this.localCache[g]=T;const B=this.listeners[g];if(B)for(const H of Array.from(B))H(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Ke(w,f){return f?Vr(f):(Ne(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}yr("rcb"),new Ye(3e4,6e4);class rt extends at{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return zs(f,this._buildIdpRequest())}_linkToIdToken(f,g){return zs(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return zs(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function it(w){return Ws(w.auth,new rt(w),w.bypassAuthState)}function Rt(w){const{auth:f,user:g}=w;return Ne(g,f,"internal-error"),ms(g,new rt(w),w.bypassAuthState)}function Nr(w){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,D.Z)(function*(w){const{auth:f,user:g}=w;return Ne(g,f,"internal-error"),Gs(g,new rt(w),w.bypassAuthState)})).apply(this,arguments)}class Os{constructor(f,g,T,B,H=!1){this.auth=f,this.resolver=T,this.user=B,this.bypassAuthState=H,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,D.Z)(function*(T,B){f.pendingPromise={resolve:T,reject:B};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(H){f.reject(H)}});return function(T,B){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,D.Z)(function*(){const{urlResponse:T,sessionId:B,postBody:H,tenantId:ve,error:ke,type:wt}=f;if(ke)return void g.reject(ke);const Nt={auth:g.auth,requestUri:T,sessionId:B,tenantId:ve||void 0,postBody:H||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(wt)(Nt))}catch(Yt){g.reject(Yt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return it;case"linkViaPopup":case"linkViaRedirect":return Nr;case"reauthViaPopup":case"reauthViaRedirect":return Rt;default:be(this.auth,"internal-error")}}resolve(f){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ba=new Ye(2e3,1e4);function Ni(w,f,g){return ru.apply(this,arguments)}function ru(){return(ru=(0,D.Z)(function*(w,f,g){const T=Kn(w);!function ot(w,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&be(w,"argument-error"),ze(w,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(w,f,uo);const B=Ke(T,g);return new al(T,"signInViaPopup",f,B).executeNotNull()})).apply(this,arguments)}let al=(()=>{class w extends Os{constructor(g,T,B,H,ve){super(g,T,H,ve),this.provider=B,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var g=this;return(0,D.Z)(function*(){const T=yield g.execute();return Ne(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,D.Z)(function*(){mn(1===g.filter.length,"Popup operations only handle one event");const T=wa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(B=>{g.reject(B)}),g.resolver._isIframeWebStorageSupported(g.auth,B=>{B||g.reject(oe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,B;this.pollId=null!==(B=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==B&&B.closed?window.setTimeout(()=>{this.pollId=null,this.reject(oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,ba.get())};g()}}return w.currentPopupAction=null,w})();const ks="pendingRedirect",Aa=new Map;class ul extends Os{constructor(f,g,T=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,D.Z)(function*(){let T=Aa.get(g.auth._key());if(!T){try{const H=(yield function mc(w,f){return ll.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;T=()=>Promise.resolve(H)}catch(B){T=()=>Promise.reject(B)}Aa.set(g.auth._key(),T)}return g.bypassAuthState||Aa.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,T=this;return(0,D.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(T,f);if("unknown"!==f.type){if(f.eventId){const B=yield T.auth._redirectUserForId(f.eventId);if(B)return T.user=B,g().call(T,f);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function ll(){return(ll=(0,D.Z)(function*(w,f){const g=function zd(w){return $r(ks,w.config.apiKey,w.name)}(f),T=function lf(w){return Vr(w._redirectPersistence)}(w);if(!(yield T._isAvailable()))return!1;const B="true"===(yield T._get(g));return yield T._remove(g),B})).apply(this,arguments)}function Xc(w,f){Aa.set(w._key(),f)}function xp(w,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,D.Z)(function*(w,f,g=!1){const T=Kn(w),B=Ke(T,f),ve=yield new ul(T,B,g).execute();return ve&&!g&&(delete ve.user._redirectEventId,yield T._persistUserIfCurrent(ve.user),yield T._setRedirectUser(null,f)),ve})).apply(this,arguments)}class S{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(f,T)&&(g=!0,this.sendToConsumer(f,T),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Q(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V(w);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var T;if(f.error&&!V(f)){const B=(null===(T=f.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(oe(this.auth,B))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const T=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&T}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(x(f))}saveEventToCache(f){this.cachedEventUids.add(x(f)),this.lastProcessedEventTime=Date.now()}}function x(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(f=>f).join("-")}function V({type:w,error:f}){return"unknown"===w&&"auth/no-auth-event"===f?.code}function De(){return(De=(0,D.Z)(function*(w,f={}){return rn(w,"GET","/v1/projects",f)})).apply(this,arguments)}const Ze=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ut=/^https?/;function Qt(){return Qt=(0,D.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:f}=yield function ge(w){return De.apply(this,arguments)}(w);for(const g of f)try{if(zt(g))return}catch{}be(w,"unauthorized-domain")}),Qt.apply(this,arguments)}function zt(w){const f=At(),{protocol:g,hostname:T}=new URL(f);if(w.startsWith("chrome-extension://")){const ve=new URL(w);return""===ve.hostname&&""===T?"chrome-extension:"===g&&w.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&ve.hostname===T}if(!Ut.test(g))return!1;if(Ze.test(w))return T===w;const B=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(T)}const Tn=new Ye(3e4,6e4);function Ls(){const w=jr().___jsl;if(w?.H)for(const f of Object.keys(w.H))if(w.H[f].r=w.H[f].r||[],w.H[f].L=w.H[f].L||[],w.H[f].r=[...w.H[f].L],w.CP)for(let g=0;g<w.CP.length;g++)w.CP[g]=null}let Ma=null;const Zs=new Ye(5e3,15e3),ps="__/auth/iframe",pn="emulator/auth/iframe",Wd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Um(w){const f=w.config;Ne(f.authDomain,w,"auth-domain-config-required");const g=f.emulator?et(f,pn):`https://${w.config.authDomain}/${ps}`,T={apiKey:f.apiKey,appName:w.name,v:q.Jn},B=Jc.get(w.config.apiHost);B&&(T.eid=B);const H=w._getFrameworks();return H.length&&(T.fw=H.join(",")),`${g}?${(0,k.xO)(T).slice(1)}`}function ed(){return ed=(0,D.Z)(function*(w){const f=yield function ou(w){return Ma=Ma||function Ir(w){return new Promise((f,g)=>{var T,B,H;function ve(){Ls(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Ls(),g(oe(w,"network-request-failed"))},timeout:Tn.get()})}if(null!==(B=null===(T=jr().gapi)||void 0===T?void 0:T.iframes)&&void 0!==B&&B.Iframe)f(gapi.iframes.getContext());else{if(null===(H=jr().gapi)||void 0===H||!H.load){const ke=yr("iframefcb");return jr()[ke]=()=>{gapi.load?ve():g(oe(w,"network-request-failed"))},An(`https://apis.google.com/js/api.js?onload=${ke}`).catch(wt=>g(wt))}ve()}}).catch(f=>{throw Ma=null,f})}(w),Ma}(w),g=jr().gapi;return Ne(g,w,"internal-error"),f.open({where:document.body,url:Um(w),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wd,dontclear:!0},T=>new Promise(function(){var B=(0,D.Z)(function*(H,ve){yield T.restyle({setHideOnLeave:!1});const ke=oe(w,"network-request-failed"),wt=jr().setTimeout(()=>{ve(ke)},Zs.get());function Nt(){jr().clearTimeout(wt),H(T)}T.ping(Nt).then(Nt,()=>{ve(ke)})});return function(H,ve){return B.apply(this,arguments)}}()))}),ed.apply(this,arguments)}const Bm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fs=500,Kd=600,Hl="_blank",Gl="http://localhost";class Oi{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vc="__/auth/handler",Vm="emulator/auth/handler",Qd=encodeURIComponent("fac");function Np(w,f,g,T,B,H){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,D.Z)(function*(w,f,g,T,B,H){Ne(w.config.authDomain,w,"auth-domain-config-required"),Ne(w.config.apiKey,w,"invalid-api-key");const ve={apiKey:w.config.apiKey,appName:w.name,authType:g,redirectUrl:T,v:q.Jn,eventId:B};if(f instanceof uo){f.setDefaultLanguage(w.languageCode),ve.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(ve.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Yt,Ln]of Object.entries(H||{}))ve[Yt]=Ln}if(f instanceof dc){const Yt=f.getScopes().filter(Ln=>""!==Ln);Yt.length>0&&(ve.scopes=Yt.join(","))}w.tenantId&&(ve.tid=w.tenantId);const ke=ve;for(const Yt of Object.keys(ke))void 0===ke[Yt]&&delete ke[Yt];const wt=yield w._getAppCheckToken(),Nt=wt?`#${Qd}=${encodeURIComponent(wt)}`:"";return`${function $m({config:w}){return w.emulator?et(w,Vm):`https://${w.authDomain}/${vc}`}(w)}?${(0,k.xO)(ke).slice(1)}${Nt}`})).apply(this,arguments)}const Ec="webStorageSupport",cf=class jm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ps,this._completeRedirectFn=xp,this._overrideRedirectResult=Xc}_openPopup(f,g,T,B){var H=this;return(0,D.Z)(function*(){var ve;mn(null===(ve=H.eventManagers[f._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const ke=yield Np(f,g,T,At(),B);return function td(w,f,g,T=Fs,B=Kd){const H=Math.max((window.screen.availHeight-B)/2,0).toString(),ve=Math.max((window.screen.availWidth-T)/2,0).toString();let ke="";const wt=Object.assign(Object.assign({},Bm),{width:T.toString(),height:B.toString(),top:H,left:ve}),Nt=(0,k.z$)().toLowerCase();g&&(ke=Ie(Nt)?Hl:g),le(Nt)&&(f=f||Gl,wt.scrollbars="yes");const Yt=Object.entries(wt).reduce((Xs,[ia,dl])=>`${Xs}${ia}=${dl},`,"");if(function nt(w=(0,k.z$)()){var f;return fe(w)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Nt)&&"_self"!==ke)return function qd(w,f){const g=document.createElement("a");g.href=w,g.target=f;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(f||"",ke),new Oi(null);const Ln=window.open(f||"",ke,Yt);Ne(Ln,w,"popup-blocked");try{Ln.focus()}catch{}return new Oi(Ln)}(f,ke,wa())})()}_openRedirect(f,g,T,B){var H=this;return(0,D.Z)(function*(){return yield H._originValidation(f),function Si(w){jr().location.href=w}(yield Np(f,g,T,At(),B)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:B,promise:H}=this.eventManagers[g];return B?Promise.resolve(B):(mn(H,"If manager is not set, promise should be"),H)}const T=this.initAndGetManager(f);return this.eventManagers[g]={promise:T},T.catch(()=>{delete this.eventManagers[g]}),T}initAndGetManager(f){var g=this;return(0,D.Z)(function*(){const T=yield function pi(w){return ed.apply(this,arguments)}(f),B=new S(f);return T.register("authEvent",H=>(Ne(H?.authEvent,f,"invalid-auth-event"),{status:B.onEvent(H.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:B},g.iframes[f._key()]=T,B})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Ec,{type:Ec},B=>{var H;const ve=null===(H=B?.[0])||void 0===H?void 0:H[Ec];void 0!==ve&&g(!!ve),be(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function xt(w){return Qt.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return xn()||We()||fe()}};var xu="@firebase/auth";class cl{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,D.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(T=>{f(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hf=(0,k.Pz)("authIdTokenMaxAge")||300;let Up=null;const Hm=w=>function(){var f=(0,D.Z)(function*(g){const T=g&&(yield g.getIdTokenResult()),B=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(B&&B>hf)return;const H=T?.token;Up!==H&&(Up=H,yield fetch(w,{method:H?"POST":"DELETE",headers:H?{Authorization:`Bearer ${H}`}:{}}))});return function(g){return f.apply(this,arguments)}}();function ra(w=(0,q.Mq)()){const f=(0,q.qX)(w,"auth");if(f.isInitialized())return f.getImmediate();const g=function Gr(w,f){const g=(0,q.qX)(w,"auth");if(g.isInitialized()){const B=g.getImmediate(),H=g.getOptions();if((0,k.vZ)(H,f??{}))return B;be(B,"already-initialized")}return g.initialize({options:f})}(w,{popupRedirectResolver:cf,persistence:[$l,Ja,Ps]}),T=(0,k.Pz)("authTokenSyncURL");if(T){const H=Hm(T);(function M(w,f,g){(0,k.m9)(w).beforeAuthStateChanged(f,g)})(g,H,()=>H(g.currentUser)),function F(w,f,g,T){(0,k.m9)(w).onIdTokenChanged(f,g,T)}(g,ve=>H(ve))}const B=(0,k.q4)("auth");return B&&function tr(w,f,g){const T=Kn(w);Ne(T._canInitEmulator,T,"emulator-config-failed"),Ne(/^https?:\/\//.test(f),T,"invalid-emulator-scheme");const B=!!g?.disableWarnings,H=we(f),{host:ve,port:ke}=function ce(w){const f=we(w),g=/(\/\/)?([^?#/]+)/.exec(w.substr(f.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(T);if(B){const H=B[1];return{host:H,port:pe(T.substr(H.length+1))}}{const[H,ve]=T.split(":");return{host:H,port:pe(ve)}}}(f);T.config.emulator={url:`${H}//${ve}${null===ke?"":`:${ke}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ve,port:ke,protocol:H.replace(":",""),options:Object.freeze({disableWarnings:B})}),B||function Qe(){function w(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(g,`http://${B}`),g}!function Lp(w){(0,q.Xd)(new he.wA("auth",(f,{options:g})=>{const T=f.getProvider("app").getImmediate(),B=f.getProvider("heartbeat"),H=f.getProvider("app-check-internal"),{apiKey:ve,authDomain:ke}=T.options;Ne(ve&&!ve.includes(":"),"invalid-api-key",{appName:T.name}),Ne(!ke?.includes(":"),"argument-error",{appName:T.name});const wt={apiKey:ve,authDomain:ke,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mi(w)},Nt=new ar(T,B,H,wt);return function is(w,f){const g=f?.persistence||[],T=(Array.isArray(g)?g:[g]).map(Vr);f?.errorMap&&w._updateErrorMap(f.errorMap),w._initializeWithPersistence(T,f?.popupRedirectResolver)}(Nt,g),Nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,T)=>{f.getProvider("auth-internal").initialize()})),(0,q.Xd)(new he.wA("auth-internal",f=>{const g=Kn(f.getProvider("auth").getImmediate());return new cl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.KN)(xu,"0.23.1",function df(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,q.KN)(xu,"0.23.1","esm2017")}("Browser")},5861:(Dt,Pe,O)=>{function D(q,ie,re,he,ye,_e,Te){try{var te=q[_e](Te),ee=te.value}catch(me){return void re(me)}te.done?ie(ee):Promise.resolve(ee).then(he,ye)}function k(q){return function(){var ie=this,re=arguments;return new Promise(function(he,ye){var _e=q.apply(ie,re);function Te(ee){D(_e,he,ye,Te,te,"next",ee)}function te(ee){D(_e,he,ye,Te,te,"throw",ee)}Te(void 0)})}}O.d(Pe,{Z:()=>k})}},Dt=>{Dt(Dt.s=7814)}]);